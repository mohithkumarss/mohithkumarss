function h9(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function TC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Dm={},p9={get exports(){return Dm},set exports(n){Dm=n}},S_={},B={},m9={get exports(){return B},set exports(n){B=n}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg=Symbol.for("react.element"),g9=Symbol.for("react.portal"),v9=Symbol.for("react.fragment"),y9=Symbol.for("react.strict_mode"),_9=Symbol.for("react.profiler"),x9=Symbol.for("react.provider"),w9=Symbol.for("react.context"),S9=Symbol.for("react.forward_ref"),A9=Symbol.for("react.suspense"),b9=Symbol.for("react.memo"),M9=Symbol.for("react.lazy"),t3=Symbol.iterator;function C9(n){return n===null||typeof n!="object"?null:(n=t3&&n[t3]||n["@@iterator"],typeof n=="function"?n:null)}var fO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dO=Object.assign,hO={};function Ah(n,e,t){this.props=n,this.context=e,this.refs=hO,this.updater=t||fO}Ah.prototype.isReactComponent={};Ah.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Ah.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function pO(){}pO.prototype=Ah.prototype;function PC(n,e,t){this.props=n,this.context=e,this.refs=hO,this.updater=t||fO}var RC=PC.prototype=new pO;RC.constructor=PC;dO(RC,Ah.prototype);RC.isPureReactComponent=!0;var n3=Array.isArray,mO=Object.prototype.hasOwnProperty,DC={current:null},gO={key:!0,ref:!0,__self:!0,__source:!0};function vO(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)mO.call(e,r)&&!gO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Cg,type:n,key:s,ref:o,props:i,_owner:DC.current}}function E9(n,e){return{$$typeof:Cg,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function BC(n){return typeof n=="object"&&n!==null&&n.$$typeof===Cg}function T9(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var r3=/\/+/g;function ww(n,e){return typeof n=="object"&&n!==null&&n.key!=null?T9(""+n.key):e.toString(36)}function Iy(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Cg:case g9:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+ww(o,0):r,n3(i)?(t="",n!=null&&(t=n.replace(r3,"$&/")+"/"),Iy(i,e,t,"",function(c){return c})):i!=null&&(BC(i)&&(i=E9(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(r3,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",n3(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+ww(s,a);o+=Iy(s,e,t,l,i)}else if(l=C9(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+ww(s,a++),o+=Iy(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function iv(n,e,t){if(n==null)return n;var r=[],i=0;return Iy(n,r,"","",function(s){return e.call(t,s,i++)}),r}function P9(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var wi={current:null},Ly={transition:null},R9={ReactCurrentDispatcher:wi,ReactCurrentBatchConfig:Ly,ReactCurrentOwner:DC};Ft.Children={map:iv,forEach:function(n,e,t){iv(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return iv(n,function(){e++}),e},toArray:function(n){return iv(n,function(e){return e})||[]},only:function(n){if(!BC(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ft.Component=Ah;Ft.Fragment=v9;Ft.Profiler=_9;Ft.PureComponent=PC;Ft.StrictMode=y9;Ft.Suspense=A9;Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R9;Ft.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=dO({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=DC.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)mO.call(e,l)&&!gO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Cg,type:n.type,key:i,ref:s,props:r,_owner:o}};Ft.createContext=function(n){return n={$$typeof:w9,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:x9,_context:n},n.Consumer=n};Ft.createElement=vO;Ft.createFactory=function(n){var e=vO.bind(null,n);return e.type=n,e};Ft.createRef=function(){return{current:null}};Ft.forwardRef=function(n){return{$$typeof:S9,render:n}};Ft.isValidElement=BC;Ft.lazy=function(n){return{$$typeof:M9,_payload:{_status:-1,_result:n},_init:P9}};Ft.memo=function(n,e){return{$$typeof:b9,type:n,compare:e===void 0?null:e}};Ft.startTransition=function(n){var e=Ly.transition;Ly.transition={};try{n()}finally{Ly.transition=e}};Ft.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ft.useCallback=function(n,e){return wi.current.useCallback(n,e)};Ft.useContext=function(n){return wi.current.useContext(n)};Ft.useDebugValue=function(){};Ft.useDeferredValue=function(n){return wi.current.useDeferredValue(n)};Ft.useEffect=function(n,e){return wi.current.useEffect(n,e)};Ft.useId=function(){return wi.current.useId()};Ft.useImperativeHandle=function(n,e,t){return wi.current.useImperativeHandle(n,e,t)};Ft.useInsertionEffect=function(n,e){return wi.current.useInsertionEffect(n,e)};Ft.useLayoutEffect=function(n,e){return wi.current.useLayoutEffect(n,e)};Ft.useMemo=function(n,e){return wi.current.useMemo(n,e)};Ft.useReducer=function(n,e,t){return wi.current.useReducer(n,e,t)};Ft.useRef=function(n){return wi.current.useRef(n)};Ft.useState=function(n){return wi.current.useState(n)};Ft.useSyncExternalStore=function(n,e,t){return wi.current.useSyncExternalStore(n,e,t)};Ft.useTransition=function(){return wi.current.useTransition()};Ft.version="18.2.0";(function(n){n.exports=Ft})(m9);const Q=TC(B),D9=h9({__proto__:null,default:Q},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B9=B,I9=Symbol.for("react.element"),L9=Symbol.for("react.fragment"),k9=Object.prototype.hasOwnProperty,O9=B9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,F9={key:!0,ref:!0,__self:!0,__source:!0};function yO(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)k9.call(e,r)&&!F9.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:I9,type:n,key:s,ref:o,props:i,_owner:O9.current}}S_.Fragment=L9;S_.jsx=yO;S_.jsxs=yO;(function(n){n.exports=S_})(p9);const A_=Dm.Fragment,pe=Dm.jsx,Ct=Dm.jsxs;var kA={},Hu={},N9={get exports(){return Hu},set exports(n){Hu=n}},ps={},OA={},U9={get exports(){return OA},set exports(n){OA=n}},_O={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(z,U){var V=z.length;z.push(U);e:for(;0<V;){var G=V-1>>>1,X=z[G];if(0<i(X,U))z[G]=U,z[V]=X,V=G;else break e}}function t(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var U=z[0],V=z.pop();if(V!==U){z[0]=V;e:for(var G=0,X=z.length,te=X>>>1;G<te;){var re=2*(G+1)-1,se=z[re],q=re+1,oe=z[q];if(0>i(se,V))q<X&&0>i(oe,se)?(z[G]=oe,z[q]=V,G=q):(z[G]=se,z[re]=V,G=re);else if(q<X&&0>i(oe,V))z[G]=oe,z[q]=V,G=q;else break e}}return U}function i(z,U){var V=z.sortIndex-U.sortIndex;return V!==0?V:z.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,d=3,p=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var U=t(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=z)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=t(c)}}function A(z){if(v=!1,w(z),!g)if(t(l)!==null)g=!0,W(M);else{var U=t(c);U!==null&&Y(A,U.startTime-z)}}function M(z,U){g=!1,v&&(v=!1,x(C),C=-1),p=!0;var V=d;try{for(w(U),f=t(l);f!==null&&(!(f.expirationTime>U)||z&&!L());){var G=f.callback;if(typeof G=="function"){f.callback=null,d=f.priorityLevel;var X=G(f.expirationTime<=U);U=n.unstable_now(),typeof X=="function"?f.callback=X:f===t(l)&&r(l),w(U)}else r(l);f=t(l)}if(f!==null)var te=!0;else{var re=t(c);re!==null&&Y(A,re.startTime-U),te=!1}return te}finally{f=null,d=V,p=!1}}var E=!1,R=null,C=-1,T=5,D=-1;function L(){return!(n.unstable_now()-D<T)}function F(){if(R!==null){var z=n.unstable_now();D=z;var U=!0;try{U=R(!0,z)}finally{U?N():(E=!1,R=null)}}else E=!1}var N;if(typeof _=="function")N=function(){_(F)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,H=k.port2;k.port1.onmessage=F,N=function(){H.postMessage(null)}}else N=function(){y(F,0)};function W(z){R=z,E||(E=!0,N())}function Y(z,U){C=y(function(){z(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,W(M))},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(z){switch(d){case 1:case 2:case 3:var U=3;break;default:U=d}var V=d;d=U;try{return z()}finally{d=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(z,U){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var V=d;d=z;try{return U()}finally{d=V}},n.unstable_scheduleCallback=function(z,U,V){var G=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,z){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=V+X,z={id:u++,callback:U,priorityLevel:z,startTime:V,expirationTime:X,sortIndex:-1},V>G?(z.sortIndex=V,e(c,z),t(l)===null&&z===t(c)&&(v?(x(C),C=-1):v=!0,Y(A,V-G))):(z.sortIndex=X,e(l,z),g||p||(g=!0,W(M))),z},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(z){var U=d;return function(){var V=d;d=U;try{return z.apply(this,arguments)}finally{d=V}}}})(_O);(function(n){n.exports=_O})(U9);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xO=B,fs=OA;function Ge(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wO=new Set,Bm={};function af(n,e){qd(n,e),qd(n+"Capture",e)}function qd(n,e){for(Bm[n]=e,n=0;n<e.length;n++)wO.add(e[n])}var za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),FA=Object.prototype.hasOwnProperty,z9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i3={},s3={};function G9(n){return FA.call(s3,n)?!0:FA.call(i3,n)?!1:z9.test(n)?s3[n]=!0:(i3[n]=!0,!1)}function H9(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function V9(n,e,t,r){if(e===null||typeof e>"u"||H9(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Si(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Or={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Or[n]=new Si(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Or[e]=new Si(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Or[n]=new Si(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Or[n]=new Si(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Or[n]=new Si(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Or[n]=new Si(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Or[n]=new Si(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Or[n]=new Si(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Or[n]=new Si(n,5,!1,n.toLowerCase(),null,!1,!1)});var IC=/[\-:]([a-z])/g;function LC(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(IC,LC);Or[e]=new Si(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(IC,LC);Or[e]=new Si(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(IC,LC);Or[e]=new Si(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Or[n]=new Si(n,1,!1,n.toLowerCase(),null,!1,!1)});Or.xlinkHref=new Si("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Or[n]=new Si(n,1,!1,n.toLowerCase(),null,!0,!0)});function kC(n,e,t,r){var i=Or.hasOwnProperty(e)?Or[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(V9(e,t,i,r)&&(t=null),r||i===null?G9(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var qa=xO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sv=Symbol.for("react.element"),pd=Symbol.for("react.portal"),md=Symbol.for("react.fragment"),OC=Symbol.for("react.strict_mode"),NA=Symbol.for("react.profiler"),SO=Symbol.for("react.provider"),AO=Symbol.for("react.context"),FC=Symbol.for("react.forward_ref"),UA=Symbol.for("react.suspense"),zA=Symbol.for("react.suspense_list"),NC=Symbol.for("react.memo"),Il=Symbol.for("react.lazy"),bO=Symbol.for("react.offscreen"),o3=Symbol.iterator;function hp(n){return n===null||typeof n!="object"?null:(n=o3&&n[o3]||n["@@iterator"],typeof n=="function"?n:null)}var In=Object.assign,Sw;function $p(n){if(Sw===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Sw=e&&e[1]||""}return`
`+Sw+n}var Aw=!1;function bw(n,e){if(!n||Aw)return"";Aw=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Aw=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?$p(n):""}function W9(n){switch(n.tag){case 5:return $p(n.type);case 16:return $p("Lazy");case 13:return $p("Suspense");case 19:return $p("SuspenseList");case 0:case 2:case 15:return n=bw(n.type,!1),n;case 11:return n=bw(n.type.render,!1),n;case 1:return n=bw(n.type,!0),n;default:return""}}function GA(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case md:return"Fragment";case pd:return"Portal";case NA:return"Profiler";case OC:return"StrictMode";case UA:return"Suspense";case zA:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case AO:return(n.displayName||"Context")+".Consumer";case SO:return(n._context.displayName||"Context")+".Provider";case FC:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case NC:return e=n.displayName||null,e!==null?e:GA(n.type)||"Memo";case Il:e=n._payload,n=n._init;try{return GA(n(e))}catch{}}return null}function j9(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return GA(e);case 8:return e===OC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function lc(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function MO(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $9(n){var e=MO(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function ov(n){n._valueTracker||(n._valueTracker=$9(n))}function CO(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=MO(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function f1(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function HA(n,e){var t=e.checked;return In({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function a3(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=lc(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function EO(n,e){e=e.checked,e!=null&&kC(n,"checked",e,!1)}function VA(n,e){EO(n,e);var t=lc(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?WA(n,e.type,t):e.hasOwnProperty("defaultValue")&&WA(n,e.type,lc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function l3(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function WA(n,e,t){(e!=="number"||f1(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Xp=Array.isArray;function Nd(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+lc(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function jA(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ge(91));return In({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function c3(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ge(92));if(Xp(t)){if(1<t.length)throw Error(Ge(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:lc(t)}}function TO(n,e){var t=lc(e.value),r=lc(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function u3(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function PO(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $A(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?PO(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var av,RO=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(av=av||document.createElement("div"),av.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=av.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Im(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var tm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X9=["Webkit","ms","Moz","O"];Object.keys(tm).forEach(function(n){X9.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),tm[e]=tm[n]})});function DO(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||tm.hasOwnProperty(n)&&tm[n]?(""+e).trim():e+"px"}function BO(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=DO(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var J9=In({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function XA(n,e){if(e){if(J9[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ge(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ge(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ge(62))}}function JA(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var KA=null;function UC(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var YA=null,Ud=null,zd=null;function f3(n){if(n=Pg(n)){if(typeof YA!="function")throw Error(Ge(280));var e=n.stateNode;e&&(e=T_(e),YA(n.stateNode,n.type,e))}}function IO(n){Ud?zd?zd.push(n):zd=[n]:Ud=n}function LO(){if(Ud){var n=Ud,e=zd;if(zd=Ud=null,f3(n),e)for(n=0;n<e.length;n++)f3(e[n])}}function kO(n,e){return n(e)}function OO(){}var Mw=!1;function FO(n,e,t){if(Mw)return n(e,t);Mw=!0;try{return kO(n,e,t)}finally{Mw=!1,(Ud!==null||zd!==null)&&(OO(),LO())}}function Lm(n,e){var t=n.stateNode;if(t===null)return null;var r=T_(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ge(231,e,typeof t));return t}var QA=!1;if(za)try{var pp={};Object.defineProperty(pp,"passive",{get:function(){QA=!0}}),window.addEventListener("test",pp,pp),window.removeEventListener("test",pp,pp)}catch{QA=!1}function K9(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var nm=!1,d1=null,h1=!1,ZA=null,Y9={onError:function(n){nm=!0,d1=n}};function Q9(n,e,t,r,i,s,o,a,l){nm=!1,d1=null,K9.apply(Y9,arguments)}function Z9(n,e,t,r,i,s,o,a,l){if(Q9.apply(this,arguments),nm){if(nm){var c=d1;nm=!1,d1=null}else throw Error(Ge(198));h1||(h1=!0,ZA=c)}}function lf(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function NO(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function d3(n){if(lf(n)!==n)throw Error(Ge(188))}function q9(n){var e=n.alternate;if(!e){if(e=lf(n),e===null)throw Error(Ge(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return d3(i),n;if(s===r)return d3(i),e;s=s.sibling}throw Error(Ge(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ge(189))}}if(t.alternate!==r)throw Error(Ge(190))}if(t.tag!==3)throw Error(Ge(188));return t.stateNode.current===t?n:e}function UO(n){return n=q9(n),n!==null?zO(n):null}function zO(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=zO(n);if(e!==null)return e;n=n.sibling}return null}var GO=fs.unstable_scheduleCallback,h3=fs.unstable_cancelCallback,eH=fs.unstable_shouldYield,tH=fs.unstable_requestPaint,Yn=fs.unstable_now,nH=fs.unstable_getCurrentPriorityLevel,zC=fs.unstable_ImmediatePriority,HO=fs.unstable_UserBlockingPriority,p1=fs.unstable_NormalPriority,rH=fs.unstable_LowPriority,VO=fs.unstable_IdlePriority,b_=null,Xo=null;function iH(n){if(Xo&&typeof Xo.onCommitFiberRoot=="function")try{Xo.onCommitFiberRoot(b_,n,void 0,(n.current.flags&128)===128)}catch{}}var vo=Math.clz32?Math.clz32:aH,sH=Math.log,oH=Math.LN2;function aH(n){return n>>>=0,n===0?32:31-(sH(n)/oH|0)|0}var lv=64,cv=4194304;function Jp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function m1(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Jp(a):(s&=o,s!==0&&(r=Jp(s)))}else o=t&~i,o!==0?r=Jp(o):s!==0&&(r=Jp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-vo(e),i=1<<t,r|=n[t],e&=~i;return r}function lH(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cH(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-vo(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=lH(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function qA(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function WO(){var n=lv;return lv<<=1,!(lv&4194240)&&(lv=64),n}function Cw(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Eg(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-vo(e),n[e]=t}function uH(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-vo(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function GC(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-vo(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var qt=0;function jO(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var $O,HC,XO,JO,KO,eb=!1,uv=[],Yl=null,Ql=null,Zl=null,km=new Map,Om=new Map,Nl=[],fH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function p3(n,e){switch(n){case"focusin":case"focusout":Yl=null;break;case"dragenter":case"dragleave":Ql=null;break;case"mouseover":case"mouseout":Zl=null;break;case"pointerover":case"pointerout":km.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Om.delete(e.pointerId)}}function mp(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Pg(e),e!==null&&HC(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function dH(n,e,t,r,i){switch(e){case"focusin":return Yl=mp(Yl,n,e,t,r,i),!0;case"dragenter":return Ql=mp(Ql,n,e,t,r,i),!0;case"mouseover":return Zl=mp(Zl,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return km.set(s,mp(km.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Om.set(s,mp(Om.get(s)||null,n,e,t,r,i)),!0}return!1}function YO(n){var e=mu(n.target);if(e!==null){var t=lf(e);if(t!==null){if(e=t.tag,e===13){if(e=NO(t),e!==null){n.blockedOn=e,KO(n.priority,function(){XO(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ky(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=tb(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);KA=r,t.target.dispatchEvent(r),KA=null}else return e=Pg(t),e!==null&&HC(e),n.blockedOn=t,!1;e.shift()}return!0}function m3(n,e,t){ky(n)&&t.delete(e)}function hH(){eb=!1,Yl!==null&&ky(Yl)&&(Yl=null),Ql!==null&&ky(Ql)&&(Ql=null),Zl!==null&&ky(Zl)&&(Zl=null),km.forEach(m3),Om.forEach(m3)}function gp(n,e){n.blockedOn===e&&(n.blockedOn=null,eb||(eb=!0,fs.unstable_scheduleCallback(fs.unstable_NormalPriority,hH)))}function Fm(n){function e(i){return gp(i,n)}if(0<uv.length){gp(uv[0],n);for(var t=1;t<uv.length;t++){var r=uv[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Yl!==null&&gp(Yl,n),Ql!==null&&gp(Ql,n),Zl!==null&&gp(Zl,n),km.forEach(e),Om.forEach(e),t=0;t<Nl.length;t++)r=Nl[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Nl.length&&(t=Nl[0],t.blockedOn===null);)YO(t),t.blockedOn===null&&Nl.shift()}var Gd=qa.ReactCurrentBatchConfig,g1=!0;function pH(n,e,t,r){var i=qt,s=Gd.transition;Gd.transition=null;try{qt=1,VC(n,e,t,r)}finally{qt=i,Gd.transition=s}}function mH(n,e,t,r){var i=qt,s=Gd.transition;Gd.transition=null;try{qt=4,VC(n,e,t,r)}finally{qt=i,Gd.transition=s}}function VC(n,e,t,r){if(g1){var i=tb(n,e,t,r);if(i===null)Ow(n,e,r,v1,t),p3(n,r);else if(dH(i,n,e,t,r))r.stopPropagation();else if(p3(n,r),e&4&&-1<fH.indexOf(n)){for(;i!==null;){var s=Pg(i);if(s!==null&&$O(s),s=tb(n,e,t,r),s===null&&Ow(n,e,r,v1,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ow(n,e,r,null,t)}}var v1=null;function tb(n,e,t,r){if(v1=null,n=UC(r),n=mu(n),n!==null)if(e=lf(n),e===null)n=null;else if(t=e.tag,t===13){if(n=NO(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return v1=n,null}function QO(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nH()){case zC:return 1;case HO:return 4;case p1:case rH:return 16;case VO:return 536870912;default:return 16}default:return 16}}var zl=null,WC=null,Oy=null;function ZO(){if(Oy)return Oy;var n,e=WC,t=e.length,r,i="value"in zl?zl.value:zl.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Oy=i.slice(n,1<r?1-r:void 0)}function Fy(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function fv(){return!0}function g3(){return!1}function ms(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fv:g3,this.isPropagationStopped=g3,this}return In(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=fv)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=fv)},persist:function(){},isPersistent:fv}),e}var bh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jC=ms(bh),Tg=In({},bh,{view:0,detail:0}),gH=ms(Tg),Ew,Tw,vp,M_=In({},Tg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$C,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==vp&&(vp&&n.type==="mousemove"?(Ew=n.screenX-vp.screenX,Tw=n.screenY-vp.screenY):Tw=Ew=0,vp=n),Ew)},movementY:function(n){return"movementY"in n?n.movementY:Tw}}),v3=ms(M_),vH=In({},M_,{dataTransfer:0}),yH=ms(vH),_H=In({},Tg,{relatedTarget:0}),Pw=ms(_H),xH=In({},bh,{animationName:0,elapsedTime:0,pseudoElement:0}),wH=ms(xH),SH=In({},bh,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),AH=ms(SH),bH=In({},bh,{data:0}),y3=ms(bH),MH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TH(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=EH[n])?!!e[n]:!1}function $C(){return TH}var PH=In({},Tg,{key:function(n){if(n.key){var e=MH[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Fy(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?CH[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$C,charCode:function(n){return n.type==="keypress"?Fy(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Fy(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),RH=ms(PH),DH=In({},M_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_3=ms(DH),BH=In({},Tg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$C}),IH=ms(BH),LH=In({},bh,{propertyName:0,elapsedTime:0,pseudoElement:0}),kH=ms(LH),OH=In({},M_,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),FH=ms(OH),NH=[9,13,27,32],XC=za&&"CompositionEvent"in window,rm=null;za&&"documentMode"in document&&(rm=document.documentMode);var UH=za&&"TextEvent"in window&&!rm,qO=za&&(!XC||rm&&8<rm&&11>=rm),x3=String.fromCharCode(32),w3=!1;function eF(n,e){switch(n){case"keyup":return NH.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tF(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var gd=!1;function zH(n,e){switch(n){case"compositionend":return tF(e);case"keypress":return e.which!==32?null:(w3=!0,x3);case"textInput":return n=e.data,n===x3&&w3?null:n;default:return null}}function GH(n,e){if(gd)return n==="compositionend"||!XC&&eF(n,e)?(n=ZO(),Oy=WC=zl=null,gd=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qO&&e.locale!=="ko"?null:e.data;default:return null}}var HH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S3(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!HH[n.type]:e==="textarea"}function nF(n,e,t,r){IO(r),e=y1(e,"onChange"),0<e.length&&(t=new jC("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var im=null,Nm=null;function VH(n){hF(n,0)}function C_(n){var e=_d(n);if(CO(e))return n}function WH(n,e){if(n==="change")return e}var rF=!1;if(za){var Rw;if(za){var Dw="oninput"in document;if(!Dw){var A3=document.createElement("div");A3.setAttribute("oninput","return;"),Dw=typeof A3.oninput=="function"}Rw=Dw}else Rw=!1;rF=Rw&&(!document.documentMode||9<document.documentMode)}function b3(){im&&(im.detachEvent("onpropertychange",iF),Nm=im=null)}function iF(n){if(n.propertyName==="value"&&C_(Nm)){var e=[];nF(e,Nm,n,UC(n)),FO(VH,e)}}function jH(n,e,t){n==="focusin"?(b3(),im=e,Nm=t,im.attachEvent("onpropertychange",iF)):n==="focusout"&&b3()}function $H(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return C_(Nm)}function XH(n,e){if(n==="click")return C_(e)}function JH(n,e){if(n==="input"||n==="change")return C_(e)}function KH(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ao=typeof Object.is=="function"?Object.is:KH;function Um(n,e){if(Ao(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!FA.call(e,i)||!Ao(n[i],e[i]))return!1}return!0}function M3(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function C3(n,e){var t=M3(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=M3(t)}}function sF(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?sF(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function oF(){for(var n=window,e=f1();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=f1(n.document)}return e}function JC(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function YH(n){var e=oF(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&sF(t.ownerDocument.documentElement,t)){if(r!==null&&JC(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=C3(t,s);var o=C3(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var QH=za&&"documentMode"in document&&11>=document.documentMode,vd=null,nb=null,sm=null,rb=!1;function E3(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;rb||vd==null||vd!==f1(r)||(r=vd,"selectionStart"in r&&JC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sm&&Um(sm,r)||(sm=r,r=y1(nb,"onSelect"),0<r.length&&(e=new jC("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=vd)))}function dv(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var yd={animationend:dv("Animation","AnimationEnd"),animationiteration:dv("Animation","AnimationIteration"),animationstart:dv("Animation","AnimationStart"),transitionend:dv("Transition","TransitionEnd")},Bw={},aF={};za&&(aF=document.createElement("div").style,"AnimationEvent"in window||(delete yd.animationend.animation,delete yd.animationiteration.animation,delete yd.animationstart.animation),"TransitionEvent"in window||delete yd.transitionend.transition);function E_(n){if(Bw[n])return Bw[n];if(!yd[n])return n;var e=yd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in aF)return Bw[n]=e[t];return n}var lF=E_("animationend"),cF=E_("animationiteration"),uF=E_("animationstart"),fF=E_("transitionend"),dF=new Map,T3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ac(n,e){dF.set(n,e),af(e,[n])}for(var Iw=0;Iw<T3.length;Iw++){var Lw=T3[Iw],ZH=Lw.toLowerCase(),qH=Lw[0].toUpperCase()+Lw.slice(1);Ac(ZH,"on"+qH)}Ac(lF,"onAnimationEnd");Ac(cF,"onAnimationIteration");Ac(uF,"onAnimationStart");Ac("dblclick","onDoubleClick");Ac("focusin","onFocus");Ac("focusout","onBlur");Ac(fF,"onTransitionEnd");qd("onMouseEnter",["mouseout","mouseover"]);qd("onMouseLeave",["mouseout","mouseover"]);qd("onPointerEnter",["pointerout","pointerover"]);qd("onPointerLeave",["pointerout","pointerover"]);af("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));af("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));af("onBeforeInput",["compositionend","keypress","textInput","paste"]);af("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));af("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));af("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kp));function P3(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,Z9(r,e,void 0,n),n.currentTarget=null}function hF(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;P3(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;P3(i,a,c),s=l}}}if(h1)throw n=ZA,h1=!1,ZA=null,n}function un(n,e){var t=e[lb];t===void 0&&(t=e[lb]=new Set);var r=n+"__bubble";t.has(r)||(pF(e,n,2,!1),t.add(r))}function kw(n,e,t){var r=0;e&&(r|=4),pF(t,n,r,e)}var hv="_reactListening"+Math.random().toString(36).slice(2);function zm(n){if(!n[hv]){n[hv]=!0,wO.forEach(function(t){t!=="selectionchange"&&(eV.has(t)||kw(t,!1,n),kw(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[hv]||(e[hv]=!0,kw("selectionchange",!1,e))}}function pF(n,e,t,r){switch(QO(e)){case 1:var i=pH;break;case 4:i=mH;break;default:i=VC}t=i.bind(null,e,t,n),i=void 0,!QA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Ow(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=mu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}FO(function(){var c=s,u=UC(t),f=[];e:{var d=dF.get(n);if(d!==void 0){var p=jC,g=n;switch(n){case"keypress":if(Fy(t)===0)break e;case"keydown":case"keyup":p=RH;break;case"focusin":g="focus",p=Pw;break;case"focusout":g="blur",p=Pw;break;case"beforeblur":case"afterblur":p=Pw;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=v3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=IH;break;case lF:case cF:case uF:p=wH;break;case fF:p=kH;break;case"scroll":p=gH;break;case"wheel":p=FH;break;case"copy":case"cut":case"paste":p=AH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=_3}var v=(e&4)!==0,y=!v&&n==="scroll",x=v?d!==null?d+"Capture":null:d;v=[];for(var _=c,w;_!==null;){w=_;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,x!==null&&(A=Lm(_,x),A!=null&&v.push(Gm(_,A,w)))),y)break;_=_.return}0<v.length&&(d=new p(d,g,null,t,u),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",d&&t!==KA&&(g=t.relatedTarget||t.fromElement)&&(mu(g)||g[Ga]))break e;if((p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=c,g=g?mu(g):null,g!==null&&(y=lf(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(v=v3,A="onMouseLeave",x="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(v=_3,A="onPointerLeave",x="onPointerEnter",_="pointer"),y=p==null?d:_d(p),w=g==null?d:_d(g),d=new v(A,_+"leave",p,t,u),d.target=y,d.relatedTarget=w,A=null,mu(u)===c&&(v=new v(x,_+"enter",g,t,u),v.target=w,v.relatedTarget=y,A=v),y=A,p&&g)t:{for(v=p,x=g,_=0,w=v;w;w=Of(w))_++;for(w=0,A=x;A;A=Of(A))w++;for(;0<_-w;)v=Of(v),_--;for(;0<w-_;)x=Of(x),w--;for(;_--;){if(v===x||x!==null&&v===x.alternate)break t;v=Of(v),x=Of(x)}v=null}else v=null;p!==null&&R3(f,d,p,v,!1),g!==null&&y!==null&&R3(f,y,g,v,!0)}}e:{if(d=c?_d(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var M=WH;else if(S3(d))if(rF)M=JH;else{M=$H;var E=jH}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(M=XH);if(M&&(M=M(n,c))){nF(f,M,t,u);break e}E&&E(n,d,c),n==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&WA(d,"number",d.value)}switch(E=c?_d(c):window,n){case"focusin":(S3(E)||E.contentEditable==="true")&&(vd=E,nb=c,sm=null);break;case"focusout":sm=nb=vd=null;break;case"mousedown":rb=!0;break;case"contextmenu":case"mouseup":case"dragend":rb=!1,E3(f,t,u);break;case"selectionchange":if(QH)break;case"keydown":case"keyup":E3(f,t,u)}var R;if(XC)e:{switch(n){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else gd?eF(n,t)&&(C="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(C="onCompositionStart");C&&(qO&&t.locale!=="ko"&&(gd||C!=="onCompositionStart"?C==="onCompositionEnd"&&gd&&(R=ZO()):(zl=u,WC="value"in zl?zl.value:zl.textContent,gd=!0)),E=y1(c,C),0<E.length&&(C=new y3(C,n,null,t,u),f.push({event:C,listeners:E}),R?C.data=R:(R=tF(t),R!==null&&(C.data=R)))),(R=UH?zH(n,t):GH(n,t))&&(c=y1(c,"onBeforeInput"),0<c.length&&(u=new y3("onBeforeInput","beforeinput",null,t,u),f.push({event:u,listeners:c}),u.data=R))}hF(f,e)})}function Gm(n,e,t){return{instance:n,listener:e,currentTarget:t}}function y1(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Lm(n,t),s!=null&&r.unshift(Gm(n,s,i)),s=Lm(n,e),s!=null&&r.push(Gm(n,s,i))),n=n.return}return r}function Of(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function R3(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Lm(t,s),l!=null&&o.unshift(Gm(t,l,a))):i||(l=Lm(t,s),l!=null&&o.push(Gm(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var tV=/\r\n?/g,nV=/\u0000|\uFFFD/g;function D3(n){return(typeof n=="string"?n:""+n).replace(tV,`
`).replace(nV,"")}function pv(n,e,t){if(e=D3(e),D3(n)!==e&&t)throw Error(Ge(425))}function _1(){}var ib=null,sb=null;function ob(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ab=typeof setTimeout=="function"?setTimeout:void 0,rV=typeof clearTimeout=="function"?clearTimeout:void 0,B3=typeof Promise=="function"?Promise:void 0,iV=typeof queueMicrotask=="function"?queueMicrotask:typeof B3<"u"?function(n){return B3.resolve(null).then(n).catch(sV)}:ab;function sV(n){setTimeout(function(){throw n})}function Fw(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Fm(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Fm(e)}function ql(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function I3(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Mh=Math.random().toString(36).slice(2),Wo="__reactFiber$"+Mh,Hm="__reactProps$"+Mh,Ga="__reactContainer$"+Mh,lb="__reactEvents$"+Mh,oV="__reactListeners$"+Mh,aV="__reactHandles$"+Mh;function mu(n){var e=n[Wo];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ga]||t[Wo]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=I3(n);n!==null;){if(t=n[Wo])return t;n=I3(n)}return e}n=t,t=n.parentNode}return null}function Pg(n){return n=n[Wo]||n[Ga],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function _d(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ge(33))}function T_(n){return n[Hm]||null}var cb=[],xd=-1;function bc(n){return{current:n}}function pn(n){0>xd||(n.current=cb[xd],cb[xd]=null,xd--)}function cn(n,e){xd++,cb[xd]=n.current,n.current=e}var cc={},ni=bc(cc),Fi=bc(!1),Vu=cc;function eh(n,e){var t=n.type.contextTypes;if(!t)return cc;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Ni(n){return n=n.childContextTypes,n!=null}function x1(){pn(Fi),pn(ni)}function L3(n,e,t){if(ni.current!==cc)throw Error(Ge(168));cn(ni,e),cn(Fi,t)}function mF(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ge(108,j9(n)||"Unknown",i));return In({},t,r)}function w1(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||cc,Vu=ni.current,cn(ni,n),cn(Fi,Fi.current),!0}function k3(n,e,t){var r=n.stateNode;if(!r)throw Error(Ge(169));t?(n=mF(n,e,Vu),r.__reactInternalMemoizedMergedChildContext=n,pn(Fi),pn(ni),cn(ni,n)):pn(Fi),cn(Fi,t)}var Ma=null,P_=!1,Nw=!1;function gF(n){Ma===null?Ma=[n]:Ma.push(n)}function lV(n){P_=!0,gF(n)}function Mc(){if(!Nw&&Ma!==null){Nw=!0;var n=0,e=qt;try{var t=Ma;for(qt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Ma=null,P_=!1}catch(i){throw Ma!==null&&(Ma=Ma.slice(n+1)),GO(zC,Mc),i}finally{qt=e,Nw=!1}}return null}var wd=[],Sd=0,S1=null,A1=0,Fs=[],Ns=0,Wu=null,Ra=1,Da="";function ou(n,e){wd[Sd++]=A1,wd[Sd++]=S1,S1=n,A1=e}function vF(n,e,t){Fs[Ns++]=Ra,Fs[Ns++]=Da,Fs[Ns++]=Wu,Wu=n;var r=Ra;n=Da;var i=32-vo(r)-1;r&=~(1<<i),t+=1;var s=32-vo(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ra=1<<32-vo(e)+i|t<<i|r,Da=s+n}else Ra=1<<s|t<<i|r,Da=n}function KC(n){n.return!==null&&(ou(n,1),vF(n,1,0))}function YC(n){for(;n===S1;)S1=wd[--Sd],wd[Sd]=null,A1=wd[--Sd],wd[Sd]=null;for(;n===Wu;)Wu=Fs[--Ns],Fs[Ns]=null,Da=Fs[--Ns],Fs[Ns]=null,Ra=Fs[--Ns],Fs[Ns]=null}var os=null,is=null,_n=!1,po=null;function yF(n,e){var t=Hs(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function O3(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,os=n,is=ql(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,os=n,is=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Wu!==null?{id:Ra,overflow:Da}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Hs(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,os=n,is=null,!0):!1;default:return!1}}function ub(n){return(n.mode&1)!==0&&(n.flags&128)===0}function fb(n){if(_n){var e=is;if(e){var t=e;if(!O3(n,e)){if(ub(n))throw Error(Ge(418));e=ql(t.nextSibling);var r=os;e&&O3(n,e)?yF(r,t):(n.flags=n.flags&-4097|2,_n=!1,os=n)}}else{if(ub(n))throw Error(Ge(418));n.flags=n.flags&-4097|2,_n=!1,os=n}}}function F3(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;os=n}function mv(n){if(n!==os)return!1;if(!_n)return F3(n),_n=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!ob(n.type,n.memoizedProps)),e&&(e=is)){if(ub(n))throw _F(),Error(Ge(418));for(;e;)yF(n,e),e=ql(e.nextSibling)}if(F3(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ge(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){is=ql(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}is=null}}else is=os?ql(n.stateNode.nextSibling):null;return!0}function _F(){for(var n=is;n;)n=ql(n.nextSibling)}function th(){is=os=null,_n=!1}function QC(n){po===null?po=[n]:po.push(n)}var cV=qa.ReactCurrentBatchConfig;function fo(n,e){if(n&&n.defaultProps){e=In({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var b1=bc(null),M1=null,Ad=null,ZC=null;function qC(){ZC=Ad=M1=null}function eE(n){var e=b1.current;pn(b1),n._currentValue=e}function db(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Hd(n,e){M1=n,ZC=Ad=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Li=!0),n.firstContext=null)}function Ks(n){var e=n._currentValue;if(ZC!==n)if(n={context:n,memoizedValue:e,next:null},Ad===null){if(M1===null)throw Error(Ge(308));Ad=n,M1.dependencies={lanes:0,firstContext:n}}else Ad=Ad.next=n;return e}var gu=null;function tE(n){gu===null?gu=[n]:gu.push(n)}function xF(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,tE(e)):(t.next=i.next,i.next=t),e.interleaved=t,Ha(n,r)}function Ha(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Ll=!1;function nE(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wF(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ka(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ec(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,jt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ha(n,t)}return i=r.interleaved,i===null?(e.next=e,tE(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ha(n,t)}function Ny(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,GC(n,t)}}function N3(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function C1(n,e,t,r){var i=n.updateQueue;Ll=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,p=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,v=a;switch(d=e,p=t,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(p,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,d=typeof g=="function"?g.call(p,f,d):g,d==null)break e;f=In({},f,d);break e;case 2:Ll=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);$u|=o,n.lanes=o,n.memoizedState=f}}function U3(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ge(191,i));i.call(r)}}}var SF=new xO.Component().refs;function hb(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:In({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var R_={isMounted:function(n){return(n=n._reactInternals)?lf(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=_i(),i=nc(n),s=ka(r,i);s.payload=e,t!=null&&(s.callback=t),e=ec(n,s,i),e!==null&&(yo(e,n,i,r),Ny(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=_i(),i=nc(n),s=ka(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=ec(n,s,i),e!==null&&(yo(e,n,i,r),Ny(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=_i(),r=nc(n),i=ka(t,r);i.tag=2,e!=null&&(i.callback=e),e=ec(n,i,r),e!==null&&(yo(e,n,r,t),Ny(e,n,r))}};function z3(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Um(t,r)||!Um(i,s):!0}function AF(n,e,t){var r=!1,i=cc,s=e.contextType;return typeof s=="object"&&s!==null?s=Ks(s):(i=Ni(e)?Vu:ni.current,r=e.contextTypes,s=(r=r!=null)?eh(n,i):cc),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=R_,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function G3(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&R_.enqueueReplaceState(e,e.state,null)}function pb(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=SF,nE(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ks(s):(s=Ni(e)?Vu:ni.current,i.context=eh(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(hb(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&R_.enqueueReplaceState(i,i.state,null),C1(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function yp(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ge(309));var r=t.stateNode}if(!r)throw Error(Ge(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===SF&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ge(284));if(!t._owner)throw Error(Ge(290,n))}return n}function gv(n,e){throw n=Object.prototype.toString.call(e),Error(Ge(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function H3(n){var e=n._init;return e(n._payload)}function bF(n){function e(x,_){if(n){var w=x.deletions;w===null?(x.deletions=[_],x.flags|=16):w.push(_)}}function t(x,_){if(!n)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=rc(x,_),x.index=0,x.sibling=null,x}function s(x,_,w){return x.index=w,n?(w=x.alternate,w!==null?(w=w.index,w<_?(x.flags|=2,_):w):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,_,w,A){return _===null||_.tag!==6?(_=jw(w,x.mode,A),_.return=x,_):(_=i(_,w),_.return=x,_)}function l(x,_,w,A){var M=w.type;return M===md?u(x,_,w.props.children,A,w.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Il&&H3(M)===_.type)?(A=i(_,w.props),A.ref=yp(x,_,w),A.return=x,A):(A=Wy(w.type,w.key,w.props,null,x.mode,A),A.ref=yp(x,_,w),A.return=x,A)}function c(x,_,w,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=$w(w,x.mode,A),_.return=x,_):(_=i(_,w.children||[]),_.return=x,_)}function u(x,_,w,A,M){return _===null||_.tag!==7?(_=Tu(w,x.mode,A,M),_.return=x,_):(_=i(_,w),_.return=x,_)}function f(x,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=jw(""+_,x.mode,w),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case sv:return w=Wy(_.type,_.key,_.props,null,x.mode,w),w.ref=yp(x,null,_),w.return=x,w;case pd:return _=$w(_,x.mode,w),_.return=x,_;case Il:var A=_._init;return f(x,A(_._payload),w)}if(Xp(_)||hp(_))return _=Tu(_,x.mode,w,null),_.return=x,_;gv(x,_)}return null}function d(x,_,w,A){var M=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return M!==null?null:a(x,_,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sv:return w.key===M?l(x,_,w,A):null;case pd:return w.key===M?c(x,_,w,A):null;case Il:return M=w._init,d(x,_,M(w._payload),A)}if(Xp(w)||hp(w))return M!==null?null:u(x,_,w,A,null);gv(x,w)}return null}function p(x,_,w,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(w)||null,a(_,x,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case sv:return x=x.get(A.key===null?w:A.key)||null,l(_,x,A,M);case pd:return x=x.get(A.key===null?w:A.key)||null,c(_,x,A,M);case Il:var E=A._init;return p(x,_,w,E(A._payload),M)}if(Xp(A)||hp(A))return x=x.get(w)||null,u(_,x,A,M,null);gv(_,A)}return null}function g(x,_,w,A){for(var M=null,E=null,R=_,C=_=0,T=null;R!==null&&C<w.length;C++){R.index>C?(T=R,R=null):T=R.sibling;var D=d(x,R,w[C],A);if(D===null){R===null&&(R=T);break}n&&R&&D.alternate===null&&e(x,R),_=s(D,_,C),E===null?M=D:E.sibling=D,E=D,R=T}if(C===w.length)return t(x,R),_n&&ou(x,C),M;if(R===null){for(;C<w.length;C++)R=f(x,w[C],A),R!==null&&(_=s(R,_,C),E===null?M=R:E.sibling=R,E=R);return _n&&ou(x,C),M}for(R=r(x,R);C<w.length;C++)T=p(R,x,C,w[C],A),T!==null&&(n&&T.alternate!==null&&R.delete(T.key===null?C:T.key),_=s(T,_,C),E===null?M=T:E.sibling=T,E=T);return n&&R.forEach(function(L){return e(x,L)}),_n&&ou(x,C),M}function v(x,_,w,A){var M=hp(w);if(typeof M!="function")throw Error(Ge(150));if(w=M.call(w),w==null)throw Error(Ge(151));for(var E=M=null,R=_,C=_=0,T=null,D=w.next();R!==null&&!D.done;C++,D=w.next()){R.index>C?(T=R,R=null):T=R.sibling;var L=d(x,R,D.value,A);if(L===null){R===null&&(R=T);break}n&&R&&L.alternate===null&&e(x,R),_=s(L,_,C),E===null?M=L:E.sibling=L,E=L,R=T}if(D.done)return t(x,R),_n&&ou(x,C),M;if(R===null){for(;!D.done;C++,D=w.next())D=f(x,D.value,A),D!==null&&(_=s(D,_,C),E===null?M=D:E.sibling=D,E=D);return _n&&ou(x,C),M}for(R=r(x,R);!D.done;C++,D=w.next())D=p(R,x,C,D.value,A),D!==null&&(n&&D.alternate!==null&&R.delete(D.key===null?C:D.key),_=s(D,_,C),E===null?M=D:E.sibling=D,E=D);return n&&R.forEach(function(F){return e(x,F)}),_n&&ou(x,C),M}function y(x,_,w,A){if(typeof w=="object"&&w!==null&&w.type===md&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case sv:e:{for(var M=w.key,E=_;E!==null;){if(E.key===M){if(M=w.type,M===md){if(E.tag===7){t(x,E.sibling),_=i(E,w.props.children),_.return=x,x=_;break e}}else if(E.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Il&&H3(M)===E.type){t(x,E.sibling),_=i(E,w.props),_.ref=yp(x,E,w),_.return=x,x=_;break e}t(x,E);break}else e(x,E);E=E.sibling}w.type===md?(_=Tu(w.props.children,x.mode,A,w.key),_.return=x,x=_):(A=Wy(w.type,w.key,w.props,null,x.mode,A),A.ref=yp(x,_,w),A.return=x,x=A)}return o(x);case pd:e:{for(E=w.key;_!==null;){if(_.key===E)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){t(x,_.sibling),_=i(_,w.children||[]),_.return=x,x=_;break e}else{t(x,_);break}else e(x,_);_=_.sibling}_=$w(w,x.mode,A),_.return=x,x=_}return o(x);case Il:return E=w._init,y(x,_,E(w._payload),A)}if(Xp(w))return g(x,_,w,A);if(hp(w))return v(x,_,w,A);gv(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(t(x,_.sibling),_=i(_,w),_.return=x,x=_):(t(x,_),_=jw(w,x.mode,A),_.return=x,x=_),o(x)):t(x,_)}return y}var nh=bF(!0),MF=bF(!1),Rg={},Jo=bc(Rg),Vm=bc(Rg),Wm=bc(Rg);function vu(n){if(n===Rg)throw Error(Ge(174));return n}function rE(n,e){switch(cn(Wm,e),cn(Vm,n),cn(Jo,Rg),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$A(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=$A(e,n)}pn(Jo),cn(Jo,e)}function rh(){pn(Jo),pn(Vm),pn(Wm)}function CF(n){vu(Wm.current);var e=vu(Jo.current),t=$A(e,n.type);e!==t&&(cn(Vm,n),cn(Jo,t))}function iE(n){Vm.current===n&&(pn(Jo),pn(Vm))}var Cn=bc(0);function E1(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uw=[];function sE(){for(var n=0;n<Uw.length;n++)Uw[n]._workInProgressVersionPrimary=null;Uw.length=0}var Uy=qa.ReactCurrentDispatcher,zw=qa.ReactCurrentBatchConfig,ju=0,Bn=null,dr=null,Ar=null,T1=!1,om=!1,jm=0,uV=0;function $r(){throw Error(Ge(321))}function oE(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ao(n[t],e[t]))return!1;return!0}function aE(n,e,t,r,i,s){if(ju=s,Bn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Uy.current=n===null||n.memoizedState===null?pV:mV,n=t(r,i),om){s=0;do{if(om=!1,jm=0,25<=s)throw Error(Ge(301));s+=1,Ar=dr=null,e.updateQueue=null,Uy.current=gV,n=t(r,i)}while(om)}if(Uy.current=P1,e=dr!==null&&dr.next!==null,ju=0,Ar=dr=Bn=null,T1=!1,e)throw Error(Ge(300));return n}function lE(){var n=jm!==0;return jm=0,n}function Go(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ar===null?Bn.memoizedState=Ar=n:Ar=Ar.next=n,Ar}function Ys(){if(dr===null){var n=Bn.alternate;n=n!==null?n.memoizedState:null}else n=dr.next;var e=Ar===null?Bn.memoizedState:Ar.next;if(e!==null)Ar=e,dr=n;else{if(n===null)throw Error(Ge(310));dr=n,n={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},Ar===null?Bn.memoizedState=Ar=n:Ar=Ar.next=n}return Ar}function $m(n,e){return typeof e=="function"?e(n):e}function Gw(n){var e=Ys(),t=e.queue;if(t===null)throw Error(Ge(311));t.lastRenderedReducer=n;var r=dr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((ju&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Bn.lanes|=u,$u|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ao(r,e.memoizedState)||(Li=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Bn.lanes|=s,$u|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Hw(n){var e=Ys(),t=e.queue;if(t===null)throw Error(Ge(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Ao(s,e.memoizedState)||(Li=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function EF(){}function TF(n,e){var t=Bn,r=Ys(),i=e(),s=!Ao(r.memoizedState,i);if(s&&(r.memoizedState=i,Li=!0),r=r.queue,cE(DF.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Ar!==null&&Ar.memoizedState.tag&1){if(t.flags|=2048,Xm(9,RF.bind(null,t,r,i,e),void 0,null),Mr===null)throw Error(Ge(349));ju&30||PF(t,e,i)}return i}function PF(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Bn.updateQueue,e===null?(e={lastEffect:null,stores:null},Bn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function RF(n,e,t,r){e.value=t,e.getSnapshot=r,BF(e)&&IF(n)}function DF(n,e,t){return t(function(){BF(e)&&IF(n)})}function BF(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ao(n,t)}catch{return!0}}function IF(n){var e=Ha(n,1);e!==null&&yo(e,n,1,-1)}function V3(n){var e=Go();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$m,lastRenderedState:n},e.queue=n,n=n.dispatch=hV.bind(null,Bn,n),[e.memoizedState,n]}function Xm(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Bn.updateQueue,e===null?(e={lastEffect:null,stores:null},Bn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function LF(){return Ys().memoizedState}function zy(n,e,t,r){var i=Go();Bn.flags|=n,i.memoizedState=Xm(1|e,t,void 0,r===void 0?null:r)}function D_(n,e,t,r){var i=Ys();r=r===void 0?null:r;var s=void 0;if(dr!==null){var o=dr.memoizedState;if(s=o.destroy,r!==null&&oE(r,o.deps)){i.memoizedState=Xm(e,t,s,r);return}}Bn.flags|=n,i.memoizedState=Xm(1|e,t,s,r)}function W3(n,e){return zy(8390656,8,n,e)}function cE(n,e){return D_(2048,8,n,e)}function kF(n,e){return D_(4,2,n,e)}function OF(n,e){return D_(4,4,n,e)}function FF(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function NF(n,e,t){return t=t!=null?t.concat([n]):null,D_(4,4,FF.bind(null,e,n),t)}function uE(){}function UF(n,e){var t=Ys();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&oE(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function zF(n,e){var t=Ys();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&oE(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function GF(n,e,t){return ju&21?(Ao(t,e)||(t=WO(),Bn.lanes|=t,$u|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Li=!0),n.memoizedState=t)}function fV(n,e){var t=qt;qt=t!==0&&4>t?t:4,n(!0);var r=zw.transition;zw.transition={};try{n(!1),e()}finally{qt=t,zw.transition=r}}function HF(){return Ys().memoizedState}function dV(n,e,t){var r=nc(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},VF(n))WF(e,t);else if(t=xF(n,e,t,r),t!==null){var i=_i();yo(t,n,r,i),jF(t,e,r)}}function hV(n,e,t){var r=nc(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(VF(n))WF(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Ao(a,o)){var l=e.interleaved;l===null?(i.next=i,tE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=xF(n,e,i,r),t!==null&&(i=_i(),yo(t,n,r,i),jF(t,e,r))}}function VF(n){var e=n.alternate;return n===Bn||e!==null&&e===Bn}function WF(n,e){om=T1=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function jF(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,GC(n,t)}}var P1={readContext:Ks,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useInsertionEffect:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useMutableSource:$r,useSyncExternalStore:$r,useId:$r,unstable_isNewReconciler:!1},pV={readContext:Ks,useCallback:function(n,e){return Go().memoizedState=[n,e===void 0?null:e],n},useContext:Ks,useEffect:W3,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,zy(4194308,4,FF.bind(null,e,n),t)},useLayoutEffect:function(n,e){return zy(4194308,4,n,e)},useInsertionEffect:function(n,e){return zy(4,2,n,e)},useMemo:function(n,e){var t=Go();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Go();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=dV.bind(null,Bn,n),[r.memoizedState,n]},useRef:function(n){var e=Go();return n={current:n},e.memoizedState=n},useState:V3,useDebugValue:uE,useDeferredValue:function(n){return Go().memoizedState=n},useTransition:function(){var n=V3(!1),e=n[0];return n=fV.bind(null,n[1]),Go().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Bn,i=Go();if(_n){if(t===void 0)throw Error(Ge(407));t=t()}else{if(t=e(),Mr===null)throw Error(Ge(349));ju&30||PF(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,W3(DF.bind(null,r,s,n),[n]),r.flags|=2048,Xm(9,RF.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Go(),e=Mr.identifierPrefix;if(_n){var t=Da,r=Ra;t=(r&~(1<<32-vo(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=jm++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=uV++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},mV={readContext:Ks,useCallback:UF,useContext:Ks,useEffect:cE,useImperativeHandle:NF,useInsertionEffect:kF,useLayoutEffect:OF,useMemo:zF,useReducer:Gw,useRef:LF,useState:function(){return Gw($m)},useDebugValue:uE,useDeferredValue:function(n){var e=Ys();return GF(e,dr.memoizedState,n)},useTransition:function(){var n=Gw($m)[0],e=Ys().memoizedState;return[n,e]},useMutableSource:EF,useSyncExternalStore:TF,useId:HF,unstable_isNewReconciler:!1},gV={readContext:Ks,useCallback:UF,useContext:Ks,useEffect:cE,useImperativeHandle:NF,useInsertionEffect:kF,useLayoutEffect:OF,useMemo:zF,useReducer:Hw,useRef:LF,useState:function(){return Hw($m)},useDebugValue:uE,useDeferredValue:function(n){var e=Ys();return dr===null?e.memoizedState=n:GF(e,dr.memoizedState,n)},useTransition:function(){var n=Hw($m)[0],e=Ys().memoizedState;return[n,e]},useMutableSource:EF,useSyncExternalStore:TF,useId:HF,unstable_isNewReconciler:!1};function ih(n,e){try{var t="",r=e;do t+=W9(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function Vw(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function mb(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var vV=typeof WeakMap=="function"?WeakMap:Map;function $F(n,e,t){t=ka(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){D1||(D1=!0,Mb=r),mb(n,e)},t}function XF(n,e,t){t=ka(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){mb(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){mb(n,e),typeof r!="function"&&(tc===null?tc=new Set([this]):tc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function j3(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new vV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=DV.bind(null,n,e,t),e.then(n,n))}function $3(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function X3(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ka(-1,1),e.tag=2,ec(t,e,1))),t.lanes|=1),n)}var yV=qa.ReactCurrentOwner,Li=!1;function gi(n,e,t,r){e.child=n===null?MF(e,null,t,r):nh(e,n.child,t,r)}function J3(n,e,t,r,i){t=t.render;var s=e.ref;return Hd(e,i),r=aE(n,e,t,r,s,i),t=lE(),n!==null&&!Li?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Va(n,e,i)):(_n&&t&&KC(e),e.flags|=1,gi(n,e,r,i),e.child)}function K3(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!yE(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,JF(n,e,s,r,i)):(n=Wy(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Um,t(o,r)&&n.ref===e.ref)return Va(n,e,i)}return e.flags|=1,n=rc(s,r),n.ref=e.ref,n.return=e,e.child=n}function JF(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Um(s,r)&&n.ref===e.ref)if(Li=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Li=!0);else return e.lanes=n.lanes,Va(n,e,i)}return gb(n,e,t,r,i)}function KF(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},cn(Md,es),es|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,cn(Md,es),es|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,cn(Md,es),es|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,cn(Md,es),es|=r;return gi(n,e,i,t),e.child}function YF(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function gb(n,e,t,r,i){var s=Ni(t)?Vu:ni.current;return s=eh(e,s),Hd(e,i),t=aE(n,e,t,r,s,i),r=lE(),n!==null&&!Li?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Va(n,e,i)):(_n&&r&&KC(e),e.flags|=1,gi(n,e,t,i),e.child)}function Y3(n,e,t,r,i){if(Ni(t)){var s=!0;w1(e)}else s=!1;if(Hd(e,i),e.stateNode===null)Gy(n,e),AF(e,t,r),pb(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Ks(c):(c=Ni(t)?Vu:ni.current,c=eh(e,c));var u=t.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&G3(e,o,r,c),Ll=!1;var d=e.memoizedState;o.state=d,C1(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Fi.current||Ll?(typeof u=="function"&&(hb(e,t,u,r),l=e.memoizedState),(a=Ll||z3(e,t,a,r,d,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,wF(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:fo(e.type,a),o.props=c,f=e.pendingProps,d=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ks(l):(l=Ni(t)?Vu:ni.current,l=eh(e,l));var p=t.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&G3(e,o,r,l),Ll=!1,d=e.memoizedState,o.state=d,C1(e,r,o,i);var g=e.memoizedState;a!==f||d!==g||Fi.current||Ll?(typeof p=="function"&&(hb(e,t,p,r),g=e.memoizedState),(c=Ll||z3(e,t,c,r,d,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),r=!1)}return vb(n,e,t,r,s,i)}function vb(n,e,t,r,i,s){YF(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&k3(e,t,!1),Va(n,e,s);r=e.stateNode,yV.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=nh(e,n.child,null,s),e.child=nh(e,null,a,s)):gi(n,e,a,s),e.memoizedState=r.state,i&&k3(e,t,!0),e.child}function QF(n){var e=n.stateNode;e.pendingContext?L3(n,e.pendingContext,e.pendingContext!==e.context):e.context&&L3(n,e.context,!1),rE(n,e.containerInfo)}function Q3(n,e,t,r,i){return th(),QC(i),e.flags|=256,gi(n,e,t,r),e.child}var yb={dehydrated:null,treeContext:null,retryLane:0};function _b(n){return{baseLanes:n,cachePool:null,transitions:null}}function ZF(n,e,t){var r=e.pendingProps,i=Cn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),cn(Cn,i&1),n===null)return fb(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=L_(o,r,0,null),n=Tu(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=_b(t),e.memoizedState=yb,n):fE(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _V(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=rc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=rc(a,s):(s=Tu(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?_b(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=yb,r}return s=n.child,n=s.sibling,r=rc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function fE(n,e){return e=L_({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function vv(n,e,t,r){return r!==null&&QC(r),nh(e,n.child,null,t),n=fE(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function _V(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=Vw(Error(Ge(422))),vv(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=L_({mode:"visible",children:r.children},i,0,null),s=Tu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&nh(e,n.child,null,o),e.child.memoizedState=_b(o),e.memoizedState=yb,s);if(!(e.mode&1))return vv(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ge(419)),r=Vw(s,r,void 0),vv(n,e,o,r)}if(a=(o&n.childLanes)!==0,Li||a){if(r=Mr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ha(n,i),yo(r,n,i,-1))}return vE(),r=Vw(Error(Ge(421))),vv(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=BV.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,is=ql(i.nextSibling),os=e,_n=!0,po=null,n!==null&&(Fs[Ns++]=Ra,Fs[Ns++]=Da,Fs[Ns++]=Wu,Ra=n.id,Da=n.overflow,Wu=e),e=fE(e,r.children),e.flags|=4096,e)}function Z3(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),db(n.return,e,t)}function Ww(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function qF(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(gi(n,e,r.children,t),r=Cn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Z3(n,t,e);else if(n.tag===19)Z3(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(cn(Cn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&E1(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Ww(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&E1(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Ww(e,!0,t,null,s);break;case"together":Ww(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gy(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Va(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),$u|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ge(153));if(e.child!==null){for(n=e.child,t=rc(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=rc(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function xV(n,e,t){switch(e.tag){case 3:QF(e),th();break;case 5:CF(e);break;case 1:Ni(e.type)&&w1(e);break;case 4:rE(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;cn(b1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(cn(Cn,Cn.current&1),e.flags|=128,null):t&e.child.childLanes?ZF(n,e,t):(cn(Cn,Cn.current&1),n=Va(n,e,t),n!==null?n.sibling:null);cn(Cn,Cn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return qF(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),cn(Cn,Cn.current),r)break;return null;case 22:case 23:return e.lanes=0,KF(n,e,t)}return Va(n,e,t)}var e4,xb,t4,n4;e4=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};xb=function(){};t4=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,vu(Jo.current);var s=null;switch(t){case"input":i=HA(n,i),r=HA(n,r),s=[];break;case"select":i=In({},i,{value:void 0}),r=In({},r,{value:void 0}),s=[];break;case"textarea":i=jA(n,i),r=jA(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=_1)}XA(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bm.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&un("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};n4=function(n,e,t,r){t!==r&&(e.flags|=4)};function _p(n,e){if(!_n)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Xr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function wV(n,e,t){var r=e.pendingProps;switch(YC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xr(e),null;case 1:return Ni(e.type)&&x1(),Xr(e),null;case 3:return r=e.stateNode,rh(),pn(Fi),pn(ni),sE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(mv(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,po!==null&&(Tb(po),po=null))),xb(n,e),Xr(e),null;case 5:iE(e);var i=vu(Wm.current);if(t=e.type,n!==null&&e.stateNode!=null)t4(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ge(166));return Xr(e),null}if(n=vu(Jo.current),mv(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Wo]=e,r[Hm]=s,n=(e.mode&1)!==0,t){case"dialog":un("cancel",r),un("close",r);break;case"iframe":case"object":case"embed":un("load",r);break;case"video":case"audio":for(i=0;i<Kp.length;i++)un(Kp[i],r);break;case"source":un("error",r);break;case"img":case"image":case"link":un("error",r),un("load",r);break;case"details":un("toggle",r);break;case"input":a3(r,s),un("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},un("invalid",r);break;case"textarea":c3(r,s),un("invalid",r)}XA(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pv(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pv(r.textContent,a,n),i=["children",""+a]):Bm.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&un("scroll",r)}switch(t){case"input":ov(r),l3(r,s,!0);break;case"textarea":ov(r),u3(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=PO(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Wo]=e,n[Hm]=r,e4(n,e,!1,!1),e.stateNode=n;e:{switch(o=JA(t,r),t){case"dialog":un("cancel",n),un("close",n),i=r;break;case"iframe":case"object":case"embed":un("load",n),i=r;break;case"video":case"audio":for(i=0;i<Kp.length;i++)un(Kp[i],n);i=r;break;case"source":un("error",n),i=r;break;case"img":case"image":case"link":un("error",n),un("load",n),i=r;break;case"details":un("toggle",n),i=r;break;case"input":a3(n,r),i=HA(n,r),un("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=In({},r,{value:void 0}),un("invalid",n);break;case"textarea":c3(n,r),i=jA(n,r),un("invalid",n);break;default:i=r}XA(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?BO(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&RO(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Im(n,l):typeof l=="number"&&Im(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&un("scroll",n):l!=null&&kC(n,s,l,o))}switch(t){case"input":ov(n),l3(n,r,!1);break;case"textarea":ov(n),u3(n);break;case"option":r.value!=null&&n.setAttribute("value",""+lc(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Nd(n,!!r.multiple,s,!1):r.defaultValue!=null&&Nd(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=_1)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xr(e),null;case 6:if(n&&e.stateNode!=null)n4(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ge(166));if(t=vu(Wm.current),vu(Jo.current),mv(e)){if(r=e.stateNode,t=e.memoizedProps,r[Wo]=e,(s=r.nodeValue!==t)&&(n=os,n!==null))switch(n.tag){case 3:pv(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&pv(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Wo]=e,e.stateNode=r}return Xr(e),null;case 13:if(pn(Cn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(_n&&is!==null&&e.mode&1&&!(e.flags&128))_F(),th(),e.flags|=98560,s=!1;else if(s=mv(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ge(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ge(317));s[Wo]=e}else th(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xr(e),s=!1}else po!==null&&(Tb(po),po=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Cn.current&1?pr===0&&(pr=3):vE())),e.updateQueue!==null&&(e.flags|=4),Xr(e),null);case 4:return rh(),xb(n,e),n===null&&zm(e.stateNode.containerInfo),Xr(e),null;case 10:return eE(e.type._context),Xr(e),null;case 17:return Ni(e.type)&&x1(),Xr(e),null;case 19:if(pn(Cn),s=e.memoizedState,s===null)return Xr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)_p(s,!1);else{if(pr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=E1(n),o!==null){for(e.flags|=128,_p(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return cn(Cn,Cn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Yn()>sh&&(e.flags|=128,r=!0,_p(s,!1),e.lanes=4194304)}else{if(!r)if(n=E1(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),_p(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!_n)return Xr(e),null}else 2*Yn()-s.renderingStartTime>sh&&t!==1073741824&&(e.flags|=128,r=!0,_p(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Yn(),e.sibling=null,t=Cn.current,cn(Cn,r?t&1|2:t&1),e):(Xr(e),null);case 22:case 23:return gE(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?es&1073741824&&(Xr(e),e.subtreeFlags&6&&(e.flags|=8192)):Xr(e),null;case 24:return null;case 25:return null}throw Error(Ge(156,e.tag))}function SV(n,e){switch(YC(e),e.tag){case 1:return Ni(e.type)&&x1(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return rh(),pn(Fi),pn(ni),sE(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return iE(e),null;case 13:if(pn(Cn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ge(340));th()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return pn(Cn),null;case 4:return rh(),null;case 10:return eE(e.type._context),null;case 22:case 23:return gE(),null;case 24:return null;default:return null}}var yv=!1,Yr=!1,AV=typeof WeakSet=="function"?WeakSet:Set,et=null;function bd(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){On(n,e,r)}else t.current=null}function wb(n,e,t){try{t()}catch(r){On(n,e,r)}}var q3=!1;function bV(n,e){if(ib=g1,n=oF(),JC(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=n,d=null;t:for(;;){for(var p;f!==t||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===n)break t;if(d===t&&++c===i&&(a=o),d===s&&++u===r&&(l=o),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(sb={focusedElem:n,selectionRange:t},g1=!1,et=e;et!==null;)if(e=et,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,et=n;else for(;et!==null;){e=et;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:fo(e.type,v),y);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ge(163))}}catch(A){On(e,e.return,A)}if(n=e.sibling,n!==null){n.return=e.return,et=n;break}et=e.return}return g=q3,q3=!1,g}function am(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&wb(e,t,s)}i=i.next}while(i!==r)}}function B_(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Sb(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function r4(n){var e=n.alternate;e!==null&&(n.alternate=null,r4(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Wo],delete e[Hm],delete e[lb],delete e[oV],delete e[aV])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function i4(n){return n.tag===5||n.tag===3||n.tag===4}function eR(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||i4(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ab(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=_1));else if(r!==4&&(n=n.child,n!==null))for(Ab(n,e,t),n=n.sibling;n!==null;)Ab(n,e,t),n=n.sibling}function bb(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(bb(n,e,t),n=n.sibling;n!==null;)bb(n,e,t),n=n.sibling}var Ir=null,ho=!1;function xl(n,e,t){for(t=t.child;t!==null;)s4(n,e,t),t=t.sibling}function s4(n,e,t){if(Xo&&typeof Xo.onCommitFiberUnmount=="function")try{Xo.onCommitFiberUnmount(b_,t)}catch{}switch(t.tag){case 5:Yr||bd(t,e);case 6:var r=Ir,i=ho;Ir=null,xl(n,e,t),Ir=r,ho=i,Ir!==null&&(ho?(n=Ir,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ir.removeChild(t.stateNode));break;case 18:Ir!==null&&(ho?(n=Ir,t=t.stateNode,n.nodeType===8?Fw(n.parentNode,t):n.nodeType===1&&Fw(n,t),Fm(n)):Fw(Ir,t.stateNode));break;case 4:r=Ir,i=ho,Ir=t.stateNode.containerInfo,ho=!0,xl(n,e,t),Ir=r,ho=i;break;case 0:case 11:case 14:case 15:if(!Yr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&wb(t,e,o),i=i.next}while(i!==r)}xl(n,e,t);break;case 1:if(!Yr&&(bd(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){On(t,e,a)}xl(n,e,t);break;case 21:xl(n,e,t);break;case 22:t.mode&1?(Yr=(r=Yr)||t.memoizedState!==null,xl(n,e,t),Yr=r):xl(n,e,t);break;default:xl(n,e,t)}}function tR(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new AV),e.forEach(function(r){var i=IV.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function so(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ir=a.stateNode,ho=!1;break e;case 3:Ir=a.stateNode.containerInfo,ho=!0;break e;case 4:Ir=a.stateNode.containerInfo,ho=!0;break e}a=a.return}if(Ir===null)throw Error(Ge(160));s4(s,o,i),Ir=null,ho=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){On(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)o4(e,n),e=e.sibling}function o4(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(so(e,n),Uo(n),r&4){try{am(3,n,n.return),B_(3,n)}catch(v){On(n,n.return,v)}try{am(5,n,n.return)}catch(v){On(n,n.return,v)}}break;case 1:so(e,n),Uo(n),r&512&&t!==null&&bd(t,t.return);break;case 5:if(so(e,n),Uo(n),r&512&&t!==null&&bd(t,t.return),n.flags&32){var i=n.stateNode;try{Im(i,"")}catch(v){On(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&EO(i,s),JA(a,o);var c=JA(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?BO(i,f):u==="dangerouslySetInnerHTML"?RO(i,f):u==="children"?Im(i,f):kC(i,u,f,c)}switch(a){case"input":VA(i,s);break;case"textarea":TO(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Nd(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?Nd(i,!!s.multiple,s.defaultValue,!0):Nd(i,!!s.multiple,s.multiple?[]:"",!1))}i[Hm]=s}catch(v){On(n,n.return,v)}}break;case 6:if(so(e,n),Uo(n),r&4){if(n.stateNode===null)throw Error(Ge(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(v){On(n,n.return,v)}}break;case 3:if(so(e,n),Uo(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Fm(e.containerInfo)}catch(v){On(n,n.return,v)}break;case 4:so(e,n),Uo(n);break;case 13:so(e,n),Uo(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(pE=Yn())),r&4&&tR(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(Yr=(c=Yr)||u,so(e,n),Yr=c):so(e,n),Uo(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(et=n,u=n.child;u!==null;){for(f=et=u;et!==null;){switch(d=et,p=d.child,d.tag){case 0:case 11:case 14:case 15:am(4,d,d.return);break;case 1:bd(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,t=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){On(r,t,v)}}break;case 5:bd(d,d.return);break;case 22:if(d.memoizedState!==null){rR(f);continue}}p!==null?(p.return=d,et=p):rR(f)}u=u.sibling}e:for(u=null,f=n;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=DO("display",o))}catch(v){On(n,n.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){On(n,n.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:so(e,n),Uo(n),r&4&&tR(n);break;case 21:break;default:so(e,n),Uo(n)}}function Uo(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(i4(t)){var r=t;break e}t=t.return}throw Error(Ge(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Im(i,""),r.flags&=-33);var s=eR(n);bb(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=eR(n);Ab(n,a,o);break;default:throw Error(Ge(161))}}catch(l){On(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function MV(n,e,t){et=n,a4(n)}function a4(n,e,t){for(var r=(n.mode&1)!==0;et!==null;){var i=et,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yv;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Yr;a=yv;var c=Yr;if(yv=o,(Yr=l)&&!c)for(et=i;et!==null;)o=et,l=o.child,o.tag===22&&o.memoizedState!==null?iR(i):l!==null?(l.return=o,et=l):iR(i);for(;s!==null;)et=s,a4(s),s=s.sibling;et=i,yv=a,Yr=c}nR(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,et=s):nR(n)}}function nR(n){for(;et!==null;){var e=et;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yr||B_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:fo(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&U3(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}U3(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Fm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ge(163))}Yr||e.flags&512&&Sb(e)}catch(d){On(e,e.return,d)}}if(e===n){et=null;break}if(t=e.sibling,t!==null){t.return=e.return,et=t;break}et=e.return}}function rR(n){for(;et!==null;){var e=et;if(e===n){et=null;break}var t=e.sibling;if(t!==null){t.return=e.return,et=t;break}et=e.return}}function iR(n){for(;et!==null;){var e=et;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{B_(4,e)}catch(l){On(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){On(e,i,l)}}var s=e.return;try{Sb(e)}catch(l){On(e,s,l)}break;case 5:var o=e.return;try{Sb(e)}catch(l){On(e,o,l)}}}catch(l){On(e,e.return,l)}if(e===n){et=null;break}var a=e.sibling;if(a!==null){a.return=e.return,et=a;break}et=e.return}}var CV=Math.ceil,R1=qa.ReactCurrentDispatcher,dE=qa.ReactCurrentOwner,Js=qa.ReactCurrentBatchConfig,jt=0,Mr=null,sr=null,kr=0,es=0,Md=bc(0),pr=0,Jm=null,$u=0,I_=0,hE=0,lm=null,Ri=null,pE=0,sh=1/0,Aa=null,D1=!1,Mb=null,tc=null,_v=!1,Gl=null,B1=0,cm=0,Cb=null,Hy=-1,Vy=0;function _i(){return jt&6?Yn():Hy!==-1?Hy:Hy=Yn()}function nc(n){return n.mode&1?jt&2&&kr!==0?kr&-kr:cV.transition!==null?(Vy===0&&(Vy=WO()),Vy):(n=qt,n!==0||(n=window.event,n=n===void 0?16:QO(n.type)),n):1}function yo(n,e,t,r){if(50<cm)throw cm=0,Cb=null,Error(Ge(185));Eg(n,t,r),(!(jt&2)||n!==Mr)&&(n===Mr&&(!(jt&2)&&(I_|=t),pr===4&&Ul(n,kr)),Ui(n,r),t===1&&jt===0&&!(e.mode&1)&&(sh=Yn()+500,P_&&Mc()))}function Ui(n,e){var t=n.callbackNode;cH(n,e);var r=m1(n,n===Mr?kr:0);if(r===0)t!==null&&h3(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&h3(t),e===1)n.tag===0?lV(sR.bind(null,n)):gF(sR.bind(null,n)),iV(function(){!(jt&6)&&Mc()}),t=null;else{switch(jO(r)){case 1:t=zC;break;case 4:t=HO;break;case 16:t=p1;break;case 536870912:t=VO;break;default:t=p1}t=m4(t,l4.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function l4(n,e){if(Hy=-1,Vy=0,jt&6)throw Error(Ge(327));var t=n.callbackNode;if(Vd()&&n.callbackNode!==t)return null;var r=m1(n,n===Mr?kr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=I1(n,r);else{e=r;var i=jt;jt|=2;var s=u4();(Mr!==n||kr!==e)&&(Aa=null,sh=Yn()+500,Eu(n,e));do try{PV();break}catch(a){c4(n,a)}while(1);qC(),R1.current=s,jt=i,sr!==null?e=0:(Mr=null,kr=0,e=pr)}if(e!==0){if(e===2&&(i=qA(n),i!==0&&(r=i,e=Eb(n,i))),e===1)throw t=Jm,Eu(n,0),Ul(n,r),Ui(n,Yn()),t;if(e===6)Ul(n,r);else{if(i=n.current.alternate,!(r&30)&&!EV(i)&&(e=I1(n,r),e===2&&(s=qA(n),s!==0&&(r=s,e=Eb(n,s))),e===1))throw t=Jm,Eu(n,0),Ul(n,r),Ui(n,Yn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ge(345));case 2:au(n,Ri,Aa);break;case 3:if(Ul(n,r),(r&130023424)===r&&(e=pE+500-Yn(),10<e)){if(m1(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){_i(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=ab(au.bind(null,n,Ri,Aa),e);break}au(n,Ri,Aa);break;case 4:if(Ul(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-vo(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Yn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CV(r/1960))-r,10<r){n.timeoutHandle=ab(au.bind(null,n,Ri,Aa),r);break}au(n,Ri,Aa);break;case 5:au(n,Ri,Aa);break;default:throw Error(Ge(329))}}}return Ui(n,Yn()),n.callbackNode===t?l4.bind(null,n):null}function Eb(n,e){var t=lm;return n.current.memoizedState.isDehydrated&&(Eu(n,e).flags|=256),n=I1(n,e),n!==2&&(e=Ri,Ri=t,e!==null&&Tb(e)),n}function Tb(n){Ri===null?Ri=n:Ri.push.apply(Ri,n)}function EV(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Ao(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ul(n,e){for(e&=~hE,e&=~I_,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-vo(e),r=1<<t;n[t]=-1,e&=~r}}function sR(n){if(jt&6)throw Error(Ge(327));Vd();var e=m1(n,0);if(!(e&1))return Ui(n,Yn()),null;var t=I1(n,e);if(n.tag!==0&&t===2){var r=qA(n);r!==0&&(e=r,t=Eb(n,r))}if(t===1)throw t=Jm,Eu(n,0),Ul(n,e),Ui(n,Yn()),t;if(t===6)throw Error(Ge(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,au(n,Ri,Aa),Ui(n,Yn()),null}function mE(n,e){var t=jt;jt|=1;try{return n(e)}finally{jt=t,jt===0&&(sh=Yn()+500,P_&&Mc())}}function Xu(n){Gl!==null&&Gl.tag===0&&!(jt&6)&&Vd();var e=jt;jt|=1;var t=Js.transition,r=qt;try{if(Js.transition=null,qt=1,n)return n()}finally{qt=r,Js.transition=t,jt=e,!(jt&6)&&Mc()}}function gE(){es=Md.current,pn(Md)}function Eu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,rV(t)),sr!==null)for(t=sr.return;t!==null;){var r=t;switch(YC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&x1();break;case 3:rh(),pn(Fi),pn(ni),sE();break;case 5:iE(r);break;case 4:rh();break;case 13:pn(Cn);break;case 19:pn(Cn);break;case 10:eE(r.type._context);break;case 22:case 23:gE()}t=t.return}if(Mr=n,sr=n=rc(n.current,null),kr=es=e,pr=0,Jm=null,hE=I_=$u=0,Ri=lm=null,gu!==null){for(e=0;e<gu.length;e++)if(t=gu[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}gu=null}return n}function c4(n,e){do{var t=sr;try{if(qC(),Uy.current=P1,T1){for(var r=Bn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}T1=!1}if(ju=0,Ar=dr=Bn=null,om=!1,jm=0,dE.current=null,t===null||t.return===null){pr=1,Jm=e,sr=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=kr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=$3(o);if(p!==null){p.flags&=-257,X3(p,o,a,s,e),p.mode&1&&j3(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){j3(s,c,e),vE();break e}l=Error(Ge(426))}}else if(_n&&a.mode&1){var y=$3(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),X3(y,o,a,s,e),QC(ih(l,a));break e}}s=l=ih(l,a),pr!==4&&(pr=2),lm===null?lm=[s]:lm.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=$F(s,l,e);N3(s,x);break e;case 1:a=l;var _=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(tc===null||!tc.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=XF(s,a,e);N3(s,A);break e}}s=s.return}while(s!==null)}d4(t)}catch(M){e=M,sr===t&&t!==null&&(sr=t=t.return);continue}break}while(1)}function u4(){var n=R1.current;return R1.current=P1,n===null?P1:n}function vE(){(pr===0||pr===3||pr===2)&&(pr=4),Mr===null||!($u&268435455)&&!(I_&268435455)||Ul(Mr,kr)}function I1(n,e){var t=jt;jt|=2;var r=u4();(Mr!==n||kr!==e)&&(Aa=null,Eu(n,e));do try{TV();break}catch(i){c4(n,i)}while(1);if(qC(),jt=t,R1.current=r,sr!==null)throw Error(Ge(261));return Mr=null,kr=0,pr}function TV(){for(;sr!==null;)f4(sr)}function PV(){for(;sr!==null&&!eH();)f4(sr)}function f4(n){var e=p4(n.alternate,n,es);n.memoizedProps=n.pendingProps,e===null?d4(n):sr=e,dE.current=null}function d4(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=SV(t,e),t!==null){t.flags&=32767,sr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{pr=6,sr=null;return}}else if(t=wV(t,e,es),t!==null){sr=t;return}if(e=e.sibling,e!==null){sr=e;return}sr=e=n}while(e!==null);pr===0&&(pr=5)}function au(n,e,t){var r=qt,i=Js.transition;try{Js.transition=null,qt=1,RV(n,e,t,r)}finally{Js.transition=i,qt=r}return null}function RV(n,e,t,r){do Vd();while(Gl!==null);if(jt&6)throw Error(Ge(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ge(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(uH(n,s),n===Mr&&(sr=Mr=null,kr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||_v||(_v=!0,m4(p1,function(){return Vd(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Js.transition,Js.transition=null;var o=qt;qt=1;var a=jt;jt|=4,dE.current=null,bV(n,t),o4(t,n),YH(sb),g1=!!ib,sb=ib=null,n.current=t,MV(t),tH(),jt=a,qt=o,Js.transition=s}else n.current=t;if(_v&&(_v=!1,Gl=n,B1=i),s=n.pendingLanes,s===0&&(tc=null),iH(t.stateNode),Ui(n,Yn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(D1)throw D1=!1,n=Mb,Mb=null,n;return B1&1&&n.tag!==0&&Vd(),s=n.pendingLanes,s&1?n===Cb?cm++:(cm=0,Cb=n):cm=0,Mc(),null}function Vd(){if(Gl!==null){var n=jO(B1),e=Js.transition,t=qt;try{if(Js.transition=null,qt=16>n?16:n,Gl===null)var r=!1;else{if(n=Gl,Gl=null,B1=0,jt&6)throw Error(Ge(331));var i=jt;for(jt|=4,et=n.current;et!==null;){var s=et,o=s.child;if(et.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(et=c;et!==null;){var u=et;switch(u.tag){case 0:case 11:case 15:am(8,u,s)}var f=u.child;if(f!==null)f.return=u,et=f;else for(;et!==null;){u=et;var d=u.sibling,p=u.return;if(r4(u),u===c){et=null;break}if(d!==null){d.return=p,et=d;break}et=p}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}et=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,et=o;else e:for(;et!==null;){if(s=et,s.flags&2048)switch(s.tag){case 0:case 11:case 15:am(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,et=x;break e}et=s.return}}var _=n.current;for(et=_;et!==null;){o=et;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,et=w;else e:for(o=_;et!==null;){if(a=et,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:B_(9,a)}}catch(M){On(a,a.return,M)}if(a===o){et=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,et=A;break e}et=a.return}}if(jt=i,Mc(),Xo&&typeof Xo.onPostCommitFiberRoot=="function")try{Xo.onPostCommitFiberRoot(b_,n)}catch{}r=!0}return r}finally{qt=t,Js.transition=e}}return!1}function oR(n,e,t){e=ih(t,e),e=$F(n,e,1),n=ec(n,e,1),e=_i(),n!==null&&(Eg(n,1,e),Ui(n,e))}function On(n,e,t){if(n.tag===3)oR(n,n,t);else for(;e!==null;){if(e.tag===3){oR(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tc===null||!tc.has(r))){n=ih(t,n),n=XF(e,n,1),e=ec(e,n,1),n=_i(),e!==null&&(Eg(e,1,n),Ui(e,n));break}}e=e.return}}function DV(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=_i(),n.pingedLanes|=n.suspendedLanes&t,Mr===n&&(kr&t)===t&&(pr===4||pr===3&&(kr&130023424)===kr&&500>Yn()-pE?Eu(n,0):hE|=t),Ui(n,e)}function h4(n,e){e===0&&(n.mode&1?(e=cv,cv<<=1,!(cv&130023424)&&(cv=4194304)):e=1);var t=_i();n=Ha(n,e),n!==null&&(Eg(n,e,t),Ui(n,t))}function BV(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),h4(n,t)}function IV(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ge(314))}r!==null&&r.delete(e),h4(n,t)}var p4;p4=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Fi.current)Li=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Li=!1,xV(n,e,t);Li=!!(n.flags&131072)}else Li=!1,_n&&e.flags&1048576&&vF(e,A1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gy(n,e),n=e.pendingProps;var i=eh(e,ni.current);Hd(e,t),i=aE(null,e,r,n,i,t);var s=lE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ni(r)?(s=!0,w1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nE(e),i.updater=R_,e.stateNode=i,i._reactInternals=e,pb(e,r,n,t),e=vb(null,e,r,!0,s,t)):(e.tag=0,_n&&s&&KC(e),gi(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Gy(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=kV(r),n=fo(r,n),i){case 0:e=gb(null,e,r,n,t);break e;case 1:e=Y3(null,e,r,n,t);break e;case 11:e=J3(null,e,r,n,t);break e;case 14:e=K3(null,e,r,fo(r.type,n),t);break e}throw Error(Ge(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fo(r,i),gb(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fo(r,i),Y3(n,e,r,i,t);case 3:e:{if(QF(e),n===null)throw Error(Ge(387));r=e.pendingProps,s=e.memoizedState,i=s.element,wF(n,e),C1(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ih(Error(Ge(423)),e),e=Q3(n,e,r,t,i);break e}else if(r!==i){i=ih(Error(Ge(424)),e),e=Q3(n,e,r,t,i);break e}else for(is=ql(e.stateNode.containerInfo.firstChild),os=e,_n=!0,po=null,t=MF(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(th(),r===i){e=Va(n,e,t);break e}gi(n,e,r,t)}e=e.child}return e;case 5:return CF(e),n===null&&fb(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,ob(r,i)?o=null:s!==null&&ob(r,s)&&(e.flags|=32),YF(n,e),gi(n,e,o,t),e.child;case 6:return n===null&&fb(e),null;case 13:return ZF(n,e,t);case 4:return rE(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=nh(e,null,r,t):gi(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fo(r,i),J3(n,e,r,i,t);case 7:return gi(n,e,e.pendingProps,t),e.child;case 8:return gi(n,e,e.pendingProps.children,t),e.child;case 12:return gi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,cn(b1,r._currentValue),r._currentValue=o,s!==null)if(Ao(s.value,o)){if(s.children===i.children&&!Fi.current){e=Va(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ka(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),db(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ge(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),db(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}gi(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Hd(e,t),i=Ks(i),r=r(i),e.flags|=1,gi(n,e,r,t),e.child;case 14:return r=e.type,i=fo(r,e.pendingProps),i=fo(r.type,i),K3(n,e,r,i,t);case 15:return JF(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fo(r,i),Gy(n,e),e.tag=1,Ni(r)?(n=!0,w1(e)):n=!1,Hd(e,t),AF(e,r,i),pb(e,r,i,t),vb(null,e,r,!0,n,t);case 19:return qF(n,e,t);case 22:return KF(n,e,t)}throw Error(Ge(156,e.tag))};function m4(n,e){return GO(n,e)}function LV(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(n,e,t,r){return new LV(n,e,t,r)}function yE(n){return n=n.prototype,!(!n||!n.isReactComponent)}function kV(n){if(typeof n=="function")return yE(n)?1:0;if(n!=null){if(n=n.$$typeof,n===FC)return 11;if(n===NC)return 14}return 2}function rc(n,e){var t=n.alternate;return t===null?(t=Hs(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Wy(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")yE(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case md:return Tu(t.children,i,s,e);case OC:o=8,i|=8;break;case NA:return n=Hs(12,t,e,i|2),n.elementType=NA,n.lanes=s,n;case UA:return n=Hs(13,t,e,i),n.elementType=UA,n.lanes=s,n;case zA:return n=Hs(19,t,e,i),n.elementType=zA,n.lanes=s,n;case bO:return L_(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case SO:o=10;break e;case AO:o=9;break e;case FC:o=11;break e;case NC:o=14;break e;case Il:o=16,r=null;break e}throw Error(Ge(130,n==null?n:typeof n,""))}return e=Hs(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Tu(n,e,t,r){return n=Hs(7,n,r,e),n.lanes=t,n}function L_(n,e,t,r){return n=Hs(22,n,r,e),n.elementType=bO,n.lanes=t,n.stateNode={isHidden:!1},n}function jw(n,e,t){return n=Hs(6,n,null,e),n.lanes=t,n}function $w(n,e,t){return e=Hs(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function OV(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cw(0),this.expirationTimes=Cw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _E(n,e,t,r,i,s,o,a,l){return n=new OV(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Hs(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},nE(s),n}function FV(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pd,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function g4(n){if(!n)return cc;n=n._reactInternals;e:{if(lf(n)!==n||n.tag!==1)throw Error(Ge(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ni(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ge(171))}if(n.tag===1){var t=n.type;if(Ni(t))return mF(n,t,e)}return e}function v4(n,e,t,r,i,s,o,a,l){return n=_E(t,r,!0,n,i,s,o,a,l),n.context=g4(null),t=n.current,r=_i(),i=nc(t),s=ka(r,i),s.callback=e??null,ec(t,s,i),n.current.lanes=i,Eg(n,i,r),Ui(n,r),n}function k_(n,e,t,r){var i=e.current,s=_i(),o=nc(i);return t=g4(t),e.context===null?e.context=t:e.pendingContext=t,e=ka(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=ec(i,e,o),n!==null&&(yo(n,i,o,s),Ny(n,i,o)),o}function L1(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function aR(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function xE(n,e){aR(n,e),(n=n.alternate)&&aR(n,e)}function NV(){return null}var y4=typeof reportError=="function"?reportError:function(n){console.error(n)};function wE(n){this._internalRoot=n}O_.prototype.render=wE.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ge(409));k_(n,e,null,null)};O_.prototype.unmount=wE.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Xu(function(){k_(null,n,null,null)}),e[Ga]=null}};function O_(n){this._internalRoot=n}O_.prototype.unstable_scheduleHydration=function(n){if(n){var e=JO();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Nl.length&&e!==0&&e<Nl[t].priority;t++);Nl.splice(t,0,n),t===0&&YO(n)}};function SE(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function F_(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function lR(){}function UV(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=L1(o);s.call(c)}}var o=v4(e,r,n,0,null,!1,!1,"",lR);return n._reactRootContainer=o,n[Ga]=o.current,zm(n.nodeType===8?n.parentNode:n),Xu(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=L1(l);a.call(c)}}var l=_E(n,0,!1,null,null,!1,!1,"",lR);return n._reactRootContainer=l,n[Ga]=l.current,zm(n.nodeType===8?n.parentNode:n),Xu(function(){k_(e,l,t,r)}),l}function N_(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=L1(o);a.call(l)}}k_(e,o,n,i)}else o=UV(t,e,n,i,r);return L1(o)}$O=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Jp(e.pendingLanes);t!==0&&(GC(e,t|1),Ui(e,Yn()),!(jt&6)&&(sh=Yn()+500,Mc()))}break;case 13:Xu(function(){var r=Ha(n,1);if(r!==null){var i=_i();yo(r,n,1,i)}}),xE(n,1)}};HC=function(n){if(n.tag===13){var e=Ha(n,134217728);if(e!==null){var t=_i();yo(e,n,134217728,t)}xE(n,134217728)}};XO=function(n){if(n.tag===13){var e=nc(n),t=Ha(n,e);if(t!==null){var r=_i();yo(t,n,e,r)}xE(n,e)}};JO=function(){return qt};KO=function(n,e){var t=qt;try{return qt=n,e()}finally{qt=t}};YA=function(n,e,t){switch(e){case"input":if(VA(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=T_(r);if(!i)throw Error(Ge(90));CO(r),VA(r,i)}}}break;case"textarea":TO(n,t);break;case"select":e=t.value,e!=null&&Nd(n,!!t.multiple,e,!1)}};kO=mE;OO=Xu;var zV={usingClientEntryPoint:!1,Events:[Pg,_d,T_,IO,LO,mE]},xp={findFiberByHostInstance:mu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},GV={bundleType:xp.bundleType,version:xp.version,rendererPackageName:xp.rendererPackageName,rendererConfig:xp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qa.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=UO(n),n===null?null:n.stateNode},findFiberByHostInstance:xp.findFiberByHostInstance||NV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xv.isDisabled&&xv.supportsFiber)try{b_=xv.inject(GV),Xo=xv}catch{}}ps.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zV;ps.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!SE(e))throw Error(Ge(200));return FV(n,e,null,t)};ps.createRoot=function(n,e){if(!SE(n))throw Error(Ge(299));var t=!1,r="",i=y4;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_E(n,1,!1,null,null,t,!1,r,i),n[Ga]=e.current,zm(n.nodeType===8?n.parentNode:n),new wE(e)};ps.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ge(188)):(n=Object.keys(n).join(","),Error(Ge(268,n)));return n=UO(e),n=n===null?null:n.stateNode,n};ps.flushSync=function(n){return Xu(n)};ps.hydrate=function(n,e,t){if(!F_(e))throw Error(Ge(200));return N_(null,n,e,!0,t)};ps.hydrateRoot=function(n,e,t){if(!SE(n))throw Error(Ge(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=y4;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=v4(e,null,n,1,t??null,i,!1,s,o),n[Ga]=e.current,zm(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new O_(e)};ps.render=function(n,e,t){if(!F_(e))throw Error(Ge(200));return N_(null,n,e,!1,t)};ps.unmountComponentAtNode=function(n){if(!F_(n))throw Error(Ge(40));return n._reactRootContainer?(Xu(function(){N_(null,null,n,!1,function(){n._reactRootContainer=null,n[Ga]=null})}),!0):!1};ps.unstable_batchedUpdates=mE;ps.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!F_(t))throw Error(Ge(200));if(n==null||n._reactInternals===void 0)throw Error(Ge(38));return N_(n,e,t,!1,r)};ps.version="18.2.0-next-9e3b772b8-20220608";(function(n){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}e(),n.exports=ps})(N9);const _4=TC(Hu);var x4,cR=Hu;x4=kA.createRoot=cR.createRoot,kA.hydrateRoot=cR.hydrateRoot;function Qt(){return Qt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Qt.apply(this,arguments)}/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Dg="146",HV={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},VV={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},w4=0,Pb=1,S4=2,WV=3,A4=0,U_=1,um=2,yu=3,Wa=0,xi=1,Vs=2,Oa=0,Pu=1,Rb=2,Db=3,Bb=4,b4=5,hu=100,M4=101,C4=102,Ib=103,Lb=104,E4=200,T4=201,P4=202,R4=203,AE=204,bE=205,D4=206,B4=207,I4=208,L4=209,k4=210,O4=0,F4=1,N4=2,k1=3,U4=4,z4=5,G4=6,H4=7,Bg=0,V4=1,W4=2,_o=0,j4=1,$4=2,X4=3,ME=4,J4=5,z_=300,uc=301,fc=302,oh=303,Km=304,Ch=306,qo=1e3,hr=1001,ah=1002,Qn=1003,Ym=1004,jV=1004,Qm=1005,$V=1005,dn=1006,G_=1007,XV=1007,el=1008,JV=1008,ja=1009,K4=1010,Y4=1011,CE=1012,Q4=1013,Hl=1014,Ba=1015,lh=1016,Z4=1017,q4=1018,Ru=1020,eN=1021,tN=1022,Di=1023,nN=1024,rN=1025,ic=1026,Ju=1027,iN=1028,sN=1029,oN=1030,aN=1031,lN=1033,jy=33776,$y=33777,Xy=33778,Jy=33779,kb=35840,Ob=35841,Fb=35842,Nb=35843,cN=36196,Ub=37492,zb=37496,Gb=37808,Hb=37809,Vb=37810,Wb=37811,jb=37812,$b=37813,Xb=37814,Jb=37815,Kb=37816,Yb=37817,Qb=37818,Zb=37819,qb=37820,eM=37821,tM=36492,uN=2200,fN=2201,dN=2202,ch=2300,Ku=2301,Ky=2302,_u=2400,xu=2401,Zm=2402,H_=2500,EE=2501,hN=0,TE=1,O1=2,dc=3e3,yn=3001,pN=3200,PE=3201,Cc=0,mN=1,KV="",Vo="srgb",Vl="srgb-linear",YV=0,Yy=7680,QV=7681,ZV=7682,qV=7683,eW=34055,tW=34056,nW=5386,rW=512,iW=513,sW=514,oW=515,aW=516,lW=517,cW=518,gN=519,qm=35044,uW=35048,fW=35040,dW=35045,hW=35049,pW=35041,mW=35046,gW=35050,vW=35042,yW="100",nM="300 es",F1=1035;class tl{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Jr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let uR=1234567;const Du=Math.PI/180,eg=180/Math.PI;function as(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Jr[n&255]+Jr[n>>8&255]+Jr[n>>16&255]+Jr[n>>24&255]+"-"+Jr[e&255]+Jr[e>>8&255]+"-"+Jr[e>>16&15|64]+Jr[e>>24&255]+"-"+Jr[t&63|128]+Jr[t>>8&255]+"-"+Jr[t>>16&255]+Jr[t>>24&255]+Jr[r&255]+Jr[r>>8&255]+Jr[r>>16&255]+Jr[r>>24&255]).toLowerCase()}function Zn(n,e,t){return Math.max(e,Math.min(t,n))}function RE(n,e){return(n%e+e)%e}function _W(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function xW(n,e,t){return n!==e?(t-n)/(e-n):0}function fm(n,e,t){return(1-t)*n+t*e}function wW(n,e,t,r){return fm(n,e,1-Math.exp(-t*r))}function SW(n,e=1){return e-Math.abs(RE(n,e*2)-e)}function AW(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function bW(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function MW(n,e){return n+Math.floor(Math.random()*(e-n+1))}function CW(n,e){return n+Math.random()*(e-n)}function EW(n){return n*(.5-Math.random())}function TW(n){n!==void 0&&(uR=n);let e=uR+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function PW(n){return n*Du}function RW(n){return n*eg}function rM(n){return(n&n-1)===0&&n!==0}function vN(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function N1(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function DW(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),f=s((e-r)/2),d=o((e-r)/2),p=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*f,l*d,a*c);break;case"YZY":n.set(l*d,a*u,l*f,a*c);break;case"ZXZ":n.set(l*f,l*d,a*u,a*c);break;case"XZX":n.set(a*u,l*g,l*p,a*c);break;case"YXY":n.set(l*p,a*u,l*g,a*c);break;case"ZYZ":n.set(l*g,l*p,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ia(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function an(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var Bi=Object.freeze({__proto__:null,DEG2RAD:Du,RAD2DEG:eg,generateUUID:as,clamp:Zn,euclideanModulo:RE,mapLinear:_W,inverseLerp:xW,lerp:fm,damp:wW,pingpong:SW,smoothstep:AW,smootherstep:bW,randInt:MW,randFloat:CW,randFloatSpread:EW,seededRandom:TW,degToRad:PW,radToDeg:RW,isPowerOfTwo:rM,ceilPowerOfTwo:vN,floorPowerOfTwo:N1,setQuaternionFromProperEuler:DW,normalize:an,denormalize:Ia});class De{constructor(e=0,t=0){De.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Zr{constructor(){Zr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],f=r[7],d=r[2],p=r[5],g=r[8],v=i[0],y=i[3],x=i[6],_=i[1],w=i[4],A=i[7],M=i[2],E=i[5],R=i[8];return s[0]=o*v+a*_+l*M,s[3]=o*y+a*w+l*E,s[6]=o*x+a*A+l*R,s[1]=c*v+u*_+f*M,s[4]=c*y+u*w+f*E,s[7]=c*x+u*A+f*R,s[2]=d*v+p*_+g*M,s[5]=d*y+p*w+g*E,s[8]=d*x+p*A+g*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,d=a*l-u*s,p=c*s-o*l,g=t*f+r*d+i*p;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=f*v,e[1]=(i*c-u*r)*v,e[2]=(a*r-i*o)*v,e[3]=d*v,e[4]=(u*t-i*l)*v,e[5]=(i*s-a*t)*v,e[6]=p*v,e[7]=(r*l-c*t)*v,e[8]=(o*t-r*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],c=i[4],u=i[7];return i[0]=t*s+r*l,i[3]=t*o+r*c,i[6]=t*a+r*u,i[1]=-r*s+t*l,i[4]=-r*o+t*c,i[7]=-r*a+t*u,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function yN(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const BW={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Cd(n,e){return new BW[n](e)}function tg(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Bu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Qy(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const Xw={[Vo]:{[Vl]:Bu},[Vl]:{[Vo]:Qy}},Ds={legacyMode:!0,get workingColorSpace(){return Vl},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(Xw[e]&&Xw[e][t]!==void 0){const r=Xw[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},_N={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},fr={r:0,g:0,b:0},oo={h:0,s:0,l:0},wv={h:0,s:0,l:0};function Jw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Sv(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}let He=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Vo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ds.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Vl){return this.r=e,this.g=t,this.b=r,Ds.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Vl){if(e=RE(e,1),t=Zn(t,0,1),r=Zn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=Jw(o,s,e+1/3),this.g=Jw(o,s,e),this.b=Jw(o,s,e-1/3)}return Ds.toWorkingColorSpace(this,i),this}setStyle(e,t=Vo){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,Ds.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,Ds.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseFloat(s[2])/100,u=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,c,u,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,Ds.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,Ds.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Vo){const r=_N[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Bu(e.r),this.g=Bu(e.g),this.b=Bu(e.b),this}copyLinearToSRGB(e){return this.r=Qy(e.r),this.g=Qy(e.g),this.b=Qy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Vo){return Ds.fromWorkingColorSpace(Sv(this,fr),e),Zn(fr.r*255,0,255)<<16^Zn(fr.g*255,0,255)<<8^Zn(fr.b*255,0,255)<<0}getHexString(e=Vo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Vl){Ds.fromWorkingColorSpace(Sv(this,fr),t);const r=fr.r,i=fr.g,s=fr.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=u<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Vl){return Ds.fromWorkingColorSpace(Sv(this,fr),t),e.r=fr.r,e.g=fr.g,e.b=fr.b,e}getStyle(e=Vo){return Ds.fromWorkingColorSpace(Sv(this,fr),e),e!==Vo?`color(${e} ${fr.r} ${fr.g} ${fr.b})`:`rgb(${fr.r*255|0},${fr.g*255|0},${fr.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(oo),oo.h+=e,oo.s+=t,oo.l+=r,this.setHSL(oo.h,oo.s,oo.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(oo),e.getHSL(wv);const r=fm(oo.h,wv.h,t),i=fm(oo.s,wv.s,t),s=fm(oo.l,wv.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};He.NAMES=_N;let Ff;class DE{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Ff===void 0&&(Ff=tg("canvas")),Ff.width=e.width,Ff.height=e.height;const r=Ff.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Ff}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=tg("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Bu(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Bu(t[r]/255)*255):t[r]=Bu(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class wu{constructor(e=null){this.isSource=!0,this.uuid=as(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(Kw(i[o].image)):s.push(Kw(i[o]))}else s=Kw(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function Kw(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?DE.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let IW=0;class mn extends tl{constructor(e=mn.DEFAULT_IMAGE,t=mn.DEFAULT_MAPPING,r=hr,i=hr,s=dn,o=el,a=Di,l=ja,c=1,u=dc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:IW++}),this.uuid=as(),this.name="",this.source=new wu(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new De(0,0),this.repeat=new De(1,1),this.center=new De(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Zr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==z_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case qo:e.x=e.x-Math.floor(e.x);break;case hr:e.x=e.x<0?0:1;break;case ah:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case qo:e.y=e.y-Math.floor(e.y);break;case hr:e.y=e.y<0?0:1;break;case ah:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}mn.DEFAULT_IMAGE=null;mn.DEFAULT_MAPPING=z_;class Pt{constructor(e=0,t=0,r=0,i=1){Pt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],f=l[8],d=l[1],p=l[5],g=l[9],v=l[2],y=l[6],x=l[10];if(Math.abs(u-d)<.01&&Math.abs(f-v)<.01&&Math.abs(g-y)<.01){if(Math.abs(u+d)<.1&&Math.abs(f+v)<.1&&Math.abs(g+y)<.1&&Math.abs(c+p+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(c+1)/2,A=(p+1)/2,M=(x+1)/2,E=(u+d)/4,R=(f+v)/4,C=(g+y)/4;return w>A&&w>M?w<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(w),i=E/r,s=R/r):A>M?A<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(A),r=E/i,s=C/i):M<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(M),r=R/s,i=C/s),this.set(r,i,s,t),this}let _=Math.sqrt((y-g)*(y-g)+(f-v)*(f-v)+(d-u)*(d-u));return Math.abs(_)<.001&&(_=1),this.x=(y-g)/_,this.y=(f-v)/_,this.z=(d-u)/_,this.w=Math.acos((c+p+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Qs extends tl{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Pt(0,0,e,t),this.scissorTest=!1,this.viewport=new Pt(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new mn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:dn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new wu(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ig extends mn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Qn,this.minFilter=Qn,this.wrapR=hr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class LW extends Qs{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Ig(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class V_ extends mn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Qn,this.minFilter=Qn,this.wrapR=hr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class kW extends Qs{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new V_(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class OW extends Qs{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Rn{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const d=s[o+0],p=s[o+1],g=s[o+2],v=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f;return}if(a===1){e[t+0]=d,e[t+1]=p,e[t+2]=g,e[t+3]=v;return}if(f!==v||l!==d||c!==p||u!==g){let y=1-a;const x=l*d+c*p+u*g+f*v,_=x>=0?1:-1,w=1-x*x;if(w>Number.EPSILON){const M=Math.sqrt(w),E=Math.atan2(M,x*_);y=Math.sin(y*E)/M,a=Math.sin(a*E)/M}const A=a*_;if(l=l*y+d*A,c=c*y+p*A,u=u*y+g*A,f=f*y+v*A,y===1-a){const M=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=M,c*=M,u*=M,f*=M}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=s[o],d=s[o+1],p=s[o+2],g=s[o+3];return e[t]=a*g+u*f+l*p-c*d,e[t+1]=l*g+u*d+c*f-a*p,e[t+2]=c*g+u*p+a*d-l*f,e[t+3]=u*g-a*f-l*d-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),f=a(s/2),d=l(r/2),p=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=d*u*f+c*p*g,this._y=c*p*f-d*u*g,this._z=c*u*g+d*p*f,this._w=c*u*f-d*p*g;break;case"YXZ":this._x=d*u*f+c*p*g,this._y=c*p*f-d*u*g,this._z=c*u*g-d*p*f,this._w=c*u*f+d*p*g;break;case"ZXY":this._x=d*u*f-c*p*g,this._y=c*p*f+d*u*g,this._z=c*u*g+d*p*f,this._w=c*u*f-d*p*g;break;case"ZYX":this._x=d*u*f-c*p*g,this._y=c*p*f+d*u*g,this._z=c*u*g-d*p*f,this._w=c*u*f+d*p*g;break;case"YZX":this._x=d*u*f+c*p*g,this._y=c*p*f+d*u*g,this._z=c*u*g-d*p*f,this._w=c*u*f-d*p*g;break;case"XZY":this._x=d*u*f-c*p*g,this._y=c*p*f-d*u*g,this._z=c*u*g+d*p*f,this._w=c*u*f+d*p*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],f=t[10],d=r+a+f;if(d>0){const p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(u-l)*p,this._y=(s-c)*p,this._z=(o-i)*p}else if(r>a&&r>f){const p=2*Math.sqrt(1+r-a-f);this._w=(u-l)/p,this._x=.25*p,this._y=(i+o)/p,this._z=(s+c)/p}else if(a>f){const p=2*Math.sqrt(1+a-r-f);this._w=(s-c)/p,this._x=(i+o)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+f-r-a);this._w=(o-i)/p,this._x=(s+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Zn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-t;return this._w=p*o+t*this._w,this._x=p*r+t*this._x,this._y=p*i+t*this._y,this._z=p*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-t)*u)/c,d=Math.sin(t*u)/c;return this._w=o*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=s*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ${constructor(e=0,t=0,r=0){$.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(fR.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(fR.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*i-a*r,u=l*r+a*t-s*i,f=l*i+s*r-o*t,d=-s*t-o*r-a*i;return this.x=c*l+d*-s+u*-a-f*-o,this.y=u*l+d*-o+f*-s-c*-a,this.z=f*l+d*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Yw.copy(this).projectOnVector(e),this.sub(Yw)}reflect(e){return this.sub(Yw.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Zn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Yw=new $,fR=new Rn;class nl{constructor(e=new $(1/0,1/0,1/0),t=new $(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],f=e[l+1],d=e[l+2];u<t&&(t=u),f<r&&(r=f),d<i&&(i=d),u>s&&(s=u),f>o&&(o=f),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),f=e.getY(l),d=e.getZ(l);u<t&&(t=u),f<r&&(r=f),d<i&&(i=d),u>s&&(s=u),f>o&&(o=f),d>a&&(a=d)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=$c.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)$c.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint($c)}else r.boundingBox===null&&r.computeBoundingBox(),Qw.copy(r.boundingBox),Qw.applyMatrix4(e.matrixWorld),this.union(Qw);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,$c),$c.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(wp),Av.subVectors(this.max,wp),Nf.subVectors(e.a,wp),Uf.subVectors(e.b,wp),zf.subVectors(e.c,wp),wl.subVectors(Uf,Nf),Sl.subVectors(zf,Uf),Xc.subVectors(Nf,zf);let t=[0,-wl.z,wl.y,0,-Sl.z,Sl.y,0,-Xc.z,Xc.y,wl.z,0,-wl.x,Sl.z,0,-Sl.x,Xc.z,0,-Xc.x,-wl.y,wl.x,0,-Sl.y,Sl.x,0,-Xc.y,Xc.x,0];return!Zw(t,Nf,Uf,zf,Av)||(t=[1,0,0,0,1,0,0,0,1],!Zw(t,Nf,Uf,zf,Av))?!1:(bv.crossVectors(wl,Sl),t=[bv.x,bv.y,bv.z],Zw(t,Nf,Uf,zf,Av))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return $c.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize($c).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ma[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ma[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ma[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ma[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ma[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ma[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ma[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ma[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ma),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ma=[new $,new $,new $,new $,new $,new $,new $,new $],$c=new $,Qw=new nl,Nf=new $,Uf=new $,zf=new $,wl=new $,Sl=new $,Xc=new $,wp=new $,Av=new $,bv=new $,Jc=new $;function Zw(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Jc.fromArray(n,s);const a=i.x*Math.abs(Jc.x)+i.y*Math.abs(Jc.y)+i.z*Math.abs(Jc.z),l=e.dot(Jc),c=t.dot(Jc),u=r.dot(Jc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const FW=new nl,Sp=new $,qw=new $;let rl=class{constructor(e=new $,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):FW.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Sp.subVectors(e,this.center);const t=Sp.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(Sp,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(qw.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Sp.copy(e.center).add(qw)),this.expandByPoint(Sp.copy(e.center).sub(qw))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const ga=new $,eS=new $,Mv=new $,Al=new $,tS=new $,Cv=new $,nS=new $;class Lg{constructor(e=new $,t=new $(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ga)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ga.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ga.copy(this.direction).multiplyScalar(t).add(this.origin),ga.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){eS.copy(e).add(t).multiplyScalar(.5),Mv.copy(t).sub(e).normalize(),Al.copy(this.origin).sub(eS);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Mv),a=Al.dot(this.direction),l=-Al.dot(Mv),c=Al.lengthSq(),u=Math.abs(1-o*o);let f,d,p,g;if(u>0)if(f=o*l-a,d=o*a-l,g=s*u,f>=0)if(d>=-g)if(d<=g){const v=1/u;f*=v,d*=v,p=f*(f+o*d+2*a)+d*(o*f+d+2*l)+c}else d=s,f=Math.max(0,-(o*d+a)),p=-f*f+d*(d+2*l)+c;else d=-s,f=Math.max(0,-(o*d+a)),p=-f*f+d*(d+2*l)+c;else d<=-g?(f=Math.max(0,-(-o*s+a)),d=f>0?-s:Math.min(Math.max(-s,-l),s),p=-f*f+d*(d+2*l)+c):d<=g?(f=0,d=Math.min(Math.max(-s,-l),s),p=d*(d+2*l)+c):(f=Math.max(0,-(o*s+a)),d=f>0?s:Math.min(Math.max(-s,-l),s),p=-f*f+d*(d+2*l)+c);else d=o>0?-s:s,f=Math.max(0,-(o*d+a)),p=-f*f+d*(d+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(f).add(this.origin),i&&i.copy(Mv).multiplyScalar(d).add(eS),p}intersectSphere(e,t){ga.subVectors(e.center,this.origin);const r=ga.dot(this.direction),i=ga.dot(ga)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(s=(e.min.y-d.y)*u,o=(e.max.y-d.y)*u):(s=(e.max.y-d.y)*u,o=(e.min.y-d.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(a=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,ga)!==null}intersectTriangle(e,t,r,i,s){tS.subVectors(t,e),Cv.subVectors(r,e),nS.crossVectors(tS,Cv);let o=this.direction.dot(nS),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Al.subVectors(this.origin,e);const l=a*this.direction.dot(Cv.crossVectors(Al,Cv));if(l<0)return null;const c=a*this.direction.dot(tS.cross(Al));if(c<0||l+c>o)return null;const u=-a*Al.dot(nS);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ze{constructor(){Ze.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,c,u,f,d,p,g,v,y){const x=this.elements;return x[0]=e,x[4]=t,x[8]=r,x[12]=i,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=c,x[6]=u,x[10]=f,x[14]=d,x[3]=p,x[7]=g,x[11]=v,x[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ze().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/Gf.setFromMatrixColumn(e,0).length(),s=1/Gf.setFromMatrixColumn(e,1).length(),o=1/Gf.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const d=o*u,p=o*f,g=a*u,v=a*f;t[0]=l*u,t[4]=-l*f,t[8]=c,t[1]=p+g*c,t[5]=d-v*c,t[9]=-a*l,t[2]=v-d*c,t[6]=g+p*c,t[10]=o*l}else if(e.order==="YXZ"){const d=l*u,p=l*f,g=c*u,v=c*f;t[0]=d+v*a,t[4]=g*a-p,t[8]=o*c,t[1]=o*f,t[5]=o*u,t[9]=-a,t[2]=p*a-g,t[6]=v+d*a,t[10]=o*l}else if(e.order==="ZXY"){const d=l*u,p=l*f,g=c*u,v=c*f;t[0]=d-v*a,t[4]=-o*f,t[8]=g+p*a,t[1]=p+g*a,t[5]=o*u,t[9]=v-d*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const d=o*u,p=o*f,g=a*u,v=a*f;t[0]=l*u,t[4]=g*c-p,t[8]=d*c+v,t[1]=l*f,t[5]=v*c+d,t[9]=p*c-g,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const d=o*l,p=o*c,g=a*l,v=a*c;t[0]=l*u,t[4]=v-d*f,t[8]=g*f+p,t[1]=f,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=p*f+g,t[10]=d-v*f}else if(e.order==="XZY"){const d=o*l,p=o*c,g=a*l,v=a*c;t[0]=l*u,t[4]=-f,t[8]=c*u,t[1]=d*f+v,t[5]=o*u,t[9]=p*f-g,t[2]=g*f-p,t[6]=a*u,t[10]=v*f+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(NW,e,UW)}lookAt(e,t,r){const i=this.elements;return Zi.subVectors(e,t),Zi.lengthSq()===0&&(Zi.z=1),Zi.normalize(),bl.crossVectors(r,Zi),bl.lengthSq()===0&&(Math.abs(r.z)===1?Zi.x+=1e-4:Zi.z+=1e-4,Zi.normalize(),bl.crossVectors(r,Zi)),bl.normalize(),Ev.crossVectors(Zi,bl),i[0]=bl.x,i[4]=Ev.x,i[8]=Zi.x,i[1]=bl.y,i[5]=Ev.y,i[9]=Zi.y,i[2]=bl.z,i[6]=Ev.z,i[10]=Zi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],f=r[5],d=r[9],p=r[13],g=r[2],v=r[6],y=r[10],x=r[14],_=r[3],w=r[7],A=r[11],M=r[15],E=i[0],R=i[4],C=i[8],T=i[12],D=i[1],L=i[5],F=i[9],N=i[13],k=i[2],H=i[6],W=i[10],Y=i[14],z=i[3],U=i[7],V=i[11],G=i[15];return s[0]=o*E+a*D+l*k+c*z,s[4]=o*R+a*L+l*H+c*U,s[8]=o*C+a*F+l*W+c*V,s[12]=o*T+a*N+l*Y+c*G,s[1]=u*E+f*D+d*k+p*z,s[5]=u*R+f*L+d*H+p*U,s[9]=u*C+f*F+d*W+p*V,s[13]=u*T+f*N+d*Y+p*G,s[2]=g*E+v*D+y*k+x*z,s[6]=g*R+v*L+y*H+x*U,s[10]=g*C+v*F+y*W+x*V,s[14]=g*T+v*N+y*Y+x*G,s[3]=_*E+w*D+A*k+M*z,s[7]=_*R+w*L+A*H+M*U,s[11]=_*C+w*F+A*W+M*V,s[15]=_*T+w*N+A*Y+M*G,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],d=e[10],p=e[14],g=e[3],v=e[7],y=e[11],x=e[15];return g*(+s*l*f-i*c*f-s*a*d+r*c*d+i*a*p-r*l*p)+v*(+t*l*p-t*c*d+s*o*d-i*o*p+i*c*u-s*l*u)+y*(+t*c*f-t*a*p-s*o*f+r*o*p+s*a*u-r*c*u)+x*(-i*a*u-t*l*f+t*a*d+i*o*f-r*o*d+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],p=e[11],g=e[12],v=e[13],y=e[14],x=e[15],_=f*y*c-v*d*c+v*l*p-a*y*p-f*l*x+a*d*x,w=g*d*c-u*y*c-g*l*p+o*y*p+u*l*x-o*d*x,A=u*v*c-g*f*c+g*a*p-o*v*p-u*a*x+o*f*x,M=g*f*l-u*v*l-g*a*d+o*v*d+u*a*y-o*f*y,E=t*_+r*w+i*A+s*M;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/E;return e[0]=_*R,e[1]=(v*d*s-f*y*s-v*i*p+r*y*p+f*i*x-r*d*x)*R,e[2]=(a*y*s-v*l*s+v*i*c-r*y*c-a*i*x+r*l*x)*R,e[3]=(f*l*s-a*d*s-f*i*c+r*d*c+a*i*p-r*l*p)*R,e[4]=w*R,e[5]=(u*y*s-g*d*s+g*i*p-t*y*p-u*i*x+t*d*x)*R,e[6]=(g*l*s-o*y*s-g*i*c+t*y*c+o*i*x-t*l*x)*R,e[7]=(o*d*s-u*l*s+u*i*c-t*d*c-o*i*p+t*l*p)*R,e[8]=A*R,e[9]=(g*f*s-u*v*s-g*r*p+t*v*p+u*r*x-t*f*x)*R,e[10]=(o*v*s-g*a*s+g*r*c-t*v*c-o*r*x+t*a*x)*R,e[11]=(u*a*s-o*f*s-u*r*c+t*f*c+o*r*p-t*a*p)*R,e[12]=M*R,e[13]=(u*v*i-g*f*i+g*r*d-t*v*d-u*r*y+t*f*y)*R,e[14]=(g*a*i-o*v*i-g*r*l+t*v*l+o*r*y-t*a*y)*R,e[15]=(o*f*i-u*a*i+u*r*l-t*f*l-o*r*d+t*a*d)*R,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,f=a+a,d=s*c,p=s*u,g=s*f,v=o*u,y=o*f,x=a*f,_=l*c,w=l*u,A=l*f,M=r.x,E=r.y,R=r.z;return i[0]=(1-(v+x))*M,i[1]=(p+A)*M,i[2]=(g-w)*M,i[3]=0,i[4]=(p-A)*E,i[5]=(1-(d+x))*E,i[6]=(y+_)*E,i[7]=0,i[8]=(g+w)*R,i[9]=(y-_)*R,i[10]=(1-(d+v))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=Gf.set(i[0],i[1],i[2]).length();const o=Gf.set(i[4],i[5],i[6]).length(),a=Gf.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],ao.copy(this);const c=1/s,u=1/o,f=1/a;return ao.elements[0]*=c,ao.elements[1]*=c,ao.elements[2]*=c,ao.elements[4]*=u,ao.elements[5]*=u,ao.elements[6]*=u,ao.elements[8]*=f,ao.elements[9]*=f,ao.elements[10]*=f,t.setFromRotationMatrix(ao),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),c=2*s/(r-i),u=(t+e)/(t-e),f=(r+i)/(r-i),d=-(o+s)/(o-s),p=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=f,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),c=1/(r-i),u=1/(o-s),f=(t+e)*l,d=(r+i)*c,p=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-f,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Gf=new $,ao=new Ze,NW=new $(0,0,0),UW=new $(1,1,1),bl=new $,Ev=new $,Zi=new $,dR=new Ze,hR=new Rn;class ss{constructor(e=0,t=0,r=0,i=ss.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],f=i[2],d=i[6],p=i[10];switch(t){case"XYZ":this._y=Math.asin(Zn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Zn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Zn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Zn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Zn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-Zn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return dR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(dR,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return hR.setFromEuler(this),this.setFromQuaternion(hR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}ss.DefaultOrder="XYZ";ss.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Iu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let zW=0;const pR=new $,Hf=new Rn,va=new Ze,Tv=new $,Ap=new $,GW=new $,HW=new Rn,mR=new $(1,0,0),gR=new $(0,1,0),vR=new $(0,0,1),VW={type:"added"},yR={type:"removed"};class It extends tl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:zW++}),this.uuid=as(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=It.DefaultUp.clone();const e=new $,t=new ss,r=new Rn,i=new $(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ze},normalMatrix:{value:new Zr}}),this.matrix=new Ze,this.matrixWorld=new Ze,this.matrixAutoUpdate=It.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=It.DefaultMatrixWorldAutoUpdate,this.layers=new Iu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Hf.setFromAxisAngle(e,t),this.quaternion.multiply(Hf),this}rotateOnWorldAxis(e,t){return Hf.setFromAxisAngle(e,t),this.quaternion.premultiply(Hf),this}rotateX(e){return this.rotateOnAxis(mR,e)}rotateY(e){return this.rotateOnAxis(gR,e)}rotateZ(e){return this.rotateOnAxis(vR,e)}translateOnAxis(e,t){return pR.copy(e).applyQuaternion(this.quaternion),this.position.add(pR.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(mR,e)}translateY(e){return this.translateOnAxis(gR,e)}translateZ(e){return this.translateOnAxis(vR,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(va.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Tv.copy(e):Tv.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Ap.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?va.lookAt(Ap,Tv,this.up):va.lookAt(Tv,Ap,this.up),this.quaternion.setFromRotationMatrix(va),i&&(va.extractRotation(i.matrixWorld),Hf.setFromRotationMatrix(va),this.quaternion.premultiply(Hf.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(VW)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(yR)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(yR)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),va.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),va.multiply(e.parent.matrixWorld)),e.applyMatrix4(va),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ap,e,GW),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ap,HW,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),d=o(e.skeletons),p=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),p.length>0&&(r.animations=p),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}It.DefaultUp=new $(0,1,0);It.DefaultMatrixAutoUpdate=!0;It.DefaultMatrixWorldAutoUpdate=!0;const lo=new $,ya=new $,rS=new $,_a=new $,Vf=new $,Wf=new $,_R=new $,iS=new $,sS=new $,oS=new $;class zs{constructor(e=new $,t=new $,r=new $){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),lo.subVectors(e,t),i.cross(lo);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){lo.subVectors(i,t),ya.subVectors(r,t),rS.subVectors(e,t);const o=lo.dot(lo),a=lo.dot(ya),l=lo.dot(rS),c=ya.dot(ya),u=ya.dot(rS),f=o*c-a*a;if(f===0)return s.set(-2,-1,-1);const d=1/f,p=(c*l-a*u)*d,g=(o*u-a*l)*d;return s.set(1-p-g,g,p)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,_a),_a.x>=0&&_a.y>=0&&_a.x+_a.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,_a),l.set(0,0),l.addScaledVector(s,_a.x),l.addScaledVector(o,_a.y),l.addScaledVector(a,_a.z),l}static isFrontFacing(e,t,r,i){return lo.subVectors(r,t),ya.subVectors(e,t),lo.cross(ya).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return lo.subVectors(this.c,this.b),ya.subVectors(this.a,this.b),lo.cross(ya).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return zs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return zs.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return zs.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return zs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return zs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;Vf.subVectors(i,r),Wf.subVectors(s,r),iS.subVectors(e,r);const l=Vf.dot(iS),c=Wf.dot(iS);if(l<=0&&c<=0)return t.copy(r);sS.subVectors(e,i);const u=Vf.dot(sS),f=Wf.dot(sS);if(u>=0&&f<=u)return t.copy(i);const d=l*f-u*c;if(d<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(Vf,o);oS.subVectors(e,s);const p=Vf.dot(oS),g=Wf.dot(oS);if(g>=0&&p<=g)return t.copy(s);const v=p*c-l*g;if(v<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(r).addScaledVector(Wf,a);const y=u*g-p*f;if(y<=0&&f-u>=0&&p-g>=0)return _R.subVectors(s,i),a=(f-u)/(f-u+(p-g)),t.copy(i).addScaledVector(_R,a);const x=1/(y+v+d);return o=v*x,a=d*x,t.copy(r).addScaledVector(Vf,o).addScaledVector(Wf,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let WW=0;class or extends tl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:WW++}),this.uuid=as(),this.name="",this.type="Material",this.blending=Pu,this.side=Wa,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=AE,this.blendDst=bE,this.blendEquation=hu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=k1,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=gN,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Yy,this.stencilZFail=Yy,this.stencilZPass=Yy,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Pu&&(r.blending=this.blending),this.side!==Wa&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ki extends or{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new He(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Bg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const nr=new $,Pv=new De;class Yt{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=qm,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)Pv.fromBufferAttribute(this,t),Pv.applyMatrix3(e),this.setXY(t,Pv.x,Pv.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)nr.fromBufferAttribute(this,t),nr.applyMatrix3(e),this.setXYZ(t,nr.x,nr.y,nr.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)nr.fromBufferAttribute(this,t),nr.applyMatrix4(e),this.setXYZ(t,nr.x,nr.y,nr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)nr.fromBufferAttribute(this,t),nr.applyNormalMatrix(e),this.setXYZ(t,nr.x,nr.y,nr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)nr.fromBufferAttribute(this,t),nr.transformDirection(e),this.setXYZ(t,nr.x,nr.y,nr.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ia(t,this.array)),t}setX(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ia(t,this.array)),t}setY(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ia(t,this.array)),t}setZ(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ia(t,this.array)),t}setW(e,t){return this.normalized&&(t=an(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=an(t,this.array),r=an(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=an(t,this.array),r=an(r,this.array),i=an(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=an(t,this.array),r=an(r,this.array),i=an(i,this.array),s=an(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==qm&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class jW extends Yt{constructor(e,t,r){super(new Int8Array(e),t,r)}}class $W extends Yt{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class XW extends Yt{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class JW extends Yt{constructor(e,t,r){super(new Int16Array(e),t,r)}}class W_ extends Yt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class KW extends Yt{constructor(e,t,r){super(new Int32Array(e),t,r)}}class BE extends Yt{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class YW extends Yt{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}}class qe extends Yt{constructor(e,t,r){super(new Float32Array(e),t,r)}}class QW extends Yt{constructor(e,t,r){super(new Float64Array(e),t,r)}}let ZW=0;const Ts=new Ze,aS=new It,jf=new $,qi=new nl,bp=new nl,Sr=new $;class pt extends tl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:ZW++}),this.uuid=as(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(yN(e)?BE:W_)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Zr().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ts.makeRotationFromQuaternion(e),this.applyMatrix4(Ts),this}rotateX(e){return Ts.makeRotationX(e),this.applyMatrix4(Ts),this}rotateY(e){return Ts.makeRotationY(e),this.applyMatrix4(Ts),this}rotateZ(e){return Ts.makeRotationZ(e),this.applyMatrix4(Ts),this}translate(e,t,r){return Ts.makeTranslation(e,t,r),this.applyMatrix4(Ts),this}scale(e,t,r){return Ts.makeScale(e,t,r),this.applyMatrix4(Ts),this}lookAt(e){return aS.lookAt(e),aS.updateMatrix(),this.applyMatrix4(aS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(jf).negate(),this.translate(jf.x,jf.y,jf.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new qe(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new nl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new $(-1/0,-1/0,-1/0),new $(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];qi.setFromBufferAttribute(s),this.morphTargetsRelative?(Sr.addVectors(this.boundingBox.min,qi.min),this.boundingBox.expandByPoint(Sr),Sr.addVectors(this.boundingBox.max,qi.max),this.boundingBox.expandByPoint(Sr)):(this.boundingBox.expandByPoint(qi.min),this.boundingBox.expandByPoint(qi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new rl);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new $,1/0);return}if(e){const r=this.boundingSphere.center;if(qi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];bp.setFromBufferAttribute(a),this.morphTargetsRelative?(Sr.addVectors(qi.min,bp.min),qi.expandByPoint(Sr),Sr.addVectors(qi.max,bp.max),qi.expandByPoint(Sr)):(qi.expandByPoint(bp.min),qi.expandByPoint(bp.max))}qi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Sr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Sr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Sr.fromBufferAttribute(a,c),l&&(jf.fromBufferAttribute(e,c),Sr.add(jf)),i=Math.max(i,r.distanceToSquared(Sr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Yt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let D=0;D<a;D++)c[D]=new $,u[D]=new $;const f=new $,d=new $,p=new $,g=new De,v=new De,y=new De,x=new $,_=new $;function w(D,L,F){f.fromArray(i,D*3),d.fromArray(i,L*3),p.fromArray(i,F*3),g.fromArray(o,D*2),v.fromArray(o,L*2),y.fromArray(o,F*2),d.sub(f),p.sub(f),v.sub(g),y.sub(g);const N=1/(v.x*y.y-y.x*v.y);isFinite(N)&&(x.copy(d).multiplyScalar(y.y).addScaledVector(p,-v.y).multiplyScalar(N),_.copy(p).multiplyScalar(v.x).addScaledVector(d,-y.x).multiplyScalar(N),c[D].add(x),c[L].add(x),c[F].add(x),u[D].add(_),u[L].add(_),u[F].add(_))}let A=this.groups;A.length===0&&(A=[{start:0,count:r.length}]);for(let D=0,L=A.length;D<L;++D){const F=A[D],N=F.start,k=F.count;for(let H=N,W=N+k;H<W;H+=3)w(r[H+0],r[H+1],r[H+2])}const M=new $,E=new $,R=new $,C=new $;function T(D){R.fromArray(s,D*3),C.copy(R);const L=c[D];M.copy(L),M.sub(R.multiplyScalar(R.dot(L))).normalize(),E.crossVectors(C,L);const N=E.dot(u[D])<0?-1:1;l[D*4]=M.x,l[D*4+1]=M.y,l[D*4+2]=M.z,l[D*4+3]=N}for(let D=0,L=A.length;D<L;++D){const F=A[D],N=F.start,k=F.count;for(let H=N,W=N+k;H<W;H+=3)T(r[H+0]),T(r[H+1]),T(r[H+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Yt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let d=0,p=r.count;d<p;d++)r.setXYZ(d,0,0,0);const i=new $,s=new $,o=new $,a=new $,l=new $,c=new $,u=new $,f=new $;if(e)for(let d=0,p=e.count;d<p;d+=3){const g=e.getX(d+0),v=e.getX(d+1),y=e.getX(d+2);i.fromBufferAttribute(t,g),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,y),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,v),c.fromBufferAttribute(r,y),a.add(u),l.add(u),c.add(u),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let d=0,p=t.count;d<p;d+=3)i.fromBufferAttribute(t,d+0),s.fromBufferAttribute(t,d+1),o.fromBufferAttribute(t,d+2),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),r.setXYZ(d+0,u.x,u.y,u.z),r.setXYZ(d+1,u.x,u.y,u.z),r.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Sr.fromBufferAttribute(e,t),Sr.normalize(),e.setXYZ(t,Sr.x,Sr.y,Sr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,d=new c.constructor(l.length*u);let p=0,g=0;for(let v=0,y=l.length;v<y;v++){a.isInterleavedBufferAttribute?p=l[v]*a.data.stride+a.offset:p=l[v]*u;for(let x=0;x<u;x++)d[g++]=c[p++]}return new Yt(d,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new pt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const d=c[u],p=e(d,r);l.push(p)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,d=c.length;f<d;f++){const p=c[f];u.push(p.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let d=0,p=f.length;d<p;d++)u.push(f[d].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const xR=new Ze,$f=new Lg,lS=new rl,Ml=new $,Cl=new $,El=new $,cS=new $,uS=new $,fS=new $,Rv=new $,Dv=new $,Bv=new $,Iv=new De,Lv=new De,kv=new De,dS=new $,Ov=new $;class Un extends It{constructor(e=new pt,t=new ki){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),lS.copy(r.boundingSphere),lS.applyMatrix4(s),e.ray.intersectsSphere(lS)===!1)||(xR.copy(s).invert(),$f.copy(e.ray).applyMatrix4(xR),r.boundingBox!==null&&$f.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.morphAttributes.position,u=r.morphTargetsRelative,f=r.attributes.uv,d=r.attributes.uv2,p=r.groups,g=r.drawRange;if(a!==null)if(Array.isArray(i))for(let v=0,y=p.length;v<y;v++){const x=p[v],_=i[x.materialIndex],w=Math.max(x.start,g.start),A=Math.min(a.count,Math.min(x.start+x.count,g.start+g.count));for(let M=w,E=A;M<E;M+=3){const R=a.getX(M),C=a.getX(M+1),T=a.getX(M+2);o=Fv(this,_,e,$f,l,c,u,f,d,R,C,T),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const v=Math.max(0,g.start),y=Math.min(a.count,g.start+g.count);for(let x=v,_=y;x<_;x+=3){const w=a.getX(x),A=a.getX(x+1),M=a.getX(x+2);o=Fv(this,i,e,$f,l,c,u,f,d,w,A,M),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let v=0,y=p.length;v<y;v++){const x=p[v],_=i[x.materialIndex],w=Math.max(x.start,g.start),A=Math.min(l.count,Math.min(x.start+x.count,g.start+g.count));for(let M=w,E=A;M<E;M+=3){const R=M,C=M+1,T=M+2;o=Fv(this,_,e,$f,l,c,u,f,d,R,C,T),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const v=Math.max(0,g.start),y=Math.min(l.count,g.start+g.count);for(let x=v,_=y;x<_;x+=3){const w=x,A=x+1,M=x+2;o=Fv(this,i,e,$f,l,c,u,f,d,w,A,M),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}}}function qW(n,e,t,r,i,s,o,a){let l;if(e.side===xi?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side!==Vs,a),l===null)return null;Ov.copy(a),Ov.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Ov);return c<t.near||c>t.far?null:{distance:c,point:Ov.clone(),object:n}}function Fv(n,e,t,r,i,s,o,a,l,c,u,f){Ml.fromBufferAttribute(i,c),Cl.fromBufferAttribute(i,u),El.fromBufferAttribute(i,f);const d=n.morphTargetInfluences;if(s&&d){Rv.set(0,0,0),Dv.set(0,0,0),Bv.set(0,0,0);for(let g=0,v=s.length;g<v;g++){const y=d[g],x=s[g];y!==0&&(cS.fromBufferAttribute(x,c),uS.fromBufferAttribute(x,u),fS.fromBufferAttribute(x,f),o?(Rv.addScaledVector(cS,y),Dv.addScaledVector(uS,y),Bv.addScaledVector(fS,y)):(Rv.addScaledVector(cS.sub(Ml),y),Dv.addScaledVector(uS.sub(Cl),y),Bv.addScaledVector(fS.sub(El),y)))}Ml.add(Rv),Cl.add(Dv),El.add(Bv)}n.isSkinnedMesh&&(n.boneTransform(c,Ml),n.boneTransform(u,Cl),n.boneTransform(f,El));const p=qW(n,e,t,r,Ml,Cl,El,dS);if(p){a&&(Iv.fromBufferAttribute(a,c),Lv.fromBufferAttribute(a,u),kv.fromBufferAttribute(a,f),p.uv=zs.getUV(dS,Ml,Cl,El,Iv,Lv,kv,new De)),l&&(Iv.fromBufferAttribute(l,c),Lv.fromBufferAttribute(l,u),kv.fromBufferAttribute(l,f),p.uv2=zs.getUV(dS,Ml,Cl,El,Iv,Lv,kv,new De));const g={a:c,b:u,c:f,normal:new $,materialIndex:0};zs.getNormal(Ml,Cl,El,g.normal),p.face=g}return p}class Ec extends pt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let d=0,p=0;g("z","y","x",-1,-1,r,t,e,o,s,0),g("z","y","x",1,-1,r,t,-e,o,s,1),g("x","z","y",1,1,e,r,t,i,o,2),g("x","z","y",1,-1,e,r,-t,i,o,3),g("x","y","z",1,-1,e,t,r,i,s,4),g("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new qe(c,3)),this.setAttribute("normal",new qe(u,3)),this.setAttribute("uv",new qe(f,2));function g(v,y,x,_,w,A,M,E,R,C,T){const D=A/R,L=M/C,F=A/2,N=M/2,k=E/2,H=R+1,W=C+1;let Y=0,z=0;const U=new $;for(let V=0;V<W;V++){const G=V*L-N;for(let X=0;X<H;X++){const te=X*D-F;U[v]=te*_,U[y]=G*w,U[x]=k,c.push(U.x,U.y,U.z),U[v]=0,U[y]=0,U[x]=E>0?1:-1,u.push(U.x,U.y,U.z),f.push(X/R),f.push(1-V/C),Y+=1}}for(let V=0;V<C;V++)for(let G=0;G<R;G++){const X=d+G+H*V,te=d+G+H*(V+1),re=d+(G+1)+H*(V+1),se=d+(G+1)+H*V;l.push(X,te,se),l.push(te,re,se),z+=6}a.addGroup(p,z,T),p+=z,d+=Y}}static fromJSON(e){return new Ec(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function uh(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function pi(n){const e={};for(let t=0;t<n.length;t++){const r=uh(n[t]);for(const i in r)e[i]=r[i]}return e}function e7(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}const j_={clone:uh,merge:pi};var t7=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,n7=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class bo extends or{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=t7,this.fragmentShader=n7,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=uh(e.uniforms),this.uniformsGroups=e7(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class kg extends It{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ze,this.projectionMatrix=new Ze,this.projectionMatrixInverse=new Ze}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class ir extends kg{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=eg*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Du*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return eg*2*Math.atan(Math.tan(Du*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Du*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Xf=90,Jf=1;class xN extends It{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new ir(Xf,Jf,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new $(1,0,0)),this.add(i);const s=new ir(Xf,Jf,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new $(-1,0,0)),this.add(s);const o=new ir(Xf,Jf,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new $(0,1,0)),this.add(o);const a=new ir(Xf,Jf,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new $(0,-1,0)),this.add(a);const l=new ir(Xf,Jf,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new $(0,0,1)),this.add(l);const c=new ir(Xf,Jf,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new $(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),f=e.toneMapping,d=e.xr.enabled;e.toneMapping=_o,e.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=p,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=f,e.xr.enabled=d,r.texture.needsPMREMUpdate=!0}}class Og extends mn{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:uc,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class wN extends Qs{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Og(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:dn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Ec(5,5,5),s=new bo({name:"CubemapFromEquirect",uniforms:uh(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:xi,blending:Oa});s.uniforms.tEquirect.value=t;const o=new Un(i,s),a=t.minFilter;return t.minFilter===el&&(t.minFilter=dn),new xN(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const hS=new $,r7=new $,i7=new Zr;class kl{constructor(e=new $(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=hS.subVectors(r,t).cross(r7.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(hS),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||i7.getNormalMatrix(e),i=this.coplanarPoint(hS).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Kf=new rl,Nv=new $;class $_{constructor(e=new kl,t=new kl,r=new kl,i=new kl,s=new kl,o=new kl){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],u=r[6],f=r[7],d=r[8],p=r[9],g=r[10],v=r[11],y=r[12],x=r[13],_=r[14],w=r[15];return t[0].setComponents(a-i,f-l,v-d,w-y).normalize(),t[1].setComponents(a+i,f+l,v+d,w+y).normalize(),t[2].setComponents(a+s,f+c,v+p,w+x).normalize(),t[3].setComponents(a-s,f-c,v-p,w-x).normalize(),t[4].setComponents(a-o,f-u,v-g,w-_).normalize(),t[5].setComponents(a+o,f+u,v+g,w+_).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Kf.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Kf)}intersectsSprite(e){return Kf.center.set(0,0,0),Kf.radius=.7071067811865476,Kf.applyMatrix4(e.matrixWorld),this.intersectsSphere(Kf)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Nv.x=i.normal.x>0?e.max.x:e.min.x,Nv.y=i.normal.y>0?e.max.y:e.min.y,Nv.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Nv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function SN(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function s7(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,d=c.usage,p=n.createBuffer();n.bindBuffer(u,p),n.bufferData(u,f,d),c.onUploadCallback();let g;if(f instanceof Float32Array)g=5126;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(f instanceof Int16Array)g=5122;else if(f instanceof Uint32Array)g=5125;else if(f instanceof Int32Array)g=5124;else if(f instanceof Int8Array)g=5120;else if(f instanceof Uint8Array)g=5121;else if(f instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:p,type:g,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,f){const d=u.array,p=u.updateRange;n.bindBuffer(f,c),p.count===-1?n.bufferSubData(f,0,d):(t?n.bufferSubData(f,p.offset*d.BYTES_PER_ELEMENT,d,p.offset,p.count):n.bufferSubData(f,p.offset*d.BYTES_PER_ELEMENT,d.subarray(p.offset,p.offset+p.count)),p.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const d=r.get(c);(!d||d.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);f===void 0?r.set(c,i(c,u)):f.version<c.version&&(s(f.buffer,c,u),f.version=c.version)}return{get:o,remove:a,update:l}}class il extends pt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,f=e/a,d=t/l,p=[],g=[],v=[],y=[];for(let x=0;x<u;x++){const _=x*d-o;for(let w=0;w<c;w++){const A=w*f-s;g.push(A,-_,0),v.push(0,0,1),y.push(w/a),y.push(1-x/l)}}for(let x=0;x<l;x++)for(let _=0;_<a;_++){const w=_+c*x,A=_+c*(x+1),M=_+1+c*(x+1),E=_+1+c*x;p.push(w,A,E),p.push(A,M,E)}this.setIndex(p),this.setAttribute("position",new qe(g,3)),this.setAttribute("normal",new qe(v,3)),this.setAttribute("uv",new qe(y,2))}static fromJSON(e){return new il(e.width,e.height,e.widthSegments,e.heightSegments)}}var o7=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,a7=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,l7=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,c7=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,u7=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,f7=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,d7="vec3 transformed = vec3( position );",h7=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,p7=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,m7=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,g7=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,v7=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,y7=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,_7=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,x7=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,w7=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,S7=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,A7=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,b7=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,M7=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,C7=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,E7=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,T7=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,P7=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,R7=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,D7=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,B7="gl_FragColor = linearToOutputTexel( gl_FragColor );",I7=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,L7=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,k7=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,O7=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,F7=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,N7=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,U7=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,z7=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,G7=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,H7=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,V7=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,W7=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,j7=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,$7=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,X7=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert
#define Material_LightProbeLOD( material )	(0)`,J7=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,K7=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Y7=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Q7=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,Z7=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,q7=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,ej=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,tj=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,nj=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,rj=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,ij=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,sj=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,oj=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,aj=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,lj=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,cj=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,uj=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,fj=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,dj=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,hj=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,pj=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,mj=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,gj=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,vj=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,yj=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,_j=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,xj=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,wj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Sj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Aj=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,bj=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Mj=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Cj=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Ej=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Tj=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Pj=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Rj=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,Dj=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Bj=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Ij=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Lj=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,kj=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Oj=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Fj=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Nj=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Uj=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,zj=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Gj=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Hj=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Vj=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Wj=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,jj=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,$j=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Xj=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Jj=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Kj=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,Yj=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Qj=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Zj=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,qj=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,e$=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,t$=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,n$=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,r$=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const i$=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,s$=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,o$=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,a$=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,l$=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,c$=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,u$=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,f$=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,d$=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,h$=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,p$=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,m$=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,g$=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,v$=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,y$=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,_$=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,x$=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,w$=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,S$=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,A$=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,b$=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,M$=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,C$=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,E$=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,T$=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,P$=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,R$=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,D$=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,B$=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,I$=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,L$=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,k$=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,O$=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,F$=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,bt={alphamap_fragment:o7,alphamap_pars_fragment:a7,alphatest_fragment:l7,alphatest_pars_fragment:c7,aomap_fragment:u7,aomap_pars_fragment:f7,begin_vertex:d7,beginnormal_vertex:h7,bsdfs:p7,iridescence_fragment:m7,bumpmap_pars_fragment:g7,clipping_planes_fragment:v7,clipping_planes_pars_fragment:y7,clipping_planes_pars_vertex:_7,clipping_planes_vertex:x7,color_fragment:w7,color_pars_fragment:S7,color_pars_vertex:A7,color_vertex:b7,common:M7,cube_uv_reflection_fragment:C7,defaultnormal_vertex:E7,displacementmap_pars_vertex:T7,displacementmap_vertex:P7,emissivemap_fragment:R7,emissivemap_pars_fragment:D7,encodings_fragment:B7,encodings_pars_fragment:I7,envmap_fragment:L7,envmap_common_pars_fragment:k7,envmap_pars_fragment:O7,envmap_pars_vertex:F7,envmap_physical_pars_fragment:K7,envmap_vertex:N7,fog_vertex:U7,fog_pars_vertex:z7,fog_fragment:G7,fog_pars_fragment:H7,gradientmap_pars_fragment:V7,lightmap_fragment:W7,lightmap_pars_fragment:j7,lights_lambert_fragment:$7,lights_lambert_pars_fragment:X7,lights_pars_begin:J7,lights_toon_fragment:Y7,lights_toon_pars_fragment:Q7,lights_phong_fragment:Z7,lights_phong_pars_fragment:q7,lights_physical_fragment:ej,lights_physical_pars_fragment:tj,lights_fragment_begin:nj,lights_fragment_maps:rj,lights_fragment_end:ij,logdepthbuf_fragment:sj,logdepthbuf_pars_fragment:oj,logdepthbuf_pars_vertex:aj,logdepthbuf_vertex:lj,map_fragment:cj,map_pars_fragment:uj,map_particle_fragment:fj,map_particle_pars_fragment:dj,metalnessmap_fragment:hj,metalnessmap_pars_fragment:pj,morphcolor_vertex:mj,morphnormal_vertex:gj,morphtarget_pars_vertex:vj,morphtarget_vertex:yj,normal_fragment_begin:_j,normal_fragment_maps:xj,normal_pars_fragment:wj,normal_pars_vertex:Sj,normal_vertex:Aj,normalmap_pars_fragment:bj,clearcoat_normal_fragment_begin:Mj,clearcoat_normal_fragment_maps:Cj,clearcoat_pars_fragment:Ej,iridescence_pars_fragment:Tj,output_fragment:Pj,packing:Rj,premultiplied_alpha_fragment:Dj,project_vertex:Bj,dithering_fragment:Ij,dithering_pars_fragment:Lj,roughnessmap_fragment:kj,roughnessmap_pars_fragment:Oj,shadowmap_pars_fragment:Fj,shadowmap_pars_vertex:Nj,shadowmap_vertex:Uj,shadowmask_pars_fragment:zj,skinbase_vertex:Gj,skinning_pars_vertex:Hj,skinning_vertex:Vj,skinnormal_vertex:Wj,specularmap_fragment:jj,specularmap_pars_fragment:$j,tonemapping_fragment:Xj,tonemapping_pars_fragment:Jj,transmission_fragment:Kj,transmission_pars_fragment:Yj,uv_pars_fragment:Qj,uv_pars_vertex:Zj,uv_vertex:qj,uv2_pars_fragment:e$,uv2_pars_vertex:t$,uv2_vertex:n$,worldpos_vertex:r$,background_vert:i$,background_frag:s$,backgroundCube_vert:o$,backgroundCube_frag:a$,cube_vert:l$,cube_frag:c$,depth_vert:u$,depth_frag:f$,distanceRGBA_vert:d$,distanceRGBA_frag:h$,equirect_vert:p$,equirect_frag:m$,linedashed_vert:g$,linedashed_frag:v$,meshbasic_vert:y$,meshbasic_frag:_$,meshlambert_vert:x$,meshlambert_frag:w$,meshmatcap_vert:S$,meshmatcap_frag:A$,meshnormal_vert:b$,meshnormal_frag:M$,meshphong_vert:C$,meshphong_frag:E$,meshphysical_vert:T$,meshphysical_frag:P$,meshtoon_vert:R$,meshtoon_frag:D$,points_vert:B$,points_frag:I$,shadow_vert:L$,shadow_frag:k$,sprite_vert:O$,sprite_frag:F$},Je={common:{diffuse:{value:new He(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Zr},uv2Transform:{value:new Zr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new De(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new He(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new He(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Zr}},sprite:{diffuse:{value:new He(16777215)},opacity:{value:1},center:{value:new De(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Zr}}},mo={basic:{uniforms:pi([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.fog]),vertexShader:bt.meshbasic_vert,fragmentShader:bt.meshbasic_frag},lambert:{uniforms:pi([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,Je.lights,{emissive:{value:new He(0)}}]),vertexShader:bt.meshlambert_vert,fragmentShader:bt.meshlambert_frag},phong:{uniforms:pi([Je.common,Je.specularmap,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,Je.lights,{emissive:{value:new He(0)},specular:{value:new He(1118481)},shininess:{value:30}}]),vertexShader:bt.meshphong_vert,fragmentShader:bt.meshphong_frag},standard:{uniforms:pi([Je.common,Je.envmap,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.roughnessmap,Je.metalnessmap,Je.fog,Je.lights,{emissive:{value:new He(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:bt.meshphysical_vert,fragmentShader:bt.meshphysical_frag},toon:{uniforms:pi([Je.common,Je.aomap,Je.lightmap,Je.emissivemap,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.gradientmap,Je.fog,Je.lights,{emissive:{value:new He(0)}}]),vertexShader:bt.meshtoon_vert,fragmentShader:bt.meshtoon_frag},matcap:{uniforms:pi([Je.common,Je.bumpmap,Je.normalmap,Je.displacementmap,Je.fog,{matcap:{value:null}}]),vertexShader:bt.meshmatcap_vert,fragmentShader:bt.meshmatcap_frag},points:{uniforms:pi([Je.points,Je.fog]),vertexShader:bt.points_vert,fragmentShader:bt.points_frag},dashed:{uniforms:pi([Je.common,Je.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:bt.linedashed_vert,fragmentShader:bt.linedashed_frag},depth:{uniforms:pi([Je.common,Je.displacementmap]),vertexShader:bt.depth_vert,fragmentShader:bt.depth_frag},normal:{uniforms:pi([Je.common,Je.bumpmap,Je.normalmap,Je.displacementmap,{opacity:{value:1}}]),vertexShader:bt.meshnormal_vert,fragmentShader:bt.meshnormal_frag},sprite:{uniforms:pi([Je.sprite,Je.fog]),vertexShader:bt.sprite_vert,fragmentShader:bt.sprite_frag},background:{uniforms:{uvTransform:{value:new Zr},t2D:{value:null}},vertexShader:bt.background_vert,fragmentShader:bt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0}},vertexShader:bt.backgroundCube_vert,fragmentShader:bt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:bt.cube_vert,fragmentShader:bt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:bt.equirect_vert,fragmentShader:bt.equirect_frag},distanceRGBA:{uniforms:pi([Je.common,Je.displacementmap,{referencePosition:{value:new $},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:bt.distanceRGBA_vert,fragmentShader:bt.distanceRGBA_frag},shadow:{uniforms:pi([Je.lights,Je.fog,{color:{value:new He(0)},opacity:{value:1}}]),vertexShader:bt.shadow_vert,fragmentShader:bt.shadow_frag}};mo.physical={uniforms:pi([mo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new De(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new He(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new De},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new He(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new He(1,1,1)},specularColorMap:{value:null}}]),vertexShader:bt.meshphysical_vert,fragmentShader:bt.meshphysical_frag};function N$(n,e,t,r,i,s,o){const a=new He(0);let l=s===!0?0:1,c,u,f=null,d=0,p=null;function g(y,x){let _=!1,w=x.isScene===!0?x.background:null;w&&w.isTexture&&(w=(x.backgroundBlurriness>0?t:e).get(w));const A=n.xr,M=A.getSession&&A.getSession();M&&M.environmentBlendMode==="additive"&&(w=null),w===null?v(a,l):w&&w.isColor&&(v(w,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),w&&(w.isCubeTexture||w.mapping===Ch)?(u===void 0&&(u=new Un(new Ec(1,1,1),new bo({name:"BackgroundCubeMaterial",uniforms:uh(mo.backgroundCube.uniforms),vertexShader:mo.backgroundCube.vertexShader,fragmentShader:mo.backgroundCube.fragmentShader,side:xi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(E,R,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=w,u.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,(f!==w||d!==w.version||p!==n.toneMapping)&&(u.material.needsUpdate=!0,f=w,d=w.version,p=n.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null)):w&&w.isTexture&&(c===void 0&&(c=new Un(new il(2,2),new bo({name:"BackgroundMaterial",uniforms:uh(mo.background.uniforms),vertexShader:mo.background.vertexShader,fragmentShader:mo.background.fragmentShader,side:Wa,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=w,w.matrixAutoUpdate===!0&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(f!==w||d!==w.version||p!==n.toneMapping)&&(c.material.needsUpdate=!0,f=w,d=w.version,p=n.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null))}function v(y,x){r.buffers.color.setClear(y.r,y.g,y.b,x,o)}return{getClearColor:function(){return a},setClearColor:function(y,x=1){a.set(y),l=x,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,v(a,l)},render:g}}function U$(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let c=l,u=!1;function f(k,H,W,Y,z){let U=!1;if(o){const V=v(Y,W,H);c!==V&&(c=V,p(c.object)),U=x(k,Y,W,z),U&&_(k,Y,W,z)}else{const V=H.wireframe===!0;(c.geometry!==Y.id||c.program!==W.id||c.wireframe!==V)&&(c.geometry=Y.id,c.program=W.id,c.wireframe=V,U=!0)}z!==null&&t.update(z,34963),(U||u)&&(u=!1,C(k,H,W,Y),z!==null&&n.bindBuffer(34963,t.get(z).buffer))}function d(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function p(k){return r.isWebGL2?n.bindVertexArray(k):s.bindVertexArrayOES(k)}function g(k){return r.isWebGL2?n.deleteVertexArray(k):s.deleteVertexArrayOES(k)}function v(k,H,W){const Y=W.wireframe===!0;let z=a[k.id];z===void 0&&(z={},a[k.id]=z);let U=z[H.id];U===void 0&&(U={},z[H.id]=U);let V=U[Y];return V===void 0&&(V=y(d()),U[Y]=V),V}function y(k){const H=[],W=[],Y=[];for(let z=0;z<i;z++)H[z]=0,W[z]=0,Y[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:H,enabledAttributes:W,attributeDivisors:Y,object:k,attributes:{},index:null}}function x(k,H,W,Y){const z=c.attributes,U=H.attributes;let V=0;const G=W.getAttributes();for(const X in G)if(G[X].location>=0){const re=z[X];let se=U[X];if(se===void 0&&(X==="instanceMatrix"&&k.instanceMatrix&&(se=k.instanceMatrix),X==="instanceColor"&&k.instanceColor&&(se=k.instanceColor)),re===void 0||re.attribute!==se||se&&re.data!==se.data)return!0;V++}return c.attributesNum!==V||c.index!==Y}function _(k,H,W,Y){const z={},U=H.attributes;let V=0;const G=W.getAttributes();for(const X in G)if(G[X].location>=0){let re=U[X];re===void 0&&(X==="instanceMatrix"&&k.instanceMatrix&&(re=k.instanceMatrix),X==="instanceColor"&&k.instanceColor&&(re=k.instanceColor));const se={};se.attribute=re,re&&re.data&&(se.data=re.data),z[X]=se,V++}c.attributes=z,c.attributesNum=V,c.index=Y}function w(){const k=c.newAttributes;for(let H=0,W=k.length;H<W;H++)k[H]=0}function A(k){M(k,0)}function M(k,H){const W=c.newAttributes,Y=c.enabledAttributes,z=c.attributeDivisors;W[k]=1,Y[k]===0&&(n.enableVertexAttribArray(k),Y[k]=1),z[k]!==H&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](k,H),z[k]=H)}function E(){const k=c.newAttributes,H=c.enabledAttributes;for(let W=0,Y=H.length;W<Y;W++)H[W]!==k[W]&&(n.disableVertexAttribArray(W),H[W]=0)}function R(k,H,W,Y,z,U){r.isWebGL2===!0&&(W===5124||W===5125)?n.vertexAttribIPointer(k,H,W,z,U):n.vertexAttribPointer(k,H,W,Y,z,U)}function C(k,H,W,Y){if(r.isWebGL2===!1&&(k.isInstancedMesh||Y.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const z=Y.attributes,U=W.getAttributes(),V=H.defaultAttributeValues;for(const G in U){const X=U[G];if(X.location>=0){let te=z[G];if(te===void 0&&(G==="instanceMatrix"&&k.instanceMatrix&&(te=k.instanceMatrix),G==="instanceColor"&&k.instanceColor&&(te=k.instanceColor)),te!==void 0){const re=te.normalized,se=te.itemSize,q=t.get(te);if(q===void 0)continue;const oe=q.buffer,de=q.type,Te=q.bytesPerElement;if(te.isInterleavedBufferAttribute){const ye=te.data,Se=ye.stride,ne=te.offset;if(ye.isInstancedInterleavedBuffer){for(let le=0;le<X.locationSize;le++)M(X.location+le,ye.meshPerAttribute);k.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=ye.meshPerAttribute*ye.count)}else for(let le=0;le<X.locationSize;le++)A(X.location+le);n.bindBuffer(34962,oe);for(let le=0;le<X.locationSize;le++)R(X.location+le,se/X.locationSize,de,re,Se*Te,(ne+se/X.locationSize*le)*Te)}else{if(te.isInstancedBufferAttribute){for(let ye=0;ye<X.locationSize;ye++)M(X.location+ye,te.meshPerAttribute);k.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=te.meshPerAttribute*te.count)}else for(let ye=0;ye<X.locationSize;ye++)A(X.location+ye);n.bindBuffer(34962,oe);for(let ye=0;ye<X.locationSize;ye++)R(X.location+ye,se/X.locationSize,de,re,se*Te,se/X.locationSize*ye*Te)}}else if(V!==void 0){const re=V[G];if(re!==void 0)switch(re.length){case 2:n.vertexAttrib2fv(X.location,re);break;case 3:n.vertexAttrib3fv(X.location,re);break;case 4:n.vertexAttrib4fv(X.location,re);break;default:n.vertexAttrib1fv(X.location,re)}}}}E()}function T(){F();for(const k in a){const H=a[k];for(const W in H){const Y=H[W];for(const z in Y)g(Y[z].object),delete Y[z];delete H[W]}delete a[k]}}function D(k){if(a[k.id]===void 0)return;const H=a[k.id];for(const W in H){const Y=H[W];for(const z in Y)g(Y[z].object),delete Y[z];delete H[W]}delete a[k.id]}function L(k){for(const H in a){const W=a[H];if(W[k.id]===void 0)continue;const Y=W[k.id];for(const z in Y)g(Y[z].object),delete Y[z];delete W[k.id]}}function F(){N(),u=!0,c!==l&&(c=l,p(c.object))}function N(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:F,resetDefaultState:N,dispose:T,releaseStatesOfGeometry:D,releaseStatesOfProgram:L,initAttributes:w,enableAttribute:A,disableUnusedAttributes:E}}function z$(n,e,t,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)}function l(c,u,f){if(f===0)return;let d,p;if(i)d=n,p="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[p](s,c,u,f),t.update(u,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function G$(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,f=n.getParameter(34930),d=n.getParameter(35660),p=n.getParameter(3379),g=n.getParameter(34076),v=n.getParameter(34921),y=n.getParameter(36347),x=n.getParameter(36348),_=n.getParameter(36349),w=d>0,A=o||e.has("OES_texture_float"),M=w&&A,E=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:d,maxTextureSize:p,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:y,maxVaryings:x,maxFragmentUniforms:_,vertexTextures:w,floatFragmentTextures:A,floatVertexTextures:M,maxSamples:E}}function H$(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new kl,a=new Zr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d,p){const g=f.length!==0||d||r!==0||i;return i=d,t=u(f,p,0),r=f.length,g},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(f,d,p){const g=f.clippingPlanes,v=f.clipIntersection,y=f.clipShadows,x=n.get(f);if(!i||g===null||g.length===0||s&&!y)s?u(null):c();else{const _=s?0:r,w=_*4;let A=x.clippingState||null;l.value=A,A=u(g,d,w,p);for(let M=0;M!==w;++M)A[M]=t[M];x.clippingState=A,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,d,p,g){const v=f!==null?f.length:0;let y=null;if(v!==0){if(y=l.value,g!==!0||y===null){const x=p+v*4,_=d.matrixWorldInverse;a.getNormalMatrix(_),(y===null||y.length<x)&&(y=new Float32Array(x));for(let w=0,A=p;w!==v;++w,A+=4)o.copy(f[w]).applyMatrix4(_,a),o.normal.toArray(y,A),y[A+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,y}}function V$(n){let e=new WeakMap;function t(o,a){return a===oh?o.mapping=uc:a===Km&&(o.mapping=fc),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===oh||a===Km)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new wN(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class cf extends kg{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Ed=4,wR=[.125,.215,.35,.446,.526,.582],pu=20,pS=new cf,SR=new He;let mS=null;const lu=(1+Math.sqrt(5))/2,Yf=1/lu,AR=[new $(1,1,1),new $(-1,1,1),new $(1,1,-1),new $(-1,1,-1),new $(0,lu,Yf),new $(0,lu,-Yf),new $(Yf,0,lu),new $(-Yf,0,lu),new $(lu,Yf,0),new $(-lu,Yf,0)];class iM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){mS=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=CR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=MR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(mS),e.scissorTest=!1,Uv(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===uc||e.mapping===fc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),mS=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:dn,minFilter:dn,generateMipmaps:!1,type:lh,format:Di,encoding:dc,depthBuffer:!1},i=bR(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=bR(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=W$(s)),this._blurMaterial=j$(s,e,t)}return i}_compileMaterial(e){const t=new Un(this._lodPlanes[0],e);this._renderer.compile(t,pS)}_sceneToCubeUV(e,t,r,i){const a=new ir(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,d=u.toneMapping;u.getClearColor(SR),u.toneMapping=_o,u.autoClear=!1;const p=new ki({name:"PMREM.Background",side:xi,depthWrite:!1,depthTest:!1}),g=new Un(new Ec,p);let v=!1;const y=e.background;y?y.isColor&&(p.color.copy(y),e.background=null,v=!0):(p.color.copy(SR),v=!0);for(let x=0;x<6;x++){const _=x%3;_===0?(a.up.set(0,l[x],0),a.lookAt(c[x],0,0)):_===1?(a.up.set(0,0,l[x]),a.lookAt(0,c[x],0)):(a.up.set(0,l[x],0),a.lookAt(0,0,c[x]));const w=this._cubeSize;Uv(i,_*w,x>2?w:0,w,w),u.setRenderTarget(i),v&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=d,u.autoClear=f,e.background=y}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===uc||e.mapping===fc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=CR()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=MR());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Un(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Uv(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,pS)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=AR[(i-1)%AR.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new Un(this._lodPlanes[i],c),d=c.uniforms,p=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*pu-1),v=s/g,y=isFinite(s)?1+Math.floor(u*v):pu;y>pu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${pu}`);const x=[];let _=0;for(let R=0;R<pu;++R){const C=R/v,T=Math.exp(-C*C/2);x.push(T),R===0?_+=T:R<y&&(_+=2*T)}for(let R=0;R<x.length;R++)x[R]=x[R]/_;d.envMap.value=e.texture,d.samples.value=y,d.weights.value=x,d.latitudinal.value=o==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:w}=this;d.dTheta.value=g,d.mipInt.value=w-r;const A=this._sizeLods[i],M=3*A*(i>w-Ed?i-w+Ed:0),E=4*(this._cubeSize-A);Uv(t,M,E,3*A,2*A),l.setRenderTarget(t),l.render(f,pS)}}function W$(n){const e=[],t=[],r=[];let i=n;const s=n-Ed+1+wR.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-Ed?l=wR[o-n+Ed-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,f=1+c,d=[u,u,f,u,f,f,u,u,f,f,u,f],p=6,g=6,v=3,y=2,x=1,_=new Float32Array(v*g*p),w=new Float32Array(y*g*p),A=new Float32Array(x*g*p);for(let E=0;E<p;E++){const R=E%3*2/3-1,C=E>2?0:-1,T=[R,C,0,R+2/3,C,0,R+2/3,C+1,0,R,C,0,R+2/3,C+1,0,R,C+1,0];_.set(T,v*g*E),w.set(d,y*g*E);const D=[E,E,E,E,E,E];A.set(D,x*g*E)}const M=new pt;M.setAttribute("position",new Yt(_,v)),M.setAttribute("uv",new Yt(w,y)),M.setAttribute("faceIndex",new Yt(A,x)),e.push(M),i>Ed&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function bR(n,e,t){const r=new Qs(n,e,t);return r.texture.mapping=Ch,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Uv(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function j$(n,e,t){const r=new Float32Array(pu),i=new $(0,1,0);return new bo({name:"SphericalGaussianBlur",defines:{n:pu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:IE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Oa,depthTest:!1,depthWrite:!1})}function MR(){return new bo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:IE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Oa,depthTest:!1,depthWrite:!1})}function CR(){return new bo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:IE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Oa,depthTest:!1,depthWrite:!1})}function IE(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function $$(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===oh||l===Km,u=l===uc||l===fc;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new iM(n)),f=c?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||u&&f&&i(f)){t===null&&(t=new iM(n));const d=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,d),a.addEventListener("dispose",s),d.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function X$(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function J$(n,e,t,r){const i={},s=new WeakMap;function o(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const g in d.attributes)e.remove(d.attributes[g]);d.removeEventListener("dispose",o),delete i[d.id];const p=s.get(d);p&&(e.remove(p),s.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,t.memory.geometries--}function a(f,d){return i[d.id]===!0||(d.addEventListener("dispose",o),i[d.id]=!0,t.memory.geometries++),d}function l(f){const d=f.attributes;for(const g in d)e.update(d[g],34962);const p=f.morphAttributes;for(const g in p){const v=p[g];for(let y=0,x=v.length;y<x;y++)e.update(v[y],34962)}}function c(f){const d=[],p=f.index,g=f.attributes.position;let v=0;if(p!==null){const _=p.array;v=p.version;for(let w=0,A=_.length;w<A;w+=3){const M=_[w+0],E=_[w+1],R=_[w+2];d.push(M,E,E,R,R,M)}}else{const _=g.array;v=g.version;for(let w=0,A=_.length/3-1;w<A;w+=3){const M=w+0,E=w+1,R=w+2;d.push(M,E,E,R,R,M)}}const y=new(yN(d)?BE:W_)(d,1);y.version=v;const x=s.get(f);x&&e.remove(x),s.set(f,y)}function u(f){const d=s.get(f);if(d){const p=f.index;p!==null&&d.version<p.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function K$(n,e,t,r){const i=r.isWebGL2;let s;function o(d){s=d}let a,l;function c(d){a=d.type,l=d.bytesPerElement}function u(d,p){n.drawElements(s,p,a,d*l),t.update(p,s,1)}function f(d,p,g){if(g===0)return;let v,y;if(i)v=n,y="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](s,p,a,d*l,g),t.update(p,s,g)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f}function Y$(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function Q$(n,e){return n[0]-e[0]}function Z$(n,e){return Math.abs(e[1])-Math.abs(n[1])}function q$(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new Pt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,f,d){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const v=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,y=v!==void 0?v.length:0;let x=s.get(u);if(x===void 0||x.count!==y){let W=function(){k.dispose(),s.delete(u),u.removeEventListener("dispose",W)};var g=W;x!==void 0&&x.texture.dispose();const A=u.morphAttributes.position!==void 0,M=u.morphAttributes.normal!==void 0,E=u.morphAttributes.color!==void 0,R=u.morphAttributes.position||[],C=u.morphAttributes.normal||[],T=u.morphAttributes.color||[];let D=0;A===!0&&(D=1),M===!0&&(D=2),E===!0&&(D=3);let L=u.attributes.position.count*D,F=1;L>e.maxTextureSize&&(F=Math.ceil(L/e.maxTextureSize),L=e.maxTextureSize);const N=new Float32Array(L*F*4*y),k=new Ig(N,L,F,y);k.type=Ba,k.needsUpdate=!0;const H=D*4;for(let Y=0;Y<y;Y++){const z=R[Y],U=C[Y],V=T[Y],G=L*F*4*Y;for(let X=0;X<z.count;X++){const te=X*H;A===!0&&(o.fromBufferAttribute(z,X),N[G+te+0]=o.x,N[G+te+1]=o.y,N[G+te+2]=o.z,N[G+te+3]=0),M===!0&&(o.fromBufferAttribute(U,X),N[G+te+4]=o.x,N[G+te+5]=o.y,N[G+te+6]=o.z,N[G+te+7]=0),E===!0&&(o.fromBufferAttribute(V,X),N[G+te+8]=o.x,N[G+te+9]=o.y,N[G+te+10]=o.z,N[G+te+11]=V.itemSize===4?o.w:1)}}x={count:y,texture:k,size:new De(L,F)},s.set(u,x),u.addEventListener("dispose",W)}let _=0;for(let A=0;A<p.length;A++)_+=p[A];const w=u.morphTargetsRelative?1:1-_;d.getUniforms().setValue(n,"morphTargetBaseInfluence",w),d.getUniforms().setValue(n,"morphTargetInfluences",p),d.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const v=p===void 0?0:p.length;let y=r[u.id];if(y===void 0||y.length!==v){y=[];for(let M=0;M<v;M++)y[M]=[M,0];r[u.id]=y}for(let M=0;M<v;M++){const E=y[M];E[0]=M,E[1]=p[M]}y.sort(Z$);for(let M=0;M<8;M++)M<v&&y[M][1]?(a[M][0]=y[M][0],a[M][1]=y[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(Q$);const x=u.morphAttributes.position,_=u.morphAttributes.normal;let w=0;for(let M=0;M<8;M++){const E=a[M],R=E[0],C=E[1];R!==Number.MAX_SAFE_INTEGER&&C?(x&&u.getAttribute("morphTarget"+M)!==x[R]&&u.setAttribute("morphTarget"+M,x[R]),_&&u.getAttribute("morphNormal"+M)!==_[R]&&u.setAttribute("morphNormal"+M,_[R]),i[M]=C,w+=C):(x&&u.hasAttribute("morphTarget"+M)===!0&&u.deleteAttribute("morphTarget"+M),_&&u.hasAttribute("morphNormal"+M)===!0&&u.deleteAttribute("morphNormal"+M),i[M]=0)}const A=u.morphTargetsRelative?1:1-w;d.getUniforms().setValue(n,"morphTargetBaseInfluence",A),d.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function eX(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);return i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),f}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const AN=new mn,bN=new Ig,MN=new V_,CN=new Og,ER=[],TR=[],PR=new Float32Array(16),RR=new Float32Array(9),DR=new Float32Array(4);function Eh(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=ER[i];if(s===void 0&&(s=new Float32Array(i),ER[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function gr(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function vr(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function X_(n,e){let t=TR[e];t===void 0&&(t=new Int32Array(e),TR[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function tX(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function nX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(gr(t,e))return;n.uniform2fv(this.addr,e),vr(t,e)}}function rX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(gr(t,e))return;n.uniform3fv(this.addr,e),vr(t,e)}}function iX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(gr(t,e))return;n.uniform4fv(this.addr,e),vr(t,e)}}function sX(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(gr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),vr(t,e)}else{if(gr(t,r))return;DR.set(r),n.uniformMatrix2fv(this.addr,!1,DR),vr(t,r)}}function oX(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(gr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),vr(t,e)}else{if(gr(t,r))return;RR.set(r),n.uniformMatrix3fv(this.addr,!1,RR),vr(t,r)}}function aX(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(gr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),vr(t,e)}else{if(gr(t,r))return;PR.set(r),n.uniformMatrix4fv(this.addr,!1,PR),vr(t,r)}}function lX(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function cX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(gr(t,e))return;n.uniform2iv(this.addr,e),vr(t,e)}}function uX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(gr(t,e))return;n.uniform3iv(this.addr,e),vr(t,e)}}function fX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(gr(t,e))return;n.uniform4iv(this.addr,e),vr(t,e)}}function dX(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function hX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(gr(t,e))return;n.uniform2uiv(this.addr,e),vr(t,e)}}function pX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(gr(t,e))return;n.uniform3uiv(this.addr,e),vr(t,e)}}function mX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(gr(t,e))return;n.uniform4uiv(this.addr,e),vr(t,e)}}function gX(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||AN,i)}function vX(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||MN,i)}function yX(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||CN,i)}function _X(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||bN,i)}function xX(n){switch(n){case 5126:return tX;case 35664:return nX;case 35665:return rX;case 35666:return iX;case 35674:return sX;case 35675:return oX;case 35676:return aX;case 5124:case 35670:return lX;case 35667:case 35671:return cX;case 35668:case 35672:return uX;case 35669:case 35673:return fX;case 5125:return dX;case 36294:return hX;case 36295:return pX;case 36296:return mX;case 35678:case 36198:case 36298:case 36306:case 35682:return gX;case 35679:case 36299:case 36307:return vX;case 35680:case 36300:case 36308:case 36293:return yX;case 36289:case 36303:case 36311:case 36292:return _X}}function wX(n,e){n.uniform1fv(this.addr,e)}function SX(n,e){const t=Eh(e,this.size,2);n.uniform2fv(this.addr,t)}function AX(n,e){const t=Eh(e,this.size,3);n.uniform3fv(this.addr,t)}function bX(n,e){const t=Eh(e,this.size,4);n.uniform4fv(this.addr,t)}function MX(n,e){const t=Eh(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function CX(n,e){const t=Eh(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function EX(n,e){const t=Eh(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function TX(n,e){n.uniform1iv(this.addr,e)}function PX(n,e){n.uniform2iv(this.addr,e)}function RX(n,e){n.uniform3iv(this.addr,e)}function DX(n,e){n.uniform4iv(this.addr,e)}function BX(n,e){n.uniform1uiv(this.addr,e)}function IX(n,e){n.uniform2uiv(this.addr,e)}function LX(n,e){n.uniform3uiv(this.addr,e)}function kX(n,e){n.uniform4uiv(this.addr,e)}function OX(n,e,t){const r=this.cache,i=e.length,s=X_(t,i);gr(r,s)||(n.uniform1iv(this.addr,s),vr(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||AN,s[o])}function FX(n,e,t){const r=this.cache,i=e.length,s=X_(t,i);gr(r,s)||(n.uniform1iv(this.addr,s),vr(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||MN,s[o])}function NX(n,e,t){const r=this.cache,i=e.length,s=X_(t,i);gr(r,s)||(n.uniform1iv(this.addr,s),vr(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||CN,s[o])}function UX(n,e,t){const r=this.cache,i=e.length,s=X_(t,i);gr(r,s)||(n.uniform1iv(this.addr,s),vr(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||bN,s[o])}function zX(n){switch(n){case 5126:return wX;case 35664:return SX;case 35665:return AX;case 35666:return bX;case 35674:return MX;case 35675:return CX;case 35676:return EX;case 5124:case 35670:return TX;case 35667:case 35671:return PX;case 35668:case 35672:return RX;case 35669:case 35673:return DX;case 5125:return BX;case 36294:return IX;case 36295:return LX;case 36296:return kX;case 35678:case 36198:case 36298:case 36306:case 35682:return OX;case 35679:case 36299:case 36307:return FX;case 35680:case 36300:case 36308:case 36293:return NX;case 36289:case 36303:case 36311:case 36292:return UX}}class GX{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=xX(t.type)}}class HX{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=zX(t.type)}}class VX{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const gS=/(\w+)(\])?(\[|\.)?/g;function BR(n,e){n.seq.push(e),n.map[e.id]=e}function WX(n,e,t){const r=n.name,i=r.length;for(gS.lastIndex=0;;){const s=gS.exec(r),o=gS.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){BR(t,c===void 0?new GX(a,n,e):new HX(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new VX(a),BR(t,f)),t=f}}}class Zy{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);WX(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function IR(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let jX=0;function $X(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function XX(n){switch(n){case dc:return["Linear","( value )"];case yn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function LR(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+$X(n.getShaderSource(e),o)}else return i}function JX(n,e){const t=XX(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function KX(n,e){let t;switch(e){case j4:t="Linear";break;case $4:t="Reinhard";break;case X4:t="OptimizedCineon";break;case ME:t="ACESFilmic";break;case J4:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function YX(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Yp).join(`
`)}function QX(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function ZX(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Yp(n){return n!==""}function kR(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function OR(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const qX=/^[ \t]*#include +<([\w\d./]+)>/gm;function sM(n){return n.replace(qX,eJ)}function eJ(n,e){const t=bt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return sM(t)}const tJ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function FR(n){return n.replace(tJ,nJ)}function nJ(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function NR(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function rJ(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===U_?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===um?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===yu&&(e="SHADOWMAP_TYPE_VSM"),e}function iJ(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case uc:case fc:e="ENVMAP_TYPE_CUBE";break;case Ch:e="ENVMAP_TYPE_CUBE_UV";break}return e}function sJ(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case fc:e="ENVMAP_MODE_REFRACTION";break}return e}function oJ(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Bg:e="ENVMAP_BLENDING_MULTIPLY";break;case V4:e="ENVMAP_BLENDING_MIX";break;case W4:e="ENVMAP_BLENDING_ADD";break}return e}function aJ(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function lJ(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=rJ(t),c=iJ(t),u=sJ(t),f=oJ(t),d=aJ(t),p=t.isWebGL2?"":YX(t),g=QX(s),v=i.createProgram();let y,x,_=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=[g].filter(Yp).join(`
`),y.length>0&&(y+=`
`),x=[p,g].filter(Yp).join(`
`),x.length>0&&(x+=`
`)):(y=[NR(t),"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Yp).join(`
`),x=[p,NR(t),"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==_o?"#define TONE_MAPPING":"",t.toneMapping!==_o?bt.tonemapping_pars_fragment:"",t.toneMapping!==_o?KX("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",bt.encodings_pars_fragment,JX("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Yp).join(`
`)),o=sM(o),o=kR(o,t),o=OR(o,t),a=sM(a),a=kR(a,t),a=OR(a,t),o=FR(o),a=FR(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,x=["#define varying in",t.glslVersion===nM?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===nM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const w=_+y+o,A=_+x+a,M=IR(i,35633,w),E=IR(i,35632,A);if(i.attachShader(v,M),i.attachShader(v,E),t.index0AttributeName!==void 0?i.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),n.debug.checkShaderErrors){const T=i.getProgramInfoLog(v).trim(),D=i.getShaderInfoLog(M).trim(),L=i.getShaderInfoLog(E).trim();let F=!0,N=!0;if(i.getProgramParameter(v,35714)===!1){F=!1;const k=LR(i,M,"vertex"),H=LR(i,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+T+`
`+k+`
`+H)}else T!==""?console.warn("THREE.WebGLProgram: Program Info Log:",T):(D===""||L==="")&&(N=!1);N&&(this.diagnostics={runnable:F,programLog:T,vertexShader:{log:D,prefix:y},fragmentShader:{log:L,prefix:x}})}i.deleteShader(M),i.deleteShader(E);let R;this.getUniforms=function(){return R===void 0&&(R=new Zy(i,v)),R};let C;return this.getAttributes=function(){return C===void 0&&(C=ZX(i,v)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=jX++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=M,this.fragmentShader=E,this}let cJ=0;class uJ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new fJ(e),t.set(e,r)),r}}class fJ{constructor(e){this.id=cJ++,this.code=e,this.usedTimes=0}}function dJ(n,e,t,r,i,s,o){const a=new Iu,l=new uJ,c=[],u=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures;let p=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(C,T,D,L,F){const N=L.fog,k=F.geometry,H=C.isMeshStandardMaterial?L.environment:null,W=(C.isMeshStandardMaterial?t:e).get(C.envMap||H),Y=W&&W.mapping===Ch?W.image.height:null,z=g[C.type];C.precision!==null&&(p=i.getMaxPrecision(C.precision),p!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",p,"instead."));const U=k.morphAttributes.position||k.morphAttributes.normal||k.morphAttributes.color,V=U!==void 0?U.length:0;let G=0;k.morphAttributes.position!==void 0&&(G=1),k.morphAttributes.normal!==void 0&&(G=2),k.morphAttributes.color!==void 0&&(G=3);let X,te,re,se;if(z){const Se=mo[z];X=Se.vertexShader,te=Se.fragmentShader}else X=C.vertexShader,te=C.fragmentShader,l.update(C),re=l.getVertexShaderID(C),se=l.getFragmentShaderID(C);const q=n.getRenderTarget(),oe=C.alphaTest>0,de=C.clearcoat>0,Te=C.iridescence>0;return{isWebGL2:u,shaderID:z,shaderName:C.type,vertexShader:X,fragmentShader:te,defines:C.defines,customVertexShaderID:re,customFragmentShaderID:se,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:p,instancing:F.isInstancedMesh===!0,instancingColor:F.isInstancedMesh===!0&&F.instanceColor!==null,supportsVertexTextures:d,outputEncoding:q===null?n.outputEncoding:q.isXRRenderTarget===!0?q.texture.encoding:dc,map:!!C.map,matcap:!!C.matcap,envMap:!!W,envMapMode:W&&W.mapping,envMapCubeUVHeight:Y,lightMap:!!C.lightMap,aoMap:!!C.aoMap,emissiveMap:!!C.emissiveMap,bumpMap:!!C.bumpMap,normalMap:!!C.normalMap,objectSpaceNormalMap:C.normalMapType===mN,tangentSpaceNormalMap:C.normalMapType===Cc,decodeVideoTexture:!!C.map&&C.map.isVideoTexture===!0&&C.map.encoding===yn,clearcoat:de,clearcoatMap:de&&!!C.clearcoatMap,clearcoatRoughnessMap:de&&!!C.clearcoatRoughnessMap,clearcoatNormalMap:de&&!!C.clearcoatNormalMap,iridescence:Te,iridescenceMap:Te&&!!C.iridescenceMap,iridescenceThicknessMap:Te&&!!C.iridescenceThicknessMap,displacementMap:!!C.displacementMap,roughnessMap:!!C.roughnessMap,metalnessMap:!!C.metalnessMap,specularMap:!!C.specularMap,specularIntensityMap:!!C.specularIntensityMap,specularColorMap:!!C.specularColorMap,opaque:C.transparent===!1&&C.blending===Pu,alphaMap:!!C.alphaMap,alphaTest:oe,gradientMap:!!C.gradientMap,sheen:C.sheen>0,sheenColorMap:!!C.sheenColorMap,sheenRoughnessMap:!!C.sheenRoughnessMap,transmission:C.transmission>0,transmissionMap:!!C.transmissionMap,thicknessMap:!!C.thicknessMap,combine:C.combine,vertexTangents:!!C.normalMap&&!!k.attributes.tangent,vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!k.attributes.color&&k.attributes.color.itemSize===4,vertexUvs:!!C.map||!!C.bumpMap||!!C.normalMap||!!C.specularMap||!!C.alphaMap||!!C.emissiveMap||!!C.roughnessMap||!!C.metalnessMap||!!C.clearcoatMap||!!C.clearcoatRoughnessMap||!!C.clearcoatNormalMap||!!C.iridescenceMap||!!C.iridescenceThicknessMap||!!C.displacementMap||!!C.transmissionMap||!!C.thicknessMap||!!C.specularIntensityMap||!!C.specularColorMap||!!C.sheenColorMap||!!C.sheenRoughnessMap,uvsVertexOnly:!(C.map||C.bumpMap||C.normalMap||C.specularMap||C.alphaMap||C.emissiveMap||C.roughnessMap||C.metalnessMap||C.clearcoatNormalMap||C.iridescenceMap||C.iridescenceThicknessMap||C.transmission>0||C.transmissionMap||C.thicknessMap||C.specularIntensityMap||C.specularColorMap||C.sheen>0||C.sheenColorMap||C.sheenRoughnessMap)&&!!C.displacementMap,fog:!!N,useFog:C.fog===!0,fogExp2:N&&N.isFogExp2,flatShading:!!C.flatShading,sizeAttenuation:C.sizeAttenuation,logarithmicDepthBuffer:f,skinning:F.isSkinnedMesh===!0,morphTargets:k.morphAttributes.position!==void 0,morphNormals:k.morphAttributes.normal!==void 0,morphColors:k.morphAttributes.color!==void 0,morphTargetsCount:V,morphTextureStride:G,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numSpotLightMaps:T.spotLightMap.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numSpotLightShadowsWithMaps:T.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:C.dithering,shadowMapEnabled:n.shadowMap.enabled&&D.length>0,shadowMapType:n.shadowMap.type,toneMapping:C.toneMapped?n.toneMapping:_o,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===Vs,flipSided:C.side===xi,useDepthPacking:!!C.depthPacking,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:C.extensions&&C.extensions.derivatives,extensionFragDepth:C.extensions&&C.extensions.fragDepth,extensionDrawBuffers:C.extensions&&C.extensions.drawBuffers,extensionShaderTextureLOD:C.extensions&&C.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function y(C){const T=[];if(C.shaderID?T.push(C.shaderID):(T.push(C.customVertexShaderID),T.push(C.customFragmentShaderID)),C.defines!==void 0)for(const D in C.defines)T.push(D),T.push(C.defines[D]);return C.isRawShaderMaterial===!1&&(x(T,C),_(T,C),T.push(n.outputEncoding)),T.push(C.customProgramCacheKey),T.join()}function x(C,T){C.push(T.precision),C.push(T.outputEncoding),C.push(T.envMapMode),C.push(T.envMapCubeUVHeight),C.push(T.combine),C.push(T.vertexUvs),C.push(T.fogExp2),C.push(T.sizeAttenuation),C.push(T.morphTargetsCount),C.push(T.morphAttributeCount),C.push(T.numDirLights),C.push(T.numPointLights),C.push(T.numSpotLights),C.push(T.numSpotLightMaps),C.push(T.numHemiLights),C.push(T.numRectAreaLights),C.push(T.numDirLightShadows),C.push(T.numPointLightShadows),C.push(T.numSpotLightShadows),C.push(T.numSpotLightShadowsWithMaps),C.push(T.shadowMapType),C.push(T.toneMapping),C.push(T.numClippingPlanes),C.push(T.numClipIntersection),C.push(T.depthPacking)}function _(C,T){a.disableAll(),T.isWebGL2&&a.enable(0),T.supportsVertexTextures&&a.enable(1),T.instancing&&a.enable(2),T.instancingColor&&a.enable(3),T.map&&a.enable(4),T.matcap&&a.enable(5),T.envMap&&a.enable(6),T.lightMap&&a.enable(7),T.aoMap&&a.enable(8),T.emissiveMap&&a.enable(9),T.bumpMap&&a.enable(10),T.normalMap&&a.enable(11),T.objectSpaceNormalMap&&a.enable(12),T.tangentSpaceNormalMap&&a.enable(13),T.clearcoat&&a.enable(14),T.clearcoatMap&&a.enable(15),T.clearcoatRoughnessMap&&a.enable(16),T.clearcoatNormalMap&&a.enable(17),T.iridescence&&a.enable(18),T.iridescenceMap&&a.enable(19),T.iridescenceThicknessMap&&a.enable(20),T.displacementMap&&a.enable(21),T.specularMap&&a.enable(22),T.roughnessMap&&a.enable(23),T.metalnessMap&&a.enable(24),T.gradientMap&&a.enable(25),T.alphaMap&&a.enable(26),T.alphaTest&&a.enable(27),T.vertexColors&&a.enable(28),T.vertexAlphas&&a.enable(29),T.vertexUvs&&a.enable(30),T.vertexTangents&&a.enable(31),T.uvsVertexOnly&&a.enable(32),C.push(a.mask),a.disableAll(),T.fog&&a.enable(0),T.useFog&&a.enable(1),T.flatShading&&a.enable(2),T.logarithmicDepthBuffer&&a.enable(3),T.skinning&&a.enable(4),T.morphTargets&&a.enable(5),T.morphNormals&&a.enable(6),T.morphColors&&a.enable(7),T.premultipliedAlpha&&a.enable(8),T.shadowMapEnabled&&a.enable(9),T.physicallyCorrectLights&&a.enable(10),T.doubleSided&&a.enable(11),T.flipSided&&a.enable(12),T.useDepthPacking&&a.enable(13),T.dithering&&a.enable(14),T.specularIntensityMap&&a.enable(15),T.specularColorMap&&a.enable(16),T.transmission&&a.enable(17),T.transmissionMap&&a.enable(18),T.thicknessMap&&a.enable(19),T.sheen&&a.enable(20),T.sheenColorMap&&a.enable(21),T.sheenRoughnessMap&&a.enable(22),T.decodeVideoTexture&&a.enable(23),T.opaque&&a.enable(24),C.push(a.mask)}function w(C){const T=g[C.type];let D;if(T){const L=mo[T];D=j_.clone(L.uniforms)}else D=C.uniforms;return D}function A(C,T){let D;for(let L=0,F=c.length;L<F;L++){const N=c[L];if(N.cacheKey===T){D=N,++D.usedTimes;break}}return D===void 0&&(D=new lJ(n,T,C,s),c.push(D)),D}function M(C){if(--C.usedTimes===0){const T=c.indexOf(C);c[T]=c[c.length-1],c.pop(),C.destroy()}}function E(C){l.remove(C)}function R(){l.dispose()}return{getParameters:v,getProgramCacheKey:y,getUniforms:w,acquireProgram:A,releaseProgram:M,releaseShaderCache:E,programs:c,dispose:R}}function hJ(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function pJ(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function UR(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function zR(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(f,d,p,g,v,y){let x=n[e];return x===void 0?(x={id:f.id,object:f,geometry:d,material:p,groupOrder:g,renderOrder:f.renderOrder,z:v,group:y},n[e]=x):(x.id=f.id,x.object=f,x.geometry=d,x.material=p,x.groupOrder=g,x.renderOrder=f.renderOrder,x.z=v,x.group=y),e++,x}function a(f,d,p,g,v,y){const x=o(f,d,p,g,v,y);p.transmission>0?r.push(x):p.transparent===!0?i.push(x):t.push(x)}function l(f,d,p,g,v,y){const x=o(f,d,p,g,v,y);p.transmission>0?r.unshift(x):p.transparent===!0?i.unshift(x):t.unshift(x)}function c(f,d){t.length>1&&t.sort(f||pJ),r.length>1&&r.sort(d||UR),i.length>1&&i.sort(d||UR)}function u(){for(let f=e,d=n.length;f<d;f++){const p=n[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function mJ(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new zR,n.set(r,[o])):i>=s.length?(o=new zR,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function gJ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new $,color:new He};break;case"SpotLight":t={position:new $,direction:new $,color:new He,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new $,color:new He,distance:0,decay:0};break;case"HemisphereLight":t={direction:new $,skyColor:new He,groundColor:new He};break;case"RectAreaLight":t={color:new He,position:new $,halfWidth:new $,halfHeight:new $};break}return n[e.id]=t,t}}}function vJ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new De};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new De};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new De,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let yJ=0;function _J(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function xJ(n,e){const t=new gJ,r=vJ(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new $);const s=new $,o=new Ze,a=new Ze;function l(u,f){let d=0,p=0,g=0;for(let L=0;L<9;L++)i.probe[L].set(0,0,0);let v=0,y=0,x=0,_=0,w=0,A=0,M=0,E=0,R=0,C=0;u.sort(_J);const T=f!==!0?Math.PI:1;for(let L=0,F=u.length;L<F;L++){const N=u[L],k=N.color,H=N.intensity,W=N.distance,Y=N.shadow&&N.shadow.map?N.shadow.map.texture:null;if(N.isAmbientLight)d+=k.r*H*T,p+=k.g*H*T,g+=k.b*H*T;else if(N.isLightProbe)for(let z=0;z<9;z++)i.probe[z].addScaledVector(N.sh.coefficients[z],H);else if(N.isDirectionalLight){const z=t.get(N);if(z.color.copy(N.color).multiplyScalar(N.intensity*T),N.castShadow){const U=N.shadow,V=r.get(N);V.shadowBias=U.bias,V.shadowNormalBias=U.normalBias,V.shadowRadius=U.radius,V.shadowMapSize=U.mapSize,i.directionalShadow[v]=V,i.directionalShadowMap[v]=Y,i.directionalShadowMatrix[v]=N.shadow.matrix,A++}i.directional[v]=z,v++}else if(N.isSpotLight){const z=t.get(N);z.position.setFromMatrixPosition(N.matrixWorld),z.color.copy(k).multiplyScalar(H*T),z.distance=W,z.coneCos=Math.cos(N.angle),z.penumbraCos=Math.cos(N.angle*(1-N.penumbra)),z.decay=N.decay,i.spot[x]=z;const U=N.shadow;if(N.map&&(i.spotLightMap[R]=N.map,R++,U.updateMatrices(N),N.castShadow&&C++),i.spotLightMatrix[x]=U.matrix,N.castShadow){const V=r.get(N);V.shadowBias=U.bias,V.shadowNormalBias=U.normalBias,V.shadowRadius=U.radius,V.shadowMapSize=U.mapSize,i.spotShadow[x]=V,i.spotShadowMap[x]=Y,E++}x++}else if(N.isRectAreaLight){const z=t.get(N);z.color.copy(k).multiplyScalar(H),z.halfWidth.set(N.width*.5,0,0),z.halfHeight.set(0,N.height*.5,0),i.rectArea[_]=z,_++}else if(N.isPointLight){const z=t.get(N);if(z.color.copy(N.color).multiplyScalar(N.intensity*T),z.distance=N.distance,z.decay=N.decay,N.castShadow){const U=N.shadow,V=r.get(N);V.shadowBias=U.bias,V.shadowNormalBias=U.normalBias,V.shadowRadius=U.radius,V.shadowMapSize=U.mapSize,V.shadowCameraNear=U.camera.near,V.shadowCameraFar=U.camera.far,i.pointShadow[y]=V,i.pointShadowMap[y]=Y,i.pointShadowMatrix[y]=N.shadow.matrix,M++}i.point[y]=z,y++}else if(N.isHemisphereLight){const z=t.get(N);z.skyColor.copy(N.color).multiplyScalar(H*T),z.groundColor.copy(N.groundColor).multiplyScalar(H*T),i.hemi[w]=z,w++}}_>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Je.LTC_FLOAT_1,i.rectAreaLTC2=Je.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Je.LTC_HALF_1,i.rectAreaLTC2=Je.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=p,i.ambient[2]=g;const D=i.hash;(D.directionalLength!==v||D.pointLength!==y||D.spotLength!==x||D.rectAreaLength!==_||D.hemiLength!==w||D.numDirectionalShadows!==A||D.numPointShadows!==M||D.numSpotShadows!==E||D.numSpotMaps!==R)&&(i.directional.length=v,i.spot.length=x,i.rectArea.length=_,i.point.length=y,i.hemi.length=w,i.directionalShadow.length=A,i.directionalShadowMap.length=A,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=A,i.pointShadowMatrix.length=M,i.spotLightMatrix.length=E+R-C,i.spotLightMap.length=R,i.numSpotLightShadowsWithMaps=C,D.directionalLength=v,D.pointLength=y,D.spotLength=x,D.rectAreaLength=_,D.hemiLength=w,D.numDirectionalShadows=A,D.numPointShadows=M,D.numSpotShadows=E,D.numSpotMaps=R,i.version=yJ++)}function c(u,f){let d=0,p=0,g=0,v=0,y=0;const x=f.matrixWorldInverse;for(let _=0,w=u.length;_<w;_++){const A=u[_];if(A.isDirectionalLight){const M=i.directional[d];M.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(x),d++}else if(A.isSpotLight){const M=i.spot[g];M.position.setFromMatrixPosition(A.matrixWorld),M.position.applyMatrix4(x),M.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(x),g++}else if(A.isRectAreaLight){const M=i.rectArea[v];M.position.setFromMatrixPosition(A.matrixWorld),M.position.applyMatrix4(x),a.identity(),o.copy(A.matrixWorld),o.premultiply(x),a.extractRotation(o),M.halfWidth.set(A.width*.5,0,0),M.halfHeight.set(0,A.height*.5,0),M.halfWidth.applyMatrix4(a),M.halfHeight.applyMatrix4(a),v++}else if(A.isPointLight){const M=i.point[p];M.position.setFromMatrixPosition(A.matrixWorld),M.position.applyMatrix4(x),p++}else if(A.isHemisphereLight){const M=i.hemi[y];M.direction.setFromMatrixPosition(A.matrixWorld),M.direction.transformDirection(x),y++}}}return{setup:l,setupView:c,state:i}}function GR(n,e){const t=new xJ(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){t.setup(r,f)}function c(f){t.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function wJ(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new GR(n,e),t.set(s,[l])):o>=a.length?(l=new GR(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class J_ extends or{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=pN,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class K_ extends or{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new $,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const SJ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,AJ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function bJ(n,e,t){let r=new $_;const i=new De,s=new De,o=new Pt,a=new J_({depthPacking:PE}),l=new K_,c={},u=t.maxTextureSize,f={0:xi,1:Wa,2:Vs},d=new bo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new De},radius:{value:4}},vertexShader:SJ,fragmentShader:AJ}),p=d.clone();p.defines.HORIZONTAL_PASS=1;const g=new pt;g.setAttribute("position",new Yt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Un(g,d),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=U_,this.render=function(A,M,E){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||A.length===0)return;const R=n.getRenderTarget(),C=n.getActiveCubeFace(),T=n.getActiveMipmapLevel(),D=n.state;D.setBlending(Oa),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);for(let L=0,F=A.length;L<F;L++){const N=A[L],k=N.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",N,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;i.copy(k.mapSize);const H=k.getFrameExtents();if(i.multiply(H),s.copy(k.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/H.x),i.x=s.x*H.x,k.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/H.y),i.y=s.y*H.y,k.mapSize.y=s.y)),k.map===null){const Y=this.type!==yu?{minFilter:Qn,magFilter:Qn}:{};k.map=new Qs(i.x,i.y,Y),k.map.texture.name=N.name+".shadowMap",k.camera.updateProjectionMatrix()}n.setRenderTarget(k.map),n.clear();const W=k.getViewportCount();for(let Y=0;Y<W;Y++){const z=k.getViewport(Y);o.set(s.x*z.x,s.y*z.y,s.x*z.z,s.y*z.w),D.viewport(o),k.updateMatrices(N,Y),r=k.getFrustum(),w(M,E,k.camera,N,this.type)}k.isPointLightShadow!==!0&&this.type===yu&&x(k,E),k.needsUpdate=!1}y.needsUpdate=!1,n.setRenderTarget(R,C,T)};function x(A,M){const E=e.update(v);d.defines.VSM_SAMPLES!==A.blurSamples&&(d.defines.VSM_SAMPLES=A.blurSamples,p.defines.VSM_SAMPLES=A.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new Qs(i.x,i.y)),d.uniforms.shadow_pass.value=A.map.texture,d.uniforms.resolution.value=A.mapSize,d.uniforms.radius.value=A.radius,n.setRenderTarget(A.mapPass),n.clear(),n.renderBufferDirect(M,null,E,d,v,null),p.uniforms.shadow_pass.value=A.mapPass.texture,p.uniforms.resolution.value=A.mapSize,p.uniforms.radius.value=A.radius,n.setRenderTarget(A.map),n.clear(),n.renderBufferDirect(M,null,E,p,v,null)}function _(A,M,E,R,C,T){let D=null;const L=E.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(L!==void 0?D=L:D=E.isPointLight===!0?l:a,n.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0){const F=D.uuid,N=M.uuid;let k=c[F];k===void 0&&(k={},c[F]=k);let H=k[N];H===void 0&&(H=D.clone(),k[N]=H),D=H}return D.visible=M.visible,D.wireframe=M.wireframe,T===yu?D.side=M.shadowSide!==null?M.shadowSide:M.side:D.side=M.shadowSide!==null?M.shadowSide:f[M.side],D.alphaMap=M.alphaMap,D.alphaTest=M.alphaTest,D.clipShadows=M.clipShadows,D.clippingPlanes=M.clippingPlanes,D.clipIntersection=M.clipIntersection,D.displacementMap=M.displacementMap,D.displacementScale=M.displacementScale,D.displacementBias=M.displacementBias,D.wireframeLinewidth=M.wireframeLinewidth,D.linewidth=M.linewidth,E.isPointLight===!0&&D.isMeshDistanceMaterial===!0&&(D.referencePosition.setFromMatrixPosition(E.matrixWorld),D.nearDistance=R,D.farDistance=C),D}function w(A,M,E,R,C){if(A.visible===!1)return;if(A.layers.test(M.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&C===yu)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,A.matrixWorld);const L=e.update(A),F=A.material;if(Array.isArray(F)){const N=L.groups;for(let k=0,H=N.length;k<H;k++){const W=N[k],Y=F[W.materialIndex];if(Y&&Y.visible){const z=_(A,Y,R,E.near,E.far,C);n.renderBufferDirect(E,null,L,z,A,W)}}}else if(F.visible){const N=_(A,F,R,E.near,E.far,C);n.renderBufferDirect(E,null,L,N,A,null)}}const D=A.children;for(let L=0,F=D.length;L<F;L++)w(D[L],M,E,R,C)}}function MJ(n,e,t){const r=t.isWebGL2;function i(){let ee=!1;const me=new Pt;let ke=null;const Xe=new Pt(0,0,0,0);return{setMask:function(tt){ke!==tt&&!ee&&(n.colorMask(tt,tt,tt,tt),ke=tt)},setLocked:function(tt){ee=tt},setClear:function(tt,xt,zt,$t,Vt){Vt===!0&&(tt*=$t,xt*=$t,zt*=$t),me.set(tt,xt,zt,$t),Xe.equals(me)===!1&&(n.clearColor(tt,xt,zt,$t),Xe.copy(me))},reset:function(){ee=!1,ke=null,Xe.set(-1,0,0,0)}}}function s(){let ee=!1,me=null,ke=null,Xe=null;return{setTest:function(tt){tt?oe(2929):de(2929)},setMask:function(tt){me!==tt&&!ee&&(n.depthMask(tt),me=tt)},setFunc:function(tt){if(ke!==tt){switch(tt){case O4:n.depthFunc(512);break;case F4:n.depthFunc(519);break;case N4:n.depthFunc(513);break;case k1:n.depthFunc(515);break;case U4:n.depthFunc(514);break;case z4:n.depthFunc(518);break;case G4:n.depthFunc(516);break;case H4:n.depthFunc(517);break;default:n.depthFunc(515)}ke=tt}},setLocked:function(tt){ee=tt},setClear:function(tt){Xe!==tt&&(n.clearDepth(tt),Xe=tt)},reset:function(){ee=!1,me=null,ke=null,Xe=null}}}function o(){let ee=!1,me=null,ke=null,Xe=null,tt=null,xt=null,zt=null,$t=null,Vt=null;return{setTest:function(Wt){ee||(Wt?oe(2960):de(2960))},setMask:function(Wt){me!==Wt&&!ee&&(n.stencilMask(Wt),me=Wt)},setFunc:function(Wt,Gt,Lt){(ke!==Wt||Xe!==Gt||tt!==Lt)&&(n.stencilFunc(Wt,Gt,Lt),ke=Wt,Xe=Gt,tt=Lt)},setOp:function(Wt,Gt,Lt){(xt!==Wt||zt!==Gt||$t!==Lt)&&(n.stencilOp(Wt,Gt,Lt),xt=Wt,zt=Gt,$t=Lt)},setLocked:function(Wt){ee=Wt},setClear:function(Wt){Vt!==Wt&&(n.clearStencil(Wt),Vt=Wt)},reset:function(){ee=!1,me=null,ke=null,Xe=null,tt=null,xt=null,zt=null,$t=null,Vt=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,f=new WeakMap;let d={},p={},g=new WeakMap,v=[],y=null,x=!1,_=null,w=null,A=null,M=null,E=null,R=null,C=null,T=!1,D=null,L=null,F=null,N=null,k=null;const H=n.getParameter(35661);let W=!1,Y=0;const z=n.getParameter(7938);z.indexOf("WebGL")!==-1?(Y=parseFloat(/^WebGL (\d)/.exec(z)[1]),W=Y>=1):z.indexOf("OpenGL ES")!==-1&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),W=Y>=2);let U=null,V={};const G=n.getParameter(3088),X=n.getParameter(2978),te=new Pt().fromArray(G),re=new Pt().fromArray(X);function se(ee,me,ke){const Xe=new Uint8Array(4),tt=n.createTexture();n.bindTexture(ee,tt),n.texParameteri(ee,10241,9728),n.texParameteri(ee,10240,9728);for(let xt=0;xt<ke;xt++)n.texImage2D(me+xt,0,6408,1,1,0,6408,5121,Xe);return tt}const q={};q[3553]=se(3553,3553,1),q[34067]=se(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),oe(2929),l.setFunc(k1),Ae(!1),je(Pb),oe(2884),Me(Oa);function oe(ee){d[ee]!==!0&&(n.enable(ee),d[ee]=!0)}function de(ee){d[ee]!==!1&&(n.disable(ee),d[ee]=!1)}function Te(ee,me){return p[ee]!==me?(n.bindFramebuffer(ee,me),p[ee]=me,r&&(ee===36009&&(p[36160]=me),ee===36160&&(p[36009]=me)),!0):!1}function ye(ee,me){let ke=v,Xe=!1;if(ee)if(ke=g.get(me),ke===void 0&&(ke=[],g.set(me,ke)),ee.isWebGLMultipleRenderTargets){const tt=ee.texture;if(ke.length!==tt.length||ke[0]!==36064){for(let xt=0,zt=tt.length;xt<zt;xt++)ke[xt]=36064+xt;ke.length=tt.length,Xe=!0}}else ke[0]!==36064&&(ke[0]=36064,Xe=!0);else ke[0]!==1029&&(ke[0]=1029,Xe=!0);Xe&&(t.isWebGL2?n.drawBuffers(ke):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ke))}function Se(ee){return y!==ee?(n.useProgram(ee),y=ee,!0):!1}const ne={[hu]:32774,[M4]:32778,[C4]:32779};if(r)ne[Ib]=32775,ne[Lb]=32776;else{const ee=e.get("EXT_blend_minmax");ee!==null&&(ne[Ib]=ee.MIN_EXT,ne[Lb]=ee.MAX_EXT)}const le={[E4]:0,[T4]:1,[P4]:768,[AE]:770,[k4]:776,[I4]:774,[D4]:772,[R4]:769,[bE]:771,[L4]:775,[B4]:773};function Me(ee,me,ke,Xe,tt,xt,zt,$t){if(ee===Oa){x===!0&&(de(3042),x=!1);return}if(x===!1&&(oe(3042),x=!0),ee!==b4){if(ee!==_||$t!==T){if((w!==hu||E!==hu)&&(n.blendEquation(32774),w=hu,E=hu),$t)switch(ee){case Pu:n.blendFuncSeparate(1,771,1,771);break;case Rb:n.blendFunc(1,1);break;case Db:n.blendFuncSeparate(0,769,0,1);break;case Bb:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}else switch(ee){case Pu:n.blendFuncSeparate(770,771,1,771);break;case Rb:n.blendFunc(770,1);break;case Db:n.blendFuncSeparate(0,769,0,1);break;case Bb:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ee);break}A=null,M=null,R=null,C=null,_=ee,T=$t}return}tt=tt||me,xt=xt||ke,zt=zt||Xe,(me!==w||tt!==E)&&(n.blendEquationSeparate(ne[me],ne[tt]),w=me,E=tt),(ke!==A||Xe!==M||xt!==R||zt!==C)&&(n.blendFuncSeparate(le[ke],le[Xe],le[xt],le[zt]),A=ke,M=Xe,R=xt,C=zt),_=ee,T=null}function Pe(ee,me){ee.side===Vs?de(2884):oe(2884);let ke=ee.side===xi;me&&(ke=!ke),Ae(ke),ee.blending===Pu&&ee.transparent===!1?Me(Oa):Me(ee.blending,ee.blendEquation,ee.blendSrc,ee.blendDst,ee.blendEquationAlpha,ee.blendSrcAlpha,ee.blendDstAlpha,ee.premultipliedAlpha),l.setFunc(ee.depthFunc),l.setTest(ee.depthTest),l.setMask(ee.depthWrite),a.setMask(ee.colorWrite);const Xe=ee.stencilWrite;c.setTest(Xe),Xe&&(c.setMask(ee.stencilWriteMask),c.setFunc(ee.stencilFunc,ee.stencilRef,ee.stencilFuncMask),c.setOp(ee.stencilFail,ee.stencilZFail,ee.stencilZPass)),Le(ee.polygonOffset,ee.polygonOffsetFactor,ee.polygonOffsetUnits),ee.alphaToCoverage===!0?oe(32926):de(32926)}function Ae(ee){D!==ee&&(ee?n.frontFace(2304):n.frontFace(2305),D=ee)}function je(ee){ee!==w4?(oe(2884),ee!==L&&(ee===Pb?n.cullFace(1029):ee===S4?n.cullFace(1028):n.cullFace(1032))):de(2884),L=ee}function we(ee){ee!==F&&(W&&n.lineWidth(ee),F=ee)}function Le(ee,me,ke){ee?(oe(32823),(N!==me||k!==ke)&&(n.polygonOffset(me,ke),N=me,k=ke)):de(32823)}function Oe(ee){ee?oe(3089):de(3089)}function xe(ee){ee===void 0&&(ee=33984+H-1),U!==ee&&(n.activeTexture(ee),U=ee)}function j(ee,me,ke){ke===void 0&&(U===null?ke=33984+H-1:ke=U);let Xe=V[ke];Xe===void 0&&(Xe={type:void 0,texture:void 0},V[ke]=Xe),(Xe.type!==ee||Xe.texture!==me)&&(U!==ke&&(n.activeTexture(ke),U=ke),n.bindTexture(ee,me||q[ee]),Xe.type=ee,Xe.texture=me)}function O(){const ee=V[U];ee!==void 0&&ee.type!==void 0&&(n.bindTexture(ee.type,null),ee.type=void 0,ee.texture=void 0)}function Z(){try{n.compressedTexImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function fe(){try{n.compressedTexImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Ce(){try{n.texSubImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Re(){try{n.texSubImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Fe(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Be(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function ge(){try{n.texStorage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function We(){try{n.texStorage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Ne(){try{n.texImage2D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function ze(){try{n.texImage3D.apply(n,arguments)}catch(ee){console.error("THREE.WebGLState:",ee)}}function Ue(ee){te.equals(ee)===!1&&(n.scissor(ee.x,ee.y,ee.z,ee.w),te.copy(ee))}function Ie(ee){re.equals(ee)===!1&&(n.viewport(ee.x,ee.y,ee.z,ee.w),re.copy(ee))}function $e(ee,me){let ke=f.get(me);ke===void 0&&(ke=new WeakMap,f.set(me,ke));let Xe=ke.get(ee);Xe===void 0&&(Xe=n.getUniformBlockIndex(me,ee.name),ke.set(ee,Xe))}function st(ee,me){const Xe=f.get(me).get(ee);u.get(ee)!==Xe&&(n.uniformBlockBinding(me,Xe,ee.__bindingPointIndex),u.set(ee,Xe))}function vt(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},U=null,V={},p={},g=new WeakMap,v=[],y=null,x=!1,_=null,w=null,A=null,M=null,E=null,R=null,C=null,T=!1,D=null,L=null,F=null,N=null,k=null,te.set(0,0,n.canvas.width,n.canvas.height),re.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:oe,disable:de,bindFramebuffer:Te,drawBuffers:ye,useProgram:Se,setBlending:Me,setMaterial:Pe,setFlipSided:Ae,setCullFace:je,setLineWidth:we,setPolygonOffset:Le,setScissorTest:Oe,activeTexture:xe,bindTexture:j,unbindTexture:O,compressedTexImage2D:Z,compressedTexImage3D:fe,texImage2D:Ne,texImage3D:ze,updateUBOMapping:$e,uniformBlockBinding:st,texStorage2D:ge,texStorage3D:We,texSubImage2D:Ce,texSubImage3D:Re,compressedTexSubImage2D:Fe,compressedTexSubImage3D:Be,scissor:Ue,viewport:Ie,reset:vt}}function CJ(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,f=i.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=/OculusBrowser/g.test(typeof navigator>"u"?"":navigator.userAgent),g=new WeakMap;let v;const y=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(j,O){return x?new OffscreenCanvas(j,O):tg("canvas")}function w(j,O,Z,fe){let Ce=1;if((j.width>fe||j.height>fe)&&(Ce=fe/Math.max(j.width,j.height)),Ce<1||O===!0)if(typeof HTMLImageElement<"u"&&j instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&j instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&j instanceof ImageBitmap){const Re=O?N1:Math.floor,Fe=Re(Ce*j.width),Be=Re(Ce*j.height);v===void 0&&(v=_(Fe,Be));const ge=Z?_(Fe,Be):v;return ge.width=Fe,ge.height=Be,ge.getContext("2d").drawImage(j,0,0,Fe,Be),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+j.width+"x"+j.height+") to ("+Fe+"x"+Be+")."),ge}else return"data"in j&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+j.width+"x"+j.height+")."),j;return j}function A(j){return rM(j.width)&&rM(j.height)}function M(j){return a?!1:j.wrapS!==hr||j.wrapT!==hr||j.minFilter!==Qn&&j.minFilter!==dn}function E(j,O){return j.generateMipmaps&&O&&j.minFilter!==Qn&&j.minFilter!==dn}function R(j){n.generateMipmap(j)}function C(j,O,Z,fe,Ce=!1){if(a===!1)return O;if(j!==null){if(n[j]!==void 0)return n[j];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+j+"'")}let Re=O;return O===6403&&(Z===5126&&(Re=33326),Z===5131&&(Re=33325),Z===5121&&(Re=33321)),O===33319&&(Z===5126&&(Re=33328),Z===5131&&(Re=33327),Z===5121&&(Re=33323)),O===6408&&(Z===5126&&(Re=34836),Z===5131&&(Re=34842),Z===5121&&(Re=fe===yn&&Ce===!1?35907:32856),Z===32819&&(Re=32854),Z===32820&&(Re=32855)),(Re===33325||Re===33326||Re===33327||Re===33328||Re===34842||Re===34836)&&e.get("EXT_color_buffer_float"),Re}function T(j,O,Z){return E(j,Z)===!0||j.isFramebufferTexture&&j.minFilter!==Qn&&j.minFilter!==dn?Math.log2(Math.max(O.width,O.height))+1:j.mipmaps!==void 0&&j.mipmaps.length>0?j.mipmaps.length:j.isCompressedTexture&&Array.isArray(j.image)?O.mipmaps.length:1}function D(j){return j===Qn||j===Ym||j===Qm?9728:9729}function L(j){const O=j.target;O.removeEventListener("dispose",L),N(O),O.isVideoTexture&&g.delete(O)}function F(j){const O=j.target;O.removeEventListener("dispose",F),H(O)}function N(j){const O=r.get(j);if(O.__webglInit===void 0)return;const Z=j.source,fe=y.get(Z);if(fe){const Ce=fe[O.__cacheKey];Ce.usedTimes--,Ce.usedTimes===0&&k(j),Object.keys(fe).length===0&&y.delete(Z)}r.remove(j)}function k(j){const O=r.get(j);n.deleteTexture(O.__webglTexture);const Z=j.source,fe=y.get(Z);delete fe[O.__cacheKey],o.memory.textures--}function H(j){const O=j.texture,Z=r.get(j),fe=r.get(O);if(fe.__webglTexture!==void 0&&(n.deleteTexture(fe.__webglTexture),o.memory.textures--),j.depthTexture&&j.depthTexture.dispose(),j.isWebGLCubeRenderTarget)for(let Ce=0;Ce<6;Ce++)n.deleteFramebuffer(Z.__webglFramebuffer[Ce]),Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer[Ce]);else{if(n.deleteFramebuffer(Z.__webglFramebuffer),Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer),Z.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Z.__webglMultisampledFramebuffer),Z.__webglColorRenderbuffer)for(let Ce=0;Ce<Z.__webglColorRenderbuffer.length;Ce++)Z.__webglColorRenderbuffer[Ce]&&n.deleteRenderbuffer(Z.__webglColorRenderbuffer[Ce]);Z.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Z.__webglDepthRenderbuffer)}if(j.isWebGLMultipleRenderTargets)for(let Ce=0,Re=O.length;Ce<Re;Ce++){const Fe=r.get(O[Ce]);Fe.__webglTexture&&(n.deleteTexture(Fe.__webglTexture),o.memory.textures--),r.remove(O[Ce])}r.remove(O),r.remove(j)}let W=0;function Y(){W=0}function z(){const j=W;return j>=l&&console.warn("THREE.WebGLTextures: Trying to use "+j+" texture units while this GPU supports only "+l),W+=1,j}function U(j){const O=[];return O.push(j.wrapS),O.push(j.wrapT),O.push(j.wrapR||0),O.push(j.magFilter),O.push(j.minFilter),O.push(j.anisotropy),O.push(j.internalFormat),O.push(j.format),O.push(j.type),O.push(j.generateMipmaps),O.push(j.premultiplyAlpha),O.push(j.flipY),O.push(j.unpackAlignment),O.push(j.encoding),O.join()}function V(j,O){const Z=r.get(j);if(j.isVideoTexture&&Oe(j),j.isRenderTargetTexture===!1&&j.version>0&&Z.__version!==j.version){const fe=j.image;if(fe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(fe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{de(Z,j,O);return}}t.bindTexture(3553,Z.__webglTexture,33984+O)}function G(j,O){const Z=r.get(j);if(j.version>0&&Z.__version!==j.version){de(Z,j,O);return}t.bindTexture(35866,Z.__webglTexture,33984+O)}function X(j,O){const Z=r.get(j);if(j.version>0&&Z.__version!==j.version){de(Z,j,O);return}t.bindTexture(32879,Z.__webglTexture,33984+O)}function te(j,O){const Z=r.get(j);if(j.version>0&&Z.__version!==j.version){Te(Z,j,O);return}t.bindTexture(34067,Z.__webglTexture,33984+O)}const re={[qo]:10497,[hr]:33071,[ah]:33648},se={[Qn]:9728,[Ym]:9984,[Qm]:9986,[dn]:9729,[G_]:9985,[el]:9987};function q(j,O,Z){if(Z?(n.texParameteri(j,10242,re[O.wrapS]),n.texParameteri(j,10243,re[O.wrapT]),(j===32879||j===35866)&&n.texParameteri(j,32882,re[O.wrapR]),n.texParameteri(j,10240,se[O.magFilter]),n.texParameteri(j,10241,se[O.minFilter])):(n.texParameteri(j,10242,33071),n.texParameteri(j,10243,33071),(j===32879||j===35866)&&n.texParameteri(j,32882,33071),(O.wrapS!==hr||O.wrapT!==hr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(j,10240,D(O.magFilter)),n.texParameteri(j,10241,D(O.minFilter)),O.minFilter!==Qn&&O.minFilter!==dn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const fe=e.get("EXT_texture_filter_anisotropic");if(O.type===Ba&&e.has("OES_texture_float_linear")===!1||a===!1&&O.type===lh&&e.has("OES_texture_half_float_linear")===!1)return;(O.anisotropy>1||r.get(O).__currentAnisotropy)&&(n.texParameterf(j,fe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(O.anisotropy,i.getMaxAnisotropy())),r.get(O).__currentAnisotropy=O.anisotropy)}}function oe(j,O){let Z=!1;j.__webglInit===void 0&&(j.__webglInit=!0,O.addEventListener("dispose",L));const fe=O.source;let Ce=y.get(fe);Ce===void 0&&(Ce={},y.set(fe,Ce));const Re=U(O);if(Re!==j.__cacheKey){Ce[Re]===void 0&&(Ce[Re]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Z=!0),Ce[Re].usedTimes++;const Fe=Ce[j.__cacheKey];Fe!==void 0&&(Ce[j.__cacheKey].usedTimes--,Fe.usedTimes===0&&k(O)),j.__cacheKey=Re,j.__webglTexture=Ce[Re].texture}return Z}function de(j,O,Z){let fe=3553;(O.isDataArrayTexture||O.isCompressedArrayTexture)&&(fe=35866),O.isData3DTexture&&(fe=32879);const Ce=oe(j,O),Re=O.source;t.bindTexture(fe,j.__webglTexture,33984+Z);const Fe=r.get(Re);if(Re.version!==Fe.__version||Ce===!0){t.activeTexture(33984+Z),n.pixelStorei(37440,O.flipY),n.pixelStorei(37441,O.premultiplyAlpha),n.pixelStorei(3317,O.unpackAlignment),n.pixelStorei(37443,0);const Be=M(O)&&A(O.image)===!1;let ge=w(O.image,Be,!1,u);ge=xe(O,ge);const We=A(ge)||a,Ne=s.convert(O.format,O.encoding);let ze=s.convert(O.type),Ue=C(O.internalFormat,Ne,ze,O.encoding,O.isVideoTexture);q(fe,O,We);let Ie;const $e=O.mipmaps,st=a&&O.isVideoTexture!==!0,vt=Fe.__version===void 0||Ce===!0,ee=T(O,ge,We);if(O.isDepthTexture)Ue=6402,a?O.type===Ba?Ue=36012:O.type===Hl?Ue=33190:O.type===Ru?Ue=35056:Ue=33189:O.type===Ba&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),O.format===ic&&Ue===6402&&O.type!==CE&&O.type!==Hl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),O.type=Hl,ze=s.convert(O.type)),O.format===Ju&&Ue===6402&&(Ue=34041,O.type!==Ru&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),O.type=Ru,ze=s.convert(O.type))),vt&&(st?t.texStorage2D(3553,1,Ue,ge.width,ge.height):t.texImage2D(3553,0,Ue,ge.width,ge.height,0,Ne,ze,null));else if(O.isDataTexture)if($e.length>0&&We){st&&vt&&t.texStorage2D(3553,ee,Ue,$e[0].width,$e[0].height);for(let me=0,ke=$e.length;me<ke;me++)Ie=$e[me],st?t.texSubImage2D(3553,me,0,0,Ie.width,Ie.height,Ne,ze,Ie.data):t.texImage2D(3553,me,Ue,Ie.width,Ie.height,0,Ne,ze,Ie.data);O.generateMipmaps=!1}else st?(vt&&t.texStorage2D(3553,ee,Ue,ge.width,ge.height),t.texSubImage2D(3553,0,0,0,ge.width,ge.height,Ne,ze,ge.data)):t.texImage2D(3553,0,Ue,ge.width,ge.height,0,Ne,ze,ge.data);else if(O.isCompressedTexture)if(O.isCompressedArrayTexture){st&&vt&&t.texStorage3D(35866,ee,Ue,$e[0].width,$e[0].height,ge.depth);for(let me=0,ke=$e.length;me<ke;me++)Ie=$e[me],O.format!==Di?Ne!==null?st?t.compressedTexSubImage3D(35866,me,0,0,0,Ie.width,Ie.height,ge.depth,Ne,Ie.data,0,0):t.compressedTexImage3D(35866,me,Ue,Ie.width,Ie.height,ge.depth,0,Ie.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):st?t.texSubImage3D(35866,me,0,0,0,Ie.width,Ie.height,ge.depth,Ne,ze,Ie.data):t.texImage3D(35866,me,Ue,Ie.width,Ie.height,ge.depth,0,Ne,ze,Ie.data)}else{st&&vt&&t.texStorage2D(3553,ee,Ue,$e[0].width,$e[0].height);for(let me=0,ke=$e.length;me<ke;me++)Ie=$e[me],O.format!==Di?Ne!==null?st?t.compressedTexSubImage2D(3553,me,0,0,Ie.width,Ie.height,Ne,Ie.data):t.compressedTexImage2D(3553,me,Ue,Ie.width,Ie.height,0,Ie.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):st?t.texSubImage2D(3553,me,0,0,Ie.width,Ie.height,Ne,ze,Ie.data):t.texImage2D(3553,me,Ue,Ie.width,Ie.height,0,Ne,ze,Ie.data)}else if(O.isDataArrayTexture)st?(vt&&t.texStorage3D(35866,ee,Ue,ge.width,ge.height,ge.depth),t.texSubImage3D(35866,0,0,0,0,ge.width,ge.height,ge.depth,Ne,ze,ge.data)):t.texImage3D(35866,0,Ue,ge.width,ge.height,ge.depth,0,Ne,ze,ge.data);else if(O.isData3DTexture)st?(vt&&t.texStorage3D(32879,ee,Ue,ge.width,ge.height,ge.depth),t.texSubImage3D(32879,0,0,0,0,ge.width,ge.height,ge.depth,Ne,ze,ge.data)):t.texImage3D(32879,0,Ue,ge.width,ge.height,ge.depth,0,Ne,ze,ge.data);else if(O.isFramebufferTexture){if(vt)if(st)t.texStorage2D(3553,ee,Ue,ge.width,ge.height);else{let me=ge.width,ke=ge.height;for(let Xe=0;Xe<ee;Xe++)t.texImage2D(3553,Xe,Ue,me,ke,0,Ne,ze,null),me>>=1,ke>>=1}}else if($e.length>0&&We){st&&vt&&t.texStorage2D(3553,ee,Ue,$e[0].width,$e[0].height);for(let me=0,ke=$e.length;me<ke;me++)Ie=$e[me],st?t.texSubImage2D(3553,me,0,0,Ne,ze,Ie):t.texImage2D(3553,me,Ue,Ne,ze,Ie);O.generateMipmaps=!1}else st?(vt&&t.texStorage2D(3553,ee,Ue,ge.width,ge.height),t.texSubImage2D(3553,0,0,0,Ne,ze,ge)):t.texImage2D(3553,0,Ue,Ne,ze,ge);E(O,We)&&R(fe),Fe.__version=Re.version,O.onUpdate&&O.onUpdate(O)}j.__version=O.version}function Te(j,O,Z){if(O.image.length!==6)return;const fe=oe(j,O),Ce=O.source;t.bindTexture(34067,j.__webglTexture,33984+Z);const Re=r.get(Ce);if(Ce.version!==Re.__version||fe===!0){t.activeTexture(33984+Z),n.pixelStorei(37440,O.flipY),n.pixelStorei(37441,O.premultiplyAlpha),n.pixelStorei(3317,O.unpackAlignment),n.pixelStorei(37443,0);const Fe=O.isCompressedTexture||O.image[0].isCompressedTexture,Be=O.image[0]&&O.image[0].isDataTexture,ge=[];for(let me=0;me<6;me++)!Fe&&!Be?ge[me]=w(O.image[me],!1,!0,c):ge[me]=Be?O.image[me].image:O.image[me],ge[me]=xe(O,ge[me]);const We=ge[0],Ne=A(We)||a,ze=s.convert(O.format,O.encoding),Ue=s.convert(O.type),Ie=C(O.internalFormat,ze,Ue,O.encoding),$e=a&&O.isVideoTexture!==!0,st=Re.__version===void 0||fe===!0;let vt=T(O,We,Ne);q(34067,O,Ne);let ee;if(Fe){$e&&st&&t.texStorage2D(34067,vt,Ie,We.width,We.height);for(let me=0;me<6;me++){ee=ge[me].mipmaps;for(let ke=0;ke<ee.length;ke++){const Xe=ee[ke];O.format!==Di?ze!==null?$e?t.compressedTexSubImage2D(34069+me,ke,0,0,Xe.width,Xe.height,ze,Xe.data):t.compressedTexImage2D(34069+me,ke,Ie,Xe.width,Xe.height,0,Xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):$e?t.texSubImage2D(34069+me,ke,0,0,Xe.width,Xe.height,ze,Ue,Xe.data):t.texImage2D(34069+me,ke,Ie,Xe.width,Xe.height,0,ze,Ue,Xe.data)}}}else{ee=O.mipmaps,$e&&st&&(ee.length>0&&vt++,t.texStorage2D(34067,vt,Ie,ge[0].width,ge[0].height));for(let me=0;me<6;me++)if(Be){$e?t.texSubImage2D(34069+me,0,0,0,ge[me].width,ge[me].height,ze,Ue,ge[me].data):t.texImage2D(34069+me,0,Ie,ge[me].width,ge[me].height,0,ze,Ue,ge[me].data);for(let ke=0;ke<ee.length;ke++){const tt=ee[ke].image[me].image;$e?t.texSubImage2D(34069+me,ke+1,0,0,tt.width,tt.height,ze,Ue,tt.data):t.texImage2D(34069+me,ke+1,Ie,tt.width,tt.height,0,ze,Ue,tt.data)}}else{$e?t.texSubImage2D(34069+me,0,0,0,ze,Ue,ge[me]):t.texImage2D(34069+me,0,Ie,ze,Ue,ge[me]);for(let ke=0;ke<ee.length;ke++){const Xe=ee[ke];$e?t.texSubImage2D(34069+me,ke+1,0,0,ze,Ue,Xe.image[me]):t.texImage2D(34069+me,ke+1,Ie,ze,Ue,Xe.image[me])}}}E(O,Ne)&&R(34067),Re.__version=Ce.version,O.onUpdate&&O.onUpdate(O)}j.__version=O.version}function ye(j,O,Z,fe,Ce){const Re=s.convert(Z.format,Z.encoding),Fe=s.convert(Z.type),Be=C(Z.internalFormat,Re,Fe,Z.encoding);r.get(O).__hasExternalTextures||(Ce===32879||Ce===35866?t.texImage3D(Ce,0,Be,O.width,O.height,O.depth,0,Re,Fe,null):t.texImage2D(Ce,0,Be,O.width,O.height,0,Re,Fe,null)),t.bindFramebuffer(36160,j),Le(O)?d.framebufferTexture2DMultisampleEXT(36160,fe,Ce,r.get(Z).__webglTexture,0,we(O)):(Ce===3553||Ce>=34069&&Ce<=34074)&&n.framebufferTexture2D(36160,fe,Ce,r.get(Z).__webglTexture,0),t.bindFramebuffer(36160,null)}function Se(j,O,Z){if(n.bindRenderbuffer(36161,j),O.depthBuffer&&!O.stencilBuffer){let fe=33189;if(Z||Le(O)){const Ce=O.depthTexture;Ce&&Ce.isDepthTexture&&(Ce.type===Ba?fe=36012:Ce.type===Hl&&(fe=33190));const Re=we(O);Le(O)?d.renderbufferStorageMultisampleEXT(36161,Re,fe,O.width,O.height):n.renderbufferStorageMultisample(36161,Re,fe,O.width,O.height)}else n.renderbufferStorage(36161,fe,O.width,O.height);n.framebufferRenderbuffer(36160,36096,36161,j)}else if(O.depthBuffer&&O.stencilBuffer){const fe=we(O);Z&&Le(O)===!1?n.renderbufferStorageMultisample(36161,fe,35056,O.width,O.height):Le(O)?d.renderbufferStorageMultisampleEXT(36161,fe,35056,O.width,O.height):n.renderbufferStorage(36161,34041,O.width,O.height),n.framebufferRenderbuffer(36160,33306,36161,j)}else{const fe=O.isWebGLMultipleRenderTargets===!0?O.texture:[O.texture];for(let Ce=0;Ce<fe.length;Ce++){const Re=fe[Ce],Fe=s.convert(Re.format,Re.encoding),Be=s.convert(Re.type),ge=C(Re.internalFormat,Fe,Be,Re.encoding),We=we(O);Z&&Le(O)===!1?n.renderbufferStorageMultisample(36161,We,ge,O.width,O.height):Le(O)?d.renderbufferStorageMultisampleEXT(36161,We,ge,O.width,O.height):n.renderbufferStorage(36161,ge,O.width,O.height)}}n.bindRenderbuffer(36161,null)}function ne(j,O){if(O&&O.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,j),!(O.depthTexture&&O.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(O.depthTexture).__webglTexture||O.depthTexture.image.width!==O.width||O.depthTexture.image.height!==O.height)&&(O.depthTexture.image.width=O.width,O.depthTexture.image.height=O.height,O.depthTexture.needsUpdate=!0),V(O.depthTexture,0);const fe=r.get(O.depthTexture).__webglTexture,Ce=we(O);if(O.depthTexture.format===ic)Le(O)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,fe,0,Ce):n.framebufferTexture2D(36160,36096,3553,fe,0);else if(O.depthTexture.format===Ju)Le(O)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,fe,0,Ce):n.framebufferTexture2D(36160,33306,3553,fe,0);else throw new Error("Unknown depthTexture format")}function le(j){const O=r.get(j),Z=j.isWebGLCubeRenderTarget===!0;if(j.depthTexture&&!O.__autoAllocateDepthBuffer){if(Z)throw new Error("target.depthTexture not supported in Cube render targets");ne(O.__webglFramebuffer,j)}else if(Z){O.__webglDepthbuffer=[];for(let fe=0;fe<6;fe++)t.bindFramebuffer(36160,O.__webglFramebuffer[fe]),O.__webglDepthbuffer[fe]=n.createRenderbuffer(),Se(O.__webglDepthbuffer[fe],j,!1)}else t.bindFramebuffer(36160,O.__webglFramebuffer),O.__webglDepthbuffer=n.createRenderbuffer(),Se(O.__webglDepthbuffer,j,!1);t.bindFramebuffer(36160,null)}function Me(j,O,Z){const fe=r.get(j);O!==void 0&&ye(fe.__webglFramebuffer,j,j.texture,36064,3553),Z!==void 0&&le(j)}function Pe(j){const O=j.texture,Z=r.get(j),fe=r.get(O);j.addEventListener("dispose",F),j.isWebGLMultipleRenderTargets!==!0&&(fe.__webglTexture===void 0&&(fe.__webglTexture=n.createTexture()),fe.__version=O.version,o.memory.textures++);const Ce=j.isWebGLCubeRenderTarget===!0,Re=j.isWebGLMultipleRenderTargets===!0,Fe=A(j)||a;if(Ce){Z.__webglFramebuffer=[];for(let Be=0;Be<6;Be++)Z.__webglFramebuffer[Be]=n.createFramebuffer()}else{if(Z.__webglFramebuffer=n.createFramebuffer(),Re)if(i.drawBuffers){const Be=j.texture;for(let ge=0,We=Be.length;ge<We;ge++){const Ne=r.get(Be[ge]);Ne.__webglTexture===void 0&&(Ne.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&j.samples>0&&Le(j)===!1){const Be=Re?O:[O];Z.__webglMultisampledFramebuffer=n.createFramebuffer(),Z.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,Z.__webglMultisampledFramebuffer);for(let ge=0;ge<Be.length;ge++){const We=Be[ge];Z.__webglColorRenderbuffer[ge]=n.createRenderbuffer(),n.bindRenderbuffer(36161,Z.__webglColorRenderbuffer[ge]);const Ne=s.convert(We.format,We.encoding),ze=s.convert(We.type),Ue=C(We.internalFormat,Ne,ze,We.encoding,j.isXRRenderTarget===!0),Ie=we(j);n.renderbufferStorageMultisample(36161,Ie,Ue,j.width,j.height),n.framebufferRenderbuffer(36160,36064+ge,36161,Z.__webglColorRenderbuffer[ge])}n.bindRenderbuffer(36161,null),j.depthBuffer&&(Z.__webglDepthRenderbuffer=n.createRenderbuffer(),Se(Z.__webglDepthRenderbuffer,j,!0)),t.bindFramebuffer(36160,null)}}if(Ce){t.bindTexture(34067,fe.__webglTexture),q(34067,O,Fe);for(let Be=0;Be<6;Be++)ye(Z.__webglFramebuffer[Be],j,O,36064,34069+Be);E(O,Fe)&&R(34067),t.unbindTexture()}else if(Re){const Be=j.texture;for(let ge=0,We=Be.length;ge<We;ge++){const Ne=Be[ge],ze=r.get(Ne);t.bindTexture(3553,ze.__webglTexture),q(3553,Ne,Fe),ye(Z.__webglFramebuffer,j,Ne,36064+ge,3553),E(Ne,Fe)&&R(3553)}t.unbindTexture()}else{let Be=3553;(j.isWebGL3DRenderTarget||j.isWebGLArrayRenderTarget)&&(a?Be=j.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Be,fe.__webglTexture),q(Be,O,Fe),ye(Z.__webglFramebuffer,j,O,36064,Be),E(O,Fe)&&R(Be),t.unbindTexture()}j.depthBuffer&&le(j)}function Ae(j){const O=A(j)||a,Z=j.isWebGLMultipleRenderTargets===!0?j.texture:[j.texture];for(let fe=0,Ce=Z.length;fe<Ce;fe++){const Re=Z[fe];if(E(Re,O)){const Fe=j.isWebGLCubeRenderTarget?34067:3553,Be=r.get(Re).__webglTexture;t.bindTexture(Fe,Be),R(Fe),t.unbindTexture()}}}function je(j){if(a&&j.samples>0&&Le(j)===!1){const O=j.isWebGLMultipleRenderTargets?j.texture:[j.texture],Z=j.width,fe=j.height;let Ce=16384;const Re=[],Fe=j.stencilBuffer?33306:36096,Be=r.get(j),ge=j.isWebGLMultipleRenderTargets===!0;if(ge)for(let We=0;We<O.length;We++)t.bindFramebuffer(36160,Be.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+We,36161,null),t.bindFramebuffer(36160,Be.__webglFramebuffer),n.framebufferTexture2D(36009,36064+We,3553,null,0);t.bindFramebuffer(36008,Be.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Be.__webglFramebuffer);for(let We=0;We<O.length;We++){Re.push(36064+We),j.depthBuffer&&Re.push(Fe);const Ne=Be.__ignoreDepthValues!==void 0?Be.__ignoreDepthValues:!1;if(Ne===!1&&(j.depthBuffer&&(Ce|=256),j.stencilBuffer&&(Ce|=1024)),ge&&n.framebufferRenderbuffer(36008,36064,36161,Be.__webglColorRenderbuffer[We]),Ne===!0&&(n.invalidateFramebuffer(36008,[Fe]),n.invalidateFramebuffer(36009,[Fe])),ge){const ze=r.get(O[We]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,ze,0)}n.blitFramebuffer(0,0,Z,fe,0,0,Z,fe,Ce,9728),p&&n.invalidateFramebuffer(36008,Re)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),ge)for(let We=0;We<O.length;We++){t.bindFramebuffer(36160,Be.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+We,36161,Be.__webglColorRenderbuffer[We]);const Ne=r.get(O[We]).__webglTexture;t.bindFramebuffer(36160,Be.__webglFramebuffer),n.framebufferTexture2D(36009,36064+We,3553,Ne,0)}t.bindFramebuffer(36009,Be.__webglMultisampledFramebuffer)}}function we(j){return Math.min(f,j.samples)}function Le(j){const O=r.get(j);return a&&j.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&O.__useRenderToTexture!==!1}function Oe(j){const O=o.render.frame;g.get(j)!==O&&(g.set(j,O),j.update())}function xe(j,O){const Z=j.encoding,fe=j.format,Ce=j.type;return j.isCompressedTexture===!0||j.isVideoTexture===!0||j.format===F1||Z!==dc&&(Z===yn?a===!1?e.has("EXT_sRGB")===!0&&fe===Di?(j.format=F1,j.minFilter=dn,j.generateMipmaps=!1):O=DE.sRGBToLinear(O):(fe!==Di||Ce!==ja)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Z)),O}this.allocateTextureUnit=z,this.resetTextureUnits=Y,this.setTexture2D=V,this.setTexture2DArray=G,this.setTexture3D=X,this.setTextureCube=te,this.rebindTextures=Me,this.setupRenderTarget=Pe,this.updateRenderTargetMipmap=Ae,this.updateMultisampleRenderTarget=je,this.setupDepthRenderbuffer=le,this.setupFrameBufferTexture=ye,this.useMultisampledRTT=Le}function EN(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===ja)return 5121;if(s===Z4)return 32819;if(s===q4)return 32820;if(s===K4)return 5120;if(s===Y4)return 5122;if(s===CE)return 5123;if(s===Q4)return 5124;if(s===Hl)return 5125;if(s===Ba)return 5126;if(s===lh)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===eN)return 6406;if(s===Di)return 6408;if(s===nN)return 6409;if(s===rN)return 6410;if(s===ic)return 6402;if(s===Ju)return 34041;if(s===iN)return 6403;if(s===tN)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===F1)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===sN)return 36244;if(s===oN)return 33319;if(s===aN)return 33320;if(s===lN)return 36249;if(s===jy||s===$y||s===Xy||s===Jy)if(o===yn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===jy)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===$y)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Xy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Jy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===jy)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===$y)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Xy)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Jy)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===kb||s===Ob||s===Fb||s===Nb)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===kb)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Ob)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Fb)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Nb)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===cN)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Ub||s===zb)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===Ub)return o===yn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===zb)return o===yn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Gb||s===Hb||s===Vb||s===Wb||s===jb||s===$b||s===Xb||s===Jb||s===Kb||s===Yb||s===Qb||s===Zb||s===qb||s===eM)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Gb)return o===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===Hb)return o===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Vb)return o===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===Wb)return o===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===jb)return o===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===$b)return o===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===Xb)return o===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Jb)return o===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===Kb)return o===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===Yb)return o===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Qb)return o===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===Zb)return o===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===qb)return o===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===eM)return o===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===tM)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===tM)return o===yn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===Ru?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class TN extends ir{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class go extends It{constructor(){super(),this.isGroup=!0,this.type="Group"}}const EJ={type:"move"};class vS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new go,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new go,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new $,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new $),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new go,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new $,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new $),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const v of e.hand.values()){const y=t.getJointPose(v,r);if(c.joints[v.jointName]===void 0){const _=new go;_.matrixAutoUpdate=!1,_.visible=!1,c.joints[v.jointName]=_,c.add(_)}const x=c.joints[v.jointName];y!==null&&(x.matrix.fromArray(y.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=y.radius),x.visible=y!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],d=u.position.distanceTo(f.position),p=.02,g=.005;c.inputState.pinching&&d>p+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=p-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(EJ)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class PN extends mn{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:ic,u!==ic&&u!==Ju)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===ic&&(r=Hl),r===void 0&&u===Ju&&(r=Ru),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Qn,this.minFilter=l!==void 0?l:Qn,this.flipY=!1,this.generateMipmaps=!1}}class TJ extends tl{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,c=null,u=null,f=null,d=null,p=null;const g=t.getContextAttributes();let v=null,y=null;const x=[],_=[],w=new ir;w.layers.enable(1),w.viewport=new Pt;const A=new ir;A.layers.enable(2),A.viewport=new Pt;const M=[w,A],E=new TN;E.layers.enable(1),E.layers.enable(2);let R=null,C=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(U){let V=x[U];return V===void 0&&(V=new vS,x[U]=V),V.getTargetRaySpace()},this.getControllerGrip=function(U){let V=x[U];return V===void 0&&(V=new vS,x[U]=V),V.getGripSpace()},this.getHand=function(U){let V=x[U];return V===void 0&&(V=new vS,x[U]=V),V.getHandSpace()};function T(U){const V=_.indexOf(U.inputSource);if(V===-1)return;const G=x[V];G!==void 0&&G.dispatchEvent({type:U.type,data:U.inputSource})}function D(){i.removeEventListener("select",T),i.removeEventListener("selectstart",T),i.removeEventListener("selectend",T),i.removeEventListener("squeeze",T),i.removeEventListener("squeezestart",T),i.removeEventListener("squeezeend",T),i.removeEventListener("end",D),i.removeEventListener("inputsourceschange",L);for(let U=0;U<x.length;U++){const V=_[U];V!==null&&(_[U]=null,x[U].disconnect(V))}R=null,C=null,e.setRenderTarget(v),d=null,f=null,u=null,i=null,y=null,z.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(U){s=U,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(U){a=U,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(U){l=U},this.getBaseLayer=function(){return f!==null?f:d},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(U){if(i=U,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",T),i.addEventListener("selectstart",T),i.addEventListener("selectend",T),i.addEventListener("squeeze",T),i.addEventListener("squeezestart",T),i.addEventListener("squeezeend",T),i.addEventListener("end",D),i.addEventListener("inputsourceschange",L),g.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const V={antialias:i.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};d=new XRWebGLLayer(i,t,V),i.updateRenderState({baseLayer:d}),y=new Qs(d.framebufferWidth,d.framebufferHeight,{format:Di,type:ja,encoding:e.outputEncoding,stencilBuffer:g.stencil})}else{let V=null,G=null,X=null;g.depth&&(X=g.stencil?35056:33190,V=g.stencil?Ju:ic,G=g.stencil?Ru:Hl);const te={colorFormat:32856,depthFormat:X,scaleFactor:s};u=new XRWebGLBinding(i,t),f=u.createProjectionLayer(te),i.updateRenderState({layers:[f]}),y=new Qs(f.textureWidth,f.textureHeight,{format:Di,type:ja,depthTexture:new PN(f.textureWidth,f.textureHeight,G,void 0,void 0,void 0,void 0,void 0,void 0,V),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const re=e.properties.get(y);re.__ignoreDepthValues=f.ignoreDepthValues}y.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),z.setContext(i),z.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function L(U){for(let V=0;V<U.removed.length;V++){const G=U.removed[V],X=_.indexOf(G);X>=0&&(_[X]=null,x[X].dispatchEvent({type:"disconnected",data:G}))}for(let V=0;V<U.added.length;V++){const G=U.added[V];let X=_.indexOf(G);if(X===-1){for(let re=0;re<x.length;re++)if(re>=_.length){_.push(G),X=re;break}else if(_[re]===null){_[re]=G,X=re;break}if(X===-1)break}const te=x[X];te&&te.dispatchEvent({type:"connected",data:G})}}const F=new $,N=new $;function k(U,V,G){F.setFromMatrixPosition(V.matrixWorld),N.setFromMatrixPosition(G.matrixWorld);const X=F.distanceTo(N),te=V.projectionMatrix.elements,re=G.projectionMatrix.elements,se=te[14]/(te[10]-1),q=te[14]/(te[10]+1),oe=(te[9]+1)/te[5],de=(te[9]-1)/te[5],Te=(te[8]-1)/te[0],ye=(re[8]+1)/re[0],Se=se*Te,ne=se*ye,le=X/(-Te+ye),Me=le*-Te;V.matrixWorld.decompose(U.position,U.quaternion,U.scale),U.translateX(Me),U.translateZ(le),U.matrixWorld.compose(U.position,U.quaternion,U.scale),U.matrixWorldInverse.copy(U.matrixWorld).invert();const Pe=se+le,Ae=q+le,je=Se-Me,we=ne+(X-Me),Le=oe*q/Ae*Pe,Oe=de*q/Ae*Pe;U.projectionMatrix.makePerspective(je,we,Le,Oe,Pe,Ae)}function H(U,V){V===null?U.matrixWorld.copy(U.matrix):U.matrixWorld.multiplyMatrices(V.matrixWorld,U.matrix),U.matrixWorldInverse.copy(U.matrixWorld).invert()}this.updateCamera=function(U){if(i===null)return;E.near=A.near=w.near=U.near,E.far=A.far=w.far=U.far,(R!==E.near||C!==E.far)&&(i.updateRenderState({depthNear:E.near,depthFar:E.far}),R=E.near,C=E.far);const V=U.parent,G=E.cameras;H(E,V);for(let te=0;te<G.length;te++)H(G[te],V);E.matrixWorld.decompose(E.position,E.quaternion,E.scale),U.matrix.copy(E.matrix),U.matrix.decompose(U.position,U.quaternion,U.scale);const X=U.children;for(let te=0,re=X.length;te<re;te++)X[te].updateMatrixWorld(!0);G.length===2?k(E,w,A):E.projectionMatrix.copy(w.projectionMatrix)},this.getCamera=function(){return E},this.getFoveation=function(){if(f!==null)return f.fixedFoveation;if(d!==null)return d.fixedFoveation},this.setFoveation=function(U){f!==null&&(f.fixedFoveation=U),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=U)};let W=null;function Y(U,V){if(c=V.getViewerPose(l||o),p=V,c!==null){const G=c.views;d!==null&&(e.setRenderTargetFramebuffer(y,d.framebuffer),e.setRenderTarget(y));let X=!1;G.length!==E.cameras.length&&(E.cameras.length=0,X=!0);for(let te=0;te<G.length;te++){const re=G[te];let se=null;if(d!==null)se=d.getViewport(re);else{const oe=u.getViewSubImage(f,re);se=oe.viewport,te===0&&(e.setRenderTargetTextures(y,oe.colorTexture,f.ignoreDepthValues?void 0:oe.depthStencilTexture),e.setRenderTarget(y))}let q=M[te];q===void 0&&(q=new ir,q.layers.enable(te),q.viewport=new Pt,M[te]=q),q.matrix.fromArray(re.transform.matrix),q.projectionMatrix.fromArray(re.projectionMatrix),q.viewport.set(se.x,se.y,se.width,se.height),te===0&&E.matrix.copy(q.matrix),X===!0&&E.cameras.push(q)}}for(let G=0;G<x.length;G++){const X=_[G],te=x[G];X!==null&&te!==void 0&&te.update(X,V,l||o)}W&&W(U,V),p=null}const z=new SN;z.setAnimationLoop(Y),this.setAnimationLoop=function(U){W=U},this.dispose=function(){}}}function PJ(n,e){function t(v,y){v.fogColor.value.copy(y.color),y.isFog?(v.fogNear.value=y.near,v.fogFar.value=y.far):y.isFogExp2&&(v.fogDensity.value=y.density)}function r(v,y,x,_,w){y.isMeshBasicMaterial||y.isMeshLambertMaterial?i(v,y):y.isMeshToonMaterial?(i(v,y),u(v,y)):y.isMeshPhongMaterial?(i(v,y),c(v,y)):y.isMeshStandardMaterial?(i(v,y),f(v,y),y.isMeshPhysicalMaterial&&d(v,y,w)):y.isMeshMatcapMaterial?(i(v,y),p(v,y)):y.isMeshDepthMaterial?i(v,y):y.isMeshDistanceMaterial?(i(v,y),g(v,y)):y.isMeshNormalMaterial?i(v,y):y.isLineBasicMaterial?(s(v,y),y.isLineDashedMaterial&&o(v,y)):y.isPointsMaterial?a(v,y,x,_):y.isSpriteMaterial?l(v,y):y.isShadowMaterial?(v.color.value.copy(y.color),v.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function i(v,y){v.opacity.value=y.opacity,y.color&&v.diffuse.value.copy(y.color),y.emissive&&v.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.bumpMap&&(v.bumpMap.value=y.bumpMap,v.bumpScale.value=y.bumpScale,y.side===xi&&(v.bumpScale.value*=-1)),y.displacementMap&&(v.displacementMap.value=y.displacementMap,v.displacementScale.value=y.displacementScale,v.displacementBias.value=y.displacementBias),y.emissiveMap&&(v.emissiveMap.value=y.emissiveMap),y.normalMap&&(v.normalMap.value=y.normalMap,v.normalScale.value.copy(y.normalScale),y.side===xi&&v.normalScale.value.negate()),y.specularMap&&(v.specularMap.value=y.specularMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);const x=e.get(y).envMap;if(x&&(v.envMap.value=x,v.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=y.reflectivity,v.ior.value=y.ior,v.refractionRatio.value=y.refractionRatio),y.lightMap){v.lightMap.value=y.lightMap;const A=n.physicallyCorrectLights!==!0?Math.PI:1;v.lightMapIntensity.value=y.lightMapIntensity*A}y.aoMap&&(v.aoMap.value=y.aoMap,v.aoMapIntensity.value=y.aoMapIntensity);let _;y.map?_=y.map:y.specularMap?_=y.specularMap:y.displacementMap?_=y.displacementMap:y.normalMap?_=y.normalMap:y.bumpMap?_=y.bumpMap:y.roughnessMap?_=y.roughnessMap:y.metalnessMap?_=y.metalnessMap:y.alphaMap?_=y.alphaMap:y.emissiveMap?_=y.emissiveMap:y.clearcoatMap?_=y.clearcoatMap:y.clearcoatNormalMap?_=y.clearcoatNormalMap:y.clearcoatRoughnessMap?_=y.clearcoatRoughnessMap:y.iridescenceMap?_=y.iridescenceMap:y.iridescenceThicknessMap?_=y.iridescenceThicknessMap:y.specularIntensityMap?_=y.specularIntensityMap:y.specularColorMap?_=y.specularColorMap:y.transmissionMap?_=y.transmissionMap:y.thicknessMap?_=y.thicknessMap:y.sheenColorMap?_=y.sheenColorMap:y.sheenRoughnessMap&&(_=y.sheenRoughnessMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),v.uvTransform.value.copy(_.matrix));let w;y.aoMap?w=y.aoMap:y.lightMap&&(w=y.lightMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uv2Transform.value.copy(w.matrix))}function s(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity}function o(v,y){v.dashSize.value=y.dashSize,v.totalSize.value=y.dashSize+y.gapSize,v.scale.value=y.scale}function a(v,y,x,_){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.size.value=y.size*x,v.scale.value=_*.5,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let w;y.map?w=y.map:y.alphaMap&&(w=y.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uvTransform.value.copy(w.matrix))}function l(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.rotation.value=y.rotation,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let x;y.map?x=y.map:y.alphaMap&&(x=y.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),v.uvTransform.value.copy(x.matrix))}function c(v,y){v.specular.value.copy(y.specular),v.shininess.value=Math.max(y.shininess,1e-4)}function u(v,y){y.gradientMap&&(v.gradientMap.value=y.gradientMap)}function f(v,y){v.roughness.value=y.roughness,v.metalness.value=y.metalness,y.roughnessMap&&(v.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(v.metalnessMap.value=y.metalnessMap),e.get(y).envMap&&(v.envMapIntensity.value=y.envMapIntensity)}function d(v,y,x){v.ior.value=y.ior,y.sheen>0&&(v.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),v.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(v.sheenColorMap.value=y.sheenColorMap),y.sheenRoughnessMap&&(v.sheenRoughnessMap.value=y.sheenRoughnessMap)),y.clearcoat>0&&(v.clearcoat.value=y.clearcoat,v.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(v.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),v.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===xi&&v.clearcoatNormalScale.value.negate())),y.iridescence>0&&(v.iridescence.value=y.iridescence,v.iridescenceIOR.value=y.iridescenceIOR,v.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(v.iridescenceMap.value=y.iridescenceMap),y.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=y.iridescenceThicknessMap)),y.transmission>0&&(v.transmission.value=y.transmission,v.transmissionSamplerMap.value=x.texture,v.transmissionSamplerSize.value.set(x.width,x.height),y.transmissionMap&&(v.transmissionMap.value=y.transmissionMap),v.thickness.value=y.thickness,y.thicknessMap&&(v.thicknessMap.value=y.thicknessMap),v.attenuationDistance.value=y.attenuationDistance,v.attenuationColor.value.copy(y.attenuationColor)),v.specularIntensity.value=y.specularIntensity,v.specularColor.value.copy(y.specularColor),y.specularIntensityMap&&(v.specularIntensityMap.value=y.specularIntensityMap),y.specularColorMap&&(v.specularColorMap.value=y.specularColorMap)}function p(v,y){y.matcap&&(v.matcap.value=y.matcap)}function g(v,y){v.referencePosition.value.copy(y.referencePosition),v.nearDistance.value=y.nearDistance,v.farDistance.value=y.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function RJ(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(_,w){const A=w.program;r.uniformBlockBinding(_,A)}function c(_,w){let A=i[_.id];A===void 0&&(g(_),A=u(_),i[_.id]=A,_.addEventListener("dispose",y));const M=w.program;r.updateUBOMapping(_,M);const E=e.render.frame;s[_.id]!==E&&(d(_),s[_.id]=E)}function u(_){const w=f();_.__bindingPointIndex=w;const A=n.createBuffer(),M=_.__size,E=_.usage;return n.bindBuffer(35345,A),n.bufferData(35345,M,E),n.bindBuffer(35345,null),n.bindBufferBase(35345,w,A),A}function f(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(_){const w=i[_.id],A=_.uniforms,M=_.__cache;n.bindBuffer(35345,w);for(let E=0,R=A.length;E<R;E++){const C=A[E];if(p(C,E,M)===!0){const T=C.value,D=C.__offset;typeof T=="number"?(C.__data[0]=T,n.bufferSubData(35345,D,C.__data)):(C.value.isMatrix3?(C.__data[0]=C.value.elements[0],C.__data[1]=C.value.elements[1],C.__data[2]=C.value.elements[2],C.__data[3]=C.value.elements[0],C.__data[4]=C.value.elements[3],C.__data[5]=C.value.elements[4],C.__data[6]=C.value.elements[5],C.__data[7]=C.value.elements[0],C.__data[8]=C.value.elements[6],C.__data[9]=C.value.elements[7],C.__data[10]=C.value.elements[8],C.__data[11]=C.value.elements[0]):T.toArray(C.__data),n.bufferSubData(35345,D,C.__data))}}n.bindBuffer(35345,null)}function p(_,w,A){const M=_.value;if(A[w]===void 0)return typeof M=="number"?A[w]=M:A[w]=M.clone(),!0;if(typeof M=="number"){if(A[w]!==M)return A[w]=M,!0}else{const E=A[w];if(E.equals(M)===!1)return E.copy(M),!0}return!1}function g(_){const w=_.uniforms;let A=0;const M=16;let E=0;for(let R=0,C=w.length;R<C;R++){const T=w[R],D=v(T);if(T.__data=new Float32Array(D.storage/Float32Array.BYTES_PER_ELEMENT),T.__offset=A,R>0){E=A%M;const L=M-E;E!==0&&L-D.boundary<0&&(A+=M-E,T.__offset=A)}A+=D.storage}return E=A%M,E>0&&(A+=M-E),_.__size=A,_.__cache={},this}function v(_){const w=_.value,A={boundary:0,storage:0};return typeof w=="number"?(A.boundary=4,A.storage=4):w.isVector2?(A.boundary=8,A.storage=8):w.isVector3||w.isColor?(A.boundary=16,A.storage=12):w.isVector4?(A.boundary=16,A.storage=16):w.isMatrix3?(A.boundary=48,A.storage=48):w.isMatrix4?(A.boundary=64,A.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),A}function y(_){const w=_.target;w.removeEventListener("dispose",y);const A=o.indexOf(w.__bindingPointIndex);o.splice(A,1),n.deleteBuffer(i[w.id]),delete i[w.id],delete s[w.id]}function x(){for(const _ in i)n.deleteBuffer(i[_]);o=[],i={},s={}}return{bind:l,update:c,dispose:x}}function DJ(){const n=tg("canvas");return n.style.display="block",n}function LE(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:DJ(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let u;t!==null?u=t.getContextAttributes().alpha:u=n.alpha!==void 0?n.alpha:!1;let f=null,d=null;const p=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=dc,this.physicallyCorrectLights=!1,this.toneMapping=_o,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const v=this;let y=!1,x=0,_=0,w=null,A=-1,M=null;const E=new Pt,R=new Pt;let C=null,T=e.width,D=e.height,L=1,F=null,N=null;const k=new Pt(0,0,T,D),H=new Pt(0,0,T,D);let W=!1;const Y=new $_;let z=!1,U=!1,V=null;const G=new Ze,X=new De,te=new $,re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function se(){return w===null?L:1}let q=t;function oe(J,ue){for(let ve=0;ve<J.length;ve++){const ce=J[ve],Ee=e.getContext(ce,ue);if(Ee!==null)return Ee}return null}try{const J={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Dg}`),e.addEventListener("webglcontextlost",Ue,!1),e.addEventListener("webglcontextrestored",Ie,!1),e.addEventListener("webglcontextcreationerror",$e,!1),q===null){const ue=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&ue.shift(),q=oe(ue,J),q===null)throw oe(ue)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}q.getShaderPrecisionFormat===void 0&&(q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(J){throw console.error("THREE.WebGLRenderer: "+J.message),J}let de,Te,ye,Se,ne,le,Me,Pe,Ae,je,we,Le,Oe,xe,j,O,Z,fe,Ce,Re,Fe,Be,ge,We;function Ne(){de=new X$(q),Te=new G$(q,de,n),de.init(Te),Be=new EN(q,de,Te),ye=new MJ(q,de,Te),Se=new Y$,ne=new hJ,le=new CJ(q,de,ye,ne,Te,Be,Se),Me=new V$(v),Pe=new $$(v),Ae=new s7(q,Te),ge=new U$(q,de,Ae,Te),je=new J$(q,Ae,Se,ge),we=new eX(q,je,Ae,Se),Ce=new q$(q,Te,le),O=new H$(ne),Le=new dJ(v,Me,Pe,de,Te,ge,O),Oe=new PJ(v,ne),xe=new mJ,j=new wJ(de,Te),fe=new N$(v,Me,Pe,ye,we,u,o),Z=new bJ(v,we,Te),We=new RJ(q,Se,Te,ye),Re=new z$(q,de,Se,Te),Fe=new K$(q,de,Se,Te),Se.programs=Le.programs,v.capabilities=Te,v.extensions=de,v.properties=ne,v.renderLists=xe,v.shadowMap=Z,v.state=ye,v.info=Se}Ne();const ze=new TJ(v,q);this.xr=ze,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const J=de.get("WEBGL_lose_context");J&&J.loseContext()},this.forceContextRestore=function(){const J=de.get("WEBGL_lose_context");J&&J.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(J){J!==void 0&&(L=J,this.setSize(T,D,!1))},this.getSize=function(J){return J.set(T,D)},this.setSize=function(J,ue,ve){if(ze.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}T=J,D=ue,e.width=Math.floor(J*L),e.height=Math.floor(ue*L),ve!==!1&&(e.style.width=J+"px",e.style.height=ue+"px"),this.setViewport(0,0,J,ue)},this.getDrawingBufferSize=function(J){return J.set(T*L,D*L).floor()},this.setDrawingBufferSize=function(J,ue,ve){T=J,D=ue,L=ve,e.width=Math.floor(J*ve),e.height=Math.floor(ue*ve),this.setViewport(0,0,J,ue)},this.getCurrentViewport=function(J){return J.copy(E)},this.getViewport=function(J){return J.copy(k)},this.setViewport=function(J,ue,ve,ce){J.isVector4?k.set(J.x,J.y,J.z,J.w):k.set(J,ue,ve,ce),ye.viewport(E.copy(k).multiplyScalar(L).floor())},this.getScissor=function(J){return J.copy(H)},this.setScissor=function(J,ue,ve,ce){J.isVector4?H.set(J.x,J.y,J.z,J.w):H.set(J,ue,ve,ce),ye.scissor(R.copy(H).multiplyScalar(L).floor())},this.getScissorTest=function(){return W},this.setScissorTest=function(J){ye.setScissorTest(W=J)},this.setOpaqueSort=function(J){F=J},this.setTransparentSort=function(J){N=J},this.getClearColor=function(J){return J.copy(fe.getClearColor())},this.setClearColor=function(){fe.setClearColor.apply(fe,arguments)},this.getClearAlpha=function(){return fe.getClearAlpha()},this.setClearAlpha=function(){fe.setClearAlpha.apply(fe,arguments)},this.clear=function(J=!0,ue=!0,ve=!0){let ce=0;J&&(ce|=16384),ue&&(ce|=256),ve&&(ce|=1024),q.clear(ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ue,!1),e.removeEventListener("webglcontextrestored",Ie,!1),e.removeEventListener("webglcontextcreationerror",$e,!1),xe.dispose(),j.dispose(),ne.dispose(),Me.dispose(),Pe.dispose(),we.dispose(),ge.dispose(),We.dispose(),Le.dispose(),ze.dispose(),ze.removeEventListener("sessionstart",Xe),ze.removeEventListener("sessionend",tt),V&&(V.dispose(),V=null),xt.stop()};function Ue(J){J.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function Ie(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const J=Se.autoReset,ue=Z.enabled,ve=Z.autoUpdate,ce=Z.needsUpdate,Ee=Z.type;Ne(),Se.autoReset=J,Z.enabled=ue,Z.autoUpdate=ve,Z.needsUpdate=ce,Z.type=Ee}function $e(J){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",J.statusMessage)}function st(J){const ue=J.target;ue.removeEventListener("dispose",st),vt(ue)}function vt(J){ee(J),ne.remove(J)}function ee(J){const ue=ne.get(J).programs;ue!==void 0&&(ue.forEach(function(ve){Le.releaseProgram(ve)}),J.isShaderMaterial&&Le.releaseShaderCache(J))}this.renderBufferDirect=function(J,ue,ve,ce,Ee,nt){ue===null&&(ue=re);const lt=Ee.isMesh&&Ee.matrixWorld.determinant()<0,wt=Er(J,ue,ve,ce,Ee);ye.setMaterial(ce,lt);let mt=ve.index;const Rt=ve.attributes.position;if(mt===null){if(Rt===void 0||Rt.count===0)return}else if(mt.count===0)return;let St=1;ce.wireframe===!0&&(mt=je.getWireframeAttribute(ve),St=2),ge.setup(Ee,ce,wt,ve,mt);let kt,nn=Re;mt!==null&&(kt=Ae.get(mt),nn=Fe,nn.setIndex(kt));const Ai=mt!==null?mt.count:Rt.count,vs=ve.drawRange.start*St,ys=ve.drawRange.count*St,Qe=nt!==null?nt.start*St:0,At=nt!==null?nt.count*St:1/0,_s=Math.max(vs,Qe),Zt=Math.min(Ai,vs+ys,Qe+At)-1,Tr=Math.max(0,Zt-_s+1);if(Tr!==0){if(Ee.isMesh)ce.wireframe===!0?(ye.setLineWidth(ce.wireframeLinewidth*se()),nn.setMode(1)):nn.setMode(4);else if(Ee.isLine){let Ur=ce.linewidth;Ur===void 0&&(Ur=1),ye.setLineWidth(Ur*se()),Ee.isLineSegments?nn.setMode(1):Ee.isLineLoop?nn.setMode(2):nn.setMode(3)}else Ee.isPoints?nn.setMode(0):Ee.isSprite&&nn.setMode(4);if(Ee.isInstancedMesh)nn.renderInstances(_s,Tr,Ee.count);else if(ve.isInstancedBufferGeometry){const Ur=Math.min(ve.instanceCount,ve._maxInstanceCount);nn.renderInstances(_s,Tr,Ur)}else nn.render(_s,Tr)}},this.compile=function(J,ue){function ve(ce,Ee,nt){ce.transparent===!0&&ce.side===Vs?(ce.side=xi,ce.needsUpdate=!0,Lt(ce,Ee,nt),ce.side=Wa,ce.needsUpdate=!0,Lt(ce,Ee,nt),ce.side=Vs):Lt(ce,Ee,nt)}d=j.get(J),d.init(),g.push(d),J.traverseVisible(function(ce){ce.isLight&&ce.layers.test(ue.layers)&&(d.pushLight(ce),ce.castShadow&&d.pushShadow(ce))}),d.setupLights(v.physicallyCorrectLights),J.traverse(function(ce){const Ee=ce.material;if(Ee)if(Array.isArray(Ee))for(let nt=0;nt<Ee.length;nt++){const lt=Ee[nt];ve(lt,J,ce)}else ve(Ee,J,ce)}),g.pop(),d=null};let me=null;function ke(J){me&&me(J)}function Xe(){xt.stop()}function tt(){xt.start()}const xt=new SN;xt.setAnimationLoop(ke),typeof self<"u"&&xt.setContext(self),this.setAnimationLoop=function(J){me=J,ze.setAnimationLoop(J),J===null?xt.stop():xt.start()},ze.addEventListener("sessionstart",Xe),ze.addEventListener("sessionend",tt),this.render=function(J,ue){if(ue!==void 0&&ue.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;J.matrixWorldAutoUpdate===!0&&J.updateMatrixWorld(),ue.parent===null&&ue.matrixWorldAutoUpdate===!0&&ue.updateMatrixWorld(),ze.enabled===!0&&ze.isPresenting===!0&&(ze.cameraAutoUpdate===!0&&ze.updateCamera(ue),ue=ze.getCamera()),J.isScene===!0&&J.onBeforeRender(v,J,ue,w),d=j.get(J,g.length),d.init(),g.push(d),G.multiplyMatrices(ue.projectionMatrix,ue.matrixWorldInverse),Y.setFromProjectionMatrix(G),U=this.localClippingEnabled,z=O.init(this.clippingPlanes,U,ue),f=xe.get(J,p.length),f.init(),p.push(f),zt(J,ue,0,v.sortObjects),f.finish(),v.sortObjects===!0&&f.sort(F,N),z===!0&&O.beginShadows();const ve=d.state.shadowsArray;if(Z.render(ve,J,ue),z===!0&&O.endShadows(),this.info.autoReset===!0&&this.info.reset(),fe.render(f,J),d.setupLights(v.physicallyCorrectLights),ue.isArrayCamera){const ce=ue.cameras;for(let Ee=0,nt=ce.length;Ee<nt;Ee++){const lt=ce[Ee];$t(f,J,lt,lt.viewport)}}else $t(f,J,ue);w!==null&&(le.updateMultisampleRenderTarget(w),le.updateRenderTargetMipmap(w)),J.isScene===!0&&J.onAfterRender(v,J,ue),ge.resetDefaultState(),A=-1,M=null,g.pop(),g.length>0?d=g[g.length-1]:d=null,p.pop(),p.length>0?f=p[p.length-1]:f=null};function zt(J,ue,ve,ce){if(J.visible===!1)return;if(J.layers.test(ue.layers)){if(J.isGroup)ve=J.renderOrder;else if(J.isLOD)J.autoUpdate===!0&&J.update(ue);else if(J.isLight)d.pushLight(J),J.castShadow&&d.pushShadow(J);else if(J.isSprite){if(!J.frustumCulled||Y.intersectsSprite(J)){ce&&te.setFromMatrixPosition(J.matrixWorld).applyMatrix4(G);const lt=we.update(J),wt=J.material;wt.visible&&f.push(J,lt,wt,ve,te.z,null)}}else if((J.isMesh||J.isLine||J.isPoints)&&(J.isSkinnedMesh&&J.skeleton.frame!==Se.render.frame&&(J.skeleton.update(),J.skeleton.frame=Se.render.frame),!J.frustumCulled||Y.intersectsObject(J))){ce&&te.setFromMatrixPosition(J.matrixWorld).applyMatrix4(G);const lt=we.update(J),wt=J.material;if(Array.isArray(wt)){const mt=lt.groups;for(let Rt=0,St=mt.length;Rt<St;Rt++){const kt=mt[Rt],nn=wt[kt.materialIndex];nn&&nn.visible&&f.push(J,lt,nn,ve,te.z,kt)}}else wt.visible&&f.push(J,lt,wt,ve,te.z,null)}}const nt=J.children;for(let lt=0,wt=nt.length;lt<wt;lt++)zt(nt[lt],ue,ve,ce)}function $t(J,ue,ve,ce){const Ee=J.opaque,nt=J.transmissive,lt=J.transparent;d.setupLightsView(ve),nt.length>0&&Vt(Ee,ue,ve),ce&&ye.viewport(E.copy(ce)),Ee.length>0&&Wt(Ee,ue,ve),nt.length>0&&Wt(nt,ue,ve),lt.length>0&&Wt(lt,ue,ve),ye.buffers.depth.setTest(!0),ye.buffers.depth.setMask(!0),ye.buffers.color.setMask(!0),ye.setPolygonOffset(!1)}function Vt(J,ue,ve){const ce=Te.isWebGL2;V===null&&(V=new Qs(1,1,{generateMipmaps:!0,type:de.has("EXT_color_buffer_half_float")?lh:ja,minFilter:el,samples:ce&&s===!0?4:0})),v.getDrawingBufferSize(X),ce?V.setSize(X.x,X.y):V.setSize(N1(X.x),N1(X.y));const Ee=v.getRenderTarget();v.setRenderTarget(V),v.clear();const nt=v.toneMapping;v.toneMapping=_o,Wt(J,ue,ve),v.toneMapping=nt,le.updateMultisampleRenderTarget(V),le.updateRenderTargetMipmap(V),v.setRenderTarget(Ee)}function Wt(J,ue,ve){const ce=ue.isScene===!0?ue.overrideMaterial:null;for(let Ee=0,nt=J.length;Ee<nt;Ee++){const lt=J[Ee],wt=lt.object,mt=lt.geometry,Rt=ce===null?lt.material:ce,St=lt.group;wt.layers.test(ve.layers)&&Gt(wt,ue,ve,mt,Rt,St)}}function Gt(J,ue,ve,ce,Ee,nt){J.onBeforeRender(v,ue,ve,ce,Ee,nt),J.modelViewMatrix.multiplyMatrices(ve.matrixWorldInverse,J.matrixWorld),J.normalMatrix.getNormalMatrix(J.modelViewMatrix),Ee.onBeforeRender(v,ue,ve,ce,J,nt),Ee.transparent===!0&&Ee.side===Vs?(Ee.side=xi,Ee.needsUpdate=!0,v.renderBufferDirect(ve,ue,ce,Ee,J,nt),Ee.side=Wa,Ee.needsUpdate=!0,v.renderBufferDirect(ve,ue,ce,Ee,J,nt),Ee.side=Vs):v.renderBufferDirect(ve,ue,ce,Ee,J,nt),J.onAfterRender(v,ue,ve,ce,Ee,nt)}function Lt(J,ue,ve){ue.isScene!==!0&&(ue=re);const ce=ne.get(J),Ee=d.state.lights,nt=d.state.shadowsArray,lt=Ee.state.version,wt=Le.getParameters(J,Ee.state,nt,ue,ve),mt=Le.getProgramCacheKey(wt);let Rt=ce.programs;ce.environment=J.isMeshStandardMaterial?ue.environment:null,ce.fog=ue.fog,ce.envMap=(J.isMeshStandardMaterial?Pe:Me).get(J.envMap||ce.environment),Rt===void 0&&(J.addEventListener("dispose",st),Rt=new Map,ce.programs=Rt);let St=Rt.get(mt);if(St!==void 0){if(ce.currentProgram===St&&ce.lightsStateVersion===lt)return Nr(J,wt),St}else wt.uniforms=Le.getUniforms(J),J.onBuild(ve,wt,v),J.onBeforeCompile(wt,v),St=Le.acquireProgram(wt,mt),Rt.set(mt,St),ce.uniforms=wt.uniforms;const kt=ce.uniforms;(!J.isShaderMaterial&&!J.isRawShaderMaterial||J.clipping===!0)&&(kt.clippingPlanes=O.uniform),Nr(J,wt),ce.needsLights=Sn(J),ce.lightsStateVersion=lt,ce.needsLights&&(kt.ambientLightColor.value=Ee.state.ambient,kt.lightProbe.value=Ee.state.probe,kt.directionalLights.value=Ee.state.directional,kt.directionalLightShadows.value=Ee.state.directionalShadow,kt.spotLights.value=Ee.state.spot,kt.spotLightShadows.value=Ee.state.spotShadow,kt.rectAreaLights.value=Ee.state.rectArea,kt.ltc_1.value=Ee.state.rectAreaLTC1,kt.ltc_2.value=Ee.state.rectAreaLTC2,kt.pointLights.value=Ee.state.point,kt.pointLightShadows.value=Ee.state.pointShadow,kt.hemisphereLights.value=Ee.state.hemi,kt.directionalShadowMap.value=Ee.state.directionalShadowMap,kt.directionalShadowMatrix.value=Ee.state.directionalShadowMatrix,kt.spotShadowMap.value=Ee.state.spotShadowMap,kt.spotLightMatrix.value=Ee.state.spotLightMatrix,kt.spotLightMap.value=Ee.state.spotLightMap,kt.pointShadowMap.value=Ee.state.pointShadowMap,kt.pointShadowMatrix.value=Ee.state.pointShadowMatrix);const nn=St.getUniforms(),Ai=Zy.seqWithValue(nn.seq,kt);return ce.currentProgram=St,ce.uniformsList=Ai,St}function Nr(J,ue){const ve=ne.get(J);ve.outputEncoding=ue.outputEncoding,ve.instancing=ue.instancing,ve.skinning=ue.skinning,ve.morphTargets=ue.morphTargets,ve.morphNormals=ue.morphNormals,ve.morphColors=ue.morphColors,ve.morphTargetsCount=ue.morphTargetsCount,ve.numClippingPlanes=ue.numClippingPlanes,ve.numIntersection=ue.numClipIntersection,ve.vertexAlphas=ue.vertexAlphas,ve.vertexTangents=ue.vertexTangents,ve.toneMapping=ue.toneMapping}function Er(J,ue,ve,ce,Ee){ue.isScene!==!0&&(ue=re),le.resetTextureUnits();const nt=ue.fog,lt=ce.isMeshStandardMaterial?ue.environment:null,wt=w===null?v.outputEncoding:w.isXRRenderTarget===!0?w.texture.encoding:dc,mt=(ce.isMeshStandardMaterial?Pe:Me).get(ce.envMap||lt),Rt=ce.vertexColors===!0&&!!ve.attributes.color&&ve.attributes.color.itemSize===4,St=!!ce.normalMap&&!!ve.attributes.tangent,kt=!!ve.morphAttributes.position,nn=!!ve.morphAttributes.normal,Ai=!!ve.morphAttributes.color,vs=ce.toneMapped?v.toneMapping:_o,ys=ve.morphAttributes.position||ve.morphAttributes.normal||ve.morphAttributes.color,Qe=ys!==void 0?ys.length:0,At=ne.get(ce),_s=d.state.lights;if(z===!0&&(U===!0||J!==M)){const Ht=J===M&&ce.id===A;O.setState(ce,J,Ht)}let Zt=!1;ce.version===At.__version?(At.needsLights&&At.lightsStateVersion!==_s.state.version||At.outputEncoding!==wt||Ee.isInstancedMesh&&At.instancing===!1||!Ee.isInstancedMesh&&At.instancing===!0||Ee.isSkinnedMesh&&At.skinning===!1||!Ee.isSkinnedMesh&&At.skinning===!0||At.envMap!==mt||ce.fog===!0&&At.fog!==nt||At.numClippingPlanes!==void 0&&(At.numClippingPlanes!==O.numPlanes||At.numIntersection!==O.numIntersection)||At.vertexAlphas!==Rt||At.vertexTangents!==St||At.morphTargets!==kt||At.morphNormals!==nn||At.morphColors!==Ai||At.toneMapping!==vs||Te.isWebGL2===!0&&At.morphTargetsCount!==Qe)&&(Zt=!0):(Zt=!0,At.__version=ce.version);let Tr=At.currentProgram;Zt===!0&&(Tr=Lt(ce,ue,Ee));let Ur=!1,Pr=!1,Rr=!1;const gt=Tr.getUniforms(),Et=At.uniforms;if(ye.useProgram(Tr.program)&&(Ur=!0,Pr=!0,Rr=!0),ce.id!==A&&(A=ce.id,Pr=!0),Ur||M!==J){if(gt.setValue(q,"projectionMatrix",J.projectionMatrix),Te.logarithmicDepthBuffer&&gt.setValue(q,"logDepthBufFC",2/(Math.log(J.far+1)/Math.LN2)),M!==J&&(M=J,Pr=!0,Rr=!0),ce.isShaderMaterial||ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshStandardMaterial||ce.envMap){const Ht=gt.map.cameraPosition;Ht!==void 0&&Ht.setValue(q,te.setFromMatrixPosition(J.matrixWorld))}(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial)&&gt.setValue(q,"isOrthographic",J.isOrthographicCamera===!0),(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial||ce.isShadowMaterial||Ee.isSkinnedMesh)&&gt.setValue(q,"viewMatrix",J.matrixWorldInverse)}if(Ee.isSkinnedMesh){gt.setOptional(q,Ee,"bindMatrix"),gt.setOptional(q,Ee,"bindMatrixInverse");const Ht=Ee.skeleton;Ht&&(Te.floatVertexTextures?(Ht.boneTexture===null&&Ht.computeBoneTexture(),gt.setValue(q,"boneTexture",Ht.boneTexture,le),gt.setValue(q,"boneTextureSize",Ht.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const si=ve.morphAttributes;if((si.position!==void 0||si.normal!==void 0||si.color!==void 0&&Te.isWebGL2===!0)&&Ce.update(Ee,ve,ce,Tr),(Pr||At.receiveShadow!==Ee.receiveShadow)&&(At.receiveShadow=Ee.receiveShadow,gt.setValue(q,"receiveShadow",Ee.receiveShadow)),ce.isMeshGouraudMaterial&&ce.envMap!==null&&(Et.envMap.value=mt,Et.flipEnvMap.value=mt.isCubeTexture&&mt.isRenderTargetTexture===!1?-1:1),Pr&&(gt.setValue(q,"toneMappingExposure",v.toneMappingExposure),At.needsLights&&Xt(Et,Rr),nt&&ce.fog===!0&&Oe.refreshFogUniforms(Et,nt),Oe.refreshMaterialUniforms(Et,ce,L,D,V),Zy.upload(q,At.uniformsList,Et,le)),ce.isShaderMaterial&&ce.uniformsNeedUpdate===!0&&(Zy.upload(q,At.uniformsList,Et,le),ce.uniformsNeedUpdate=!1),ce.isSpriteMaterial&&gt.setValue(q,"center",Ee.center),gt.setValue(q,"modelViewMatrix",Ee.modelViewMatrix),gt.setValue(q,"normalMatrix",Ee.normalMatrix),gt.setValue(q,"modelMatrix",Ee.matrixWorld),ce.isShaderMaterial||ce.isRawShaderMaterial){const Ht=ce.uniformsGroups;for(let Vn=0,oi=Ht.length;Vn<oi;Vn++)if(Te.isWebGL2){const ji=Ht[Vn];We.update(ji,Tr),We.bind(ji,Tr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Tr}function Xt(J,ue){J.ambientLightColor.needsUpdate=ue,J.lightProbe.needsUpdate=ue,J.directionalLights.needsUpdate=ue,J.directionalLightShadows.needsUpdate=ue,J.pointLights.needsUpdate=ue,J.pointLightShadows.needsUpdate=ue,J.spotLights.needsUpdate=ue,J.spotLightShadows.needsUpdate=ue,J.rectAreaLights.needsUpdate=ue,J.hemisphereLights.needsUpdate=ue}function Sn(J){return J.isMeshLambertMaterial||J.isMeshToonMaterial||J.isMeshPhongMaterial||J.isMeshStandardMaterial||J.isShadowMaterial||J.isShaderMaterial&&J.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(J,ue,ve){ne.get(J.texture).__webglTexture=ue,ne.get(J.depthTexture).__webglTexture=ve;const ce=ne.get(J);ce.__hasExternalTextures=!0,ce.__hasExternalTextures&&(ce.__autoAllocateDepthBuffer=ve===void 0,ce.__autoAllocateDepthBuffer||de.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ce.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(J,ue){const ve=ne.get(J);ve.__webglFramebuffer=ue,ve.__useDefaultFramebuffer=ue===void 0},this.setRenderTarget=function(J,ue=0,ve=0){w=J,x=ue,_=ve;let ce=!0,Ee=null,nt=!1,lt=!1;if(J){const mt=ne.get(J);mt.__useDefaultFramebuffer!==void 0?(ye.bindFramebuffer(36160,null),ce=!1):mt.__webglFramebuffer===void 0?le.setupRenderTarget(J):mt.__hasExternalTextures&&le.rebindTextures(J,ne.get(J.texture).__webglTexture,ne.get(J.depthTexture).__webglTexture);const Rt=J.texture;(Rt.isData3DTexture||Rt.isDataArrayTexture||Rt.isCompressedArrayTexture)&&(lt=!0);const St=ne.get(J).__webglFramebuffer;J.isWebGLCubeRenderTarget?(Ee=St[ue],nt=!0):Te.isWebGL2&&J.samples>0&&le.useMultisampledRTT(J)===!1?Ee=ne.get(J).__webglMultisampledFramebuffer:Ee=St,E.copy(J.viewport),R.copy(J.scissor),C=J.scissorTest}else E.copy(k).multiplyScalar(L).floor(),R.copy(H).multiplyScalar(L).floor(),C=W;if(ye.bindFramebuffer(36160,Ee)&&Te.drawBuffers&&ce&&ye.drawBuffers(J,Ee),ye.viewport(E),ye.scissor(R),ye.setScissorTest(C),nt){const mt=ne.get(J.texture);q.framebufferTexture2D(36160,36064,34069+ue,mt.__webglTexture,ve)}else if(lt){const mt=ne.get(J.texture),Rt=ue||0;q.framebufferTextureLayer(36160,36064,mt.__webglTexture,ve||0,Rt)}A=-1},this.readRenderTargetPixels=function(J,ue,ve,ce,Ee,nt,lt){if(!(J&&J.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let wt=ne.get(J).__webglFramebuffer;if(J.isWebGLCubeRenderTarget&&lt!==void 0&&(wt=wt[lt]),wt){ye.bindFramebuffer(36160,wt);try{const mt=J.texture,Rt=mt.format,St=mt.type;if(Rt!==Di&&Be.convert(Rt)!==q.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const kt=St===lh&&(de.has("EXT_color_buffer_half_float")||Te.isWebGL2&&de.has("EXT_color_buffer_float"));if(St!==ja&&Be.convert(St)!==q.getParameter(35738)&&!(St===Ba&&(Te.isWebGL2||de.has("OES_texture_float")||de.has("WEBGL_color_buffer_float")))&&!kt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ue>=0&&ue<=J.width-ce&&ve>=0&&ve<=J.height-Ee&&q.readPixels(ue,ve,ce,Ee,Be.convert(Rt),Be.convert(St),nt)}finally{const mt=w!==null?ne.get(w).__webglFramebuffer:null;ye.bindFramebuffer(36160,mt)}}},this.copyFramebufferToTexture=function(J,ue,ve=0){const ce=Math.pow(2,-ve),Ee=Math.floor(ue.image.width*ce),nt=Math.floor(ue.image.height*ce);le.setTexture2D(ue,0),q.copyTexSubImage2D(3553,ve,0,0,J.x,J.y,Ee,nt),ye.unbindTexture()},this.copyTextureToTexture=function(J,ue,ve,ce=0){const Ee=ue.image.width,nt=ue.image.height,lt=Be.convert(ve.format),wt=Be.convert(ve.type);le.setTexture2D(ve,0),q.pixelStorei(37440,ve.flipY),q.pixelStorei(37441,ve.premultiplyAlpha),q.pixelStorei(3317,ve.unpackAlignment),ue.isDataTexture?q.texSubImage2D(3553,ce,J.x,J.y,Ee,nt,lt,wt,ue.image.data):ue.isCompressedTexture?q.compressedTexSubImage2D(3553,ce,J.x,J.y,ue.mipmaps[0].width,ue.mipmaps[0].height,lt,ue.mipmaps[0].data):q.texSubImage2D(3553,ce,J.x,J.y,lt,wt,ue.image),ce===0&&ve.generateMipmaps&&q.generateMipmap(3553),ye.unbindTexture()},this.copyTextureToTexture3D=function(J,ue,ve,ce,Ee=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const nt=J.max.x-J.min.x+1,lt=J.max.y-J.min.y+1,wt=J.max.z-J.min.z+1,mt=Be.convert(ce.format),Rt=Be.convert(ce.type);let St;if(ce.isData3DTexture)le.setTexture3D(ce,0),St=32879;else if(ce.isDataArrayTexture)le.setTexture2DArray(ce,0),St=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}q.pixelStorei(37440,ce.flipY),q.pixelStorei(37441,ce.premultiplyAlpha),q.pixelStorei(3317,ce.unpackAlignment);const kt=q.getParameter(3314),nn=q.getParameter(32878),Ai=q.getParameter(3316),vs=q.getParameter(3315),ys=q.getParameter(32877),Qe=ve.isCompressedTexture?ve.mipmaps[0]:ve.image;q.pixelStorei(3314,Qe.width),q.pixelStorei(32878,Qe.height),q.pixelStorei(3316,J.min.x),q.pixelStorei(3315,J.min.y),q.pixelStorei(32877,J.min.z),ve.isDataTexture||ve.isData3DTexture?q.texSubImage3D(St,Ee,ue.x,ue.y,ue.z,nt,lt,wt,mt,Rt,Qe.data):ve.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),q.compressedTexSubImage3D(St,Ee,ue.x,ue.y,ue.z,nt,lt,wt,mt,Qe.data)):q.texSubImage3D(St,Ee,ue.x,ue.y,ue.z,nt,lt,wt,mt,Rt,Qe),q.pixelStorei(3314,kt),q.pixelStorei(32878,nn),q.pixelStorei(3316,Ai),q.pixelStorei(3315,vs),q.pixelStorei(32877,ys),Ee===0&&ce.generateMipmaps&&q.generateMipmap(St),ye.unbindTexture()},this.initTexture=function(J){J.isCubeTexture?le.setTextureCube(J,0):J.isData3DTexture?le.setTexture3D(J,0):J.isDataArrayTexture||J.isCompressedArrayTexture?le.setTexture2DArray(J,0):le.setTexture2D(J,0),ye.unbindTexture()},this.resetState=function(){x=0,_=0,w=null,ye.reset(),ge.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class RN extends LE{}RN.prototype.isWebGL1Renderer=!0;class Y_{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new He(e),this.density=t}clone(){return new Y_(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Q_{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new He(e),this.near=t,this.far=r}clone(){return new Q_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class U1 extends It{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Fg{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=qm,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=as()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=as()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=as()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const fi=new $;class hc{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)fi.fromBufferAttribute(this,t),fi.applyMatrix4(e),this.setXYZ(t,fi.x,fi.y,fi.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)fi.fromBufferAttribute(this,t),fi.applyNormalMatrix(e),this.setXYZ(t,fi.x,fi.y,fi.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)fi.fromBufferAttribute(this,t),fi.transformDirection(e),this.setXYZ(t,fi.x,fi.y,fi.z);return this}setX(e,t){return this.normalized&&(t=an(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=an(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=an(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=an(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ia(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ia(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ia(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ia(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=an(t,this.array),r=an(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=an(t,this.array),r=an(r,this.array),i=an(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=an(t,this.array),r=an(r,this.array),i=an(i,this.array),s=an(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Yt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new hc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class kE extends or{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new He(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Qf;const Mp=new $,Zf=new $,qf=new $,ed=new De,Cp=new De,DN=new Ze,zv=new $,Ep=new $,Gv=new $,HR=new De,yS=new De,VR=new De;class BN extends It{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Qf===void 0){Qf=new pt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Fg(t,5);Qf.setIndex([0,1,2,0,2,3]),Qf.setAttribute("position",new hc(r,3,0,!1)),Qf.setAttribute("uv",new hc(r,2,3,!1))}this.geometry=Qf,this.material=e!==void 0?e:new kE,this.center=new De(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Zf.setFromMatrixScale(this.matrixWorld),DN.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),qf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Zf.multiplyScalar(-qf.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;Hv(zv.set(-.5,-.5,0),qf,o,Zf,i,s),Hv(Ep.set(.5,-.5,0),qf,o,Zf,i,s),Hv(Gv.set(.5,.5,0),qf,o,Zf,i,s),HR.set(0,0),yS.set(1,0),VR.set(1,1);let a=e.ray.intersectTriangle(zv,Ep,Gv,!1,Mp);if(a===null&&(Hv(Ep.set(-.5,.5,0),qf,o,Zf,i,s),yS.set(0,1),a=e.ray.intersectTriangle(zv,Gv,Ep,!1,Mp),a===null))return;const l=e.ray.origin.distanceTo(Mp);l<e.near||l>e.far||t.push({distance:l,point:Mp.clone(),uv:zs.getUV(Mp,zv,Ep,Gv,HR,yS,VR,new De),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Hv(n,e,t,r,i,s){ed.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Cp.x=s*ed.x-i*ed.y,Cp.y=i*ed.x+s*ed.y):Cp.copy(ed),n.copy(e),n.x+=Cp.x,n.y+=Cp.y,n.applyMatrix4(DN)}const Vv=new $,WR=new $;class IN extends It{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Vv.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Vv);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Vv.setFromMatrixPosition(e.matrixWorld),WR.setFromMatrixPosition(this.matrixWorld);const r=Vv.distanceTo(WR)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}const jR=new $,$R=new Pt,XR=new Pt,BJ=new $,JR=new Ze;class Z_ extends Un{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ze,this.bindMatrixInverse=new Ze}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Pt,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;$R.fromBufferAttribute(i.attributes.skinIndex,e),XR.fromBufferAttribute(i.attributes.skinWeight,e),jR.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=XR.getComponent(s);if(o!==0){const a=$R.getComponent(s);JR.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(BJ.copy(jR).applyMatrix4(JR),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class fh extends It{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Wd extends mn{constructor(e=null,t=1,r=1,i,s,o,a,l,c=Qn,u=Qn,f,d){super(null,o,a,l,c,u,i,s,f,d),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const KR=new Ze,IJ=new Ze;class Th{constructor(e=[],t=[]){this.uuid=as(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Ze)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Ze;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:IJ;KR.multiplyMatrices(a,t[s]),KR.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Th(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=vN(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Wd(t,e,e,Di,Ba);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new fh),this.bones.push(o),this.boneInverses.push(new Ze().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Yu extends Yt{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const YR=new Ze,QR=new Ze,Wv=[],LJ=new Ze,Tp=new Un;class OE extends Un{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Yu(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,LJ)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Tp.geometry=this.geometry,Tp.material=this.material,Tp.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,YR),QR.multiplyMatrices(r,YR),Tp.matrixWorld=QR,Tp.raycast(e,Wv);for(let o=0,a=Wv.length;o<a;o++){const l=Wv[o];l.instanceId=s,l.object=this,t.push(l)}Wv.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Yu(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Fr extends or{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new He(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const ZR=new $,qR=new $,eD=new Ze,_S=new Lg,jv=new rl;class ea extends It{constructor(e=new pt,t=new Fr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)ZR.fromBufferAttribute(t,i-1),qR.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=ZR.distanceTo(qR);e.setAttribute("lineDistance",new qe(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),jv.copy(r.boundingSphere),jv.applyMatrix4(i),jv.radius+=s,e.ray.intersectsSphere(jv)===!1)return;eD.copy(i).invert(),_S.copy(e.ray).applyMatrix4(eD);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new $,u=new $,f=new $,d=new $,p=this.isLineSegments?2:1,g=r.index,y=r.attributes.position;if(g!==null){const x=Math.max(0,o.start),_=Math.min(g.count,o.start+o.count);for(let w=x,A=_-1;w<A;w+=p){const M=g.getX(w),E=g.getX(w+1);if(c.fromBufferAttribute(y,M),u.fromBufferAttribute(y,E),_S.distanceSqToSegment(c,u,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(d);C<e.near||C>e.far||t.push({distance:C,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,o.start),_=Math.min(y.count,o.start+o.count);for(let w=x,A=_-1;w<A;w+=p){if(c.fromBufferAttribute(y,w),u.fromBufferAttribute(y,w+1),_S.distanceSqToSegment(c,u,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(d);E<e.near||E>e.far||t.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const tD=new $,nD=new $;class Co extends ea{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)tD.fromBufferAttribute(t,i),nD.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+tD.distanceTo(nD);e.setAttribute("lineDistance",new qe(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class FE extends ea{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class q_ extends or{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new He(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const rD=new Ze,oM=new Lg,$v=new rl,Xv=new $;class NE extends It{constructor(e=new pt,t=new q_){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),$v.copy(r.boundingSphere),$v.applyMatrix4(i),$v.radius+=s,e.ray.intersectsSphere($v)===!1)return;rD.copy(i).invert(),oM.copy(e.ray).applyMatrix4(rD);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,f=r.attributes.position;if(c!==null){const d=Math.max(0,o.start),p=Math.min(c.count,o.start+o.count);for(let g=d,v=p;g<v;g++){const y=c.getX(g);Xv.fromBufferAttribute(f,y),iD(Xv,y,l,i,e,t,this)}}else{const d=Math.max(0,o.start),p=Math.min(f.count,o.start+o.count);for(let g=d,v=p;g<v;g++)Xv.fromBufferAttribute(f,g),iD(Xv,g,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function iD(n,e,t,r,i,s,o){const a=oM.distanceSqToPoint(n);if(a<t){const l=new $;oM.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class LN extends mn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:dn,this.magFilter=s!==void 0?s:dn,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class kJ extends mn{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=Qn,this.minFilter=Qn,this.generateMipmaps=!1,this.needsUpdate=!0}}class UE extends mn{constructor(e,t,r,i,s,o,a,l,c,u,f,d){super(null,o,a,l,c,u,i,s,f,d),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class OJ extends UE{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=hr}}class FJ extends mn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class eo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],d=r[i+1]-u,p=(o-u)/d;return(i+p)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new De:new $);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new $,i=[],s=[],o=[],a=new $,l=new Ze;for(let p=0;p<=e;p++){const g=p/e;i[p]=this.getTangentAt(g,new $)}s[0]=new $,o[0]=new $;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),d<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let p=1;p<=e;p++){if(s[p]=s[p-1].clone(),o[p]=o[p-1].clone(),a.crossVectors(i[p-1],i[p]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(Zn(i[p-1].dot(i[p]),-1,1));s[p].applyMatrix4(l.makeRotationAxis(a,g))}o[p].crossVectors(i[p],s[p])}if(t===!0){let p=Math.acos(Zn(s[0].dot(s[e]),-1,1));p/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(p=-p);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],p*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class ex extends eo{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new De,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,p=c-this.aY;l=d*u-p*f+this.aX,c=d*f+p*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class kN extends ex{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function zE(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let d=(o-s)/c-(a-s)/(c+u)+(a-o)/u,p=(a-o)/u-(l-o)/(u+f)+(l-a)/f;d*=u,p*=u,i(o,a,d,p)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const Jv=new $,xS=new zE,wS=new zE,SS=new zE;class ON extends eo{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new $){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(Jv.subVectors(i[0],i[1]).add(i[0]),c=Jv);const f=i[a%s],d=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(Jv.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=Jv),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(f),p),v=Math.pow(f.distanceToSquared(d),p),y=Math.pow(d.distanceToSquared(u),p);v<1e-4&&(v=1),g<1e-4&&(g=v),y<1e-4&&(y=v),xS.initNonuniformCatmullRom(c.x,f.x,d.x,u.x,g,v,y),wS.initNonuniformCatmullRom(c.y,f.y,d.y,u.y,g,v,y),SS.initNonuniformCatmullRom(c.z,f.z,d.z,u.z,g,v,y)}else this.curveType==="catmullrom"&&(xS.initCatmullRom(c.x,f.x,d.x,u.x,this.tension),wS.initCatmullRom(c.y,f.y,d.y,u.y,this.tension),SS.initCatmullRom(c.z,f.z,d.z,u.z,this.tension));return r.set(xS.calc(l),wS.calc(l),SS.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new $().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function sD(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function NJ(n,e){const t=1-n;return t*t*e}function UJ(n,e){return 2*(1-n)*n*e}function zJ(n,e){return n*n*e}function dm(n,e,t,r){return NJ(n,e)+UJ(n,t)+zJ(n,r)}function GJ(n,e){const t=1-n;return t*t*t*e}function HJ(n,e){const t=1-n;return 3*t*t*n*e}function VJ(n,e){return 3*(1-n)*n*n*e}function WJ(n,e){return n*n*n*e}function hm(n,e,t,r,i){return GJ(n,e)+HJ(n,t)+VJ(n,r)+WJ(n,i)}class GE extends eo{constructor(e=new De,t=new De,r=new De,i=new De){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new De){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(hm(e,i.x,s.x,o.x,a.x),hm(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class FN extends eo{constructor(e=new $,t=new $,r=new $,i=new $){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new $){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(hm(e,i.x,s.x,o.x,a.x),hm(e,i.y,s.y,o.y,a.y),hm(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class tx extends eo{constructor(e=new De,t=new De){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new De){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new De;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NN extends eo{constructor(e=new $,t=new $){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new $){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class HE extends eo{constructor(e=new De,t=new De,r=new De){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new De){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(dm(e,i.x,s.x,o.x),dm(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class VE extends eo{constructor(e=new $,t=new $,r=new $){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new $){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(dm(e,i.x,s.x,o.x),dm(e,i.y,s.y,o.y),dm(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class WE extends eo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new De){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(sD(a,l.x,c.x,u.x,f.x),sD(a,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new De().fromArray(i))}return this}}var jE=Object.freeze({__proto__:null,ArcCurve:kN,CatmullRomCurve3:ON,CubicBezierCurve:GE,CubicBezierCurve3:FN,EllipseCurve:ex,LineCurve:tx,LineCurve3:NN,QuadraticBezierCurve:HE,QuadraticBezierCurve3:VE,SplineCurve:WE});class UN extends eo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new tx(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new jE[i.type]().fromJSON(i))}return this}}class ng extends UN{constructor(e){super(),this.type="Path",this.currentPoint=new De,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new tx(this.currentPoint.clone(),new De(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new HE(this.currentPoint.clone(),new De(e,t),new De(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new GE(this.currentPoint.clone(),new De(e,t),new De(r,i),new De(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new WE(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new ex(e,t,r,i,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Ph extends pt{constructor(e=[new De(0,-.5),new De(.5,0),new De(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Zn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,f=new $,d=new De,p=new $,g=new $,v=new $;let y=0,x=0;for(let _=0;_<=e.length-1;_++)switch(_){case 0:y=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,p.x=x*1,p.y=-y,p.z=x*0,v.copy(p),p.normalize(),l.push(p.x,p.y,p.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:y=e[_+1].x-e[_].x,x=e[_+1].y-e[_].y,p.x=x*1,p.y=-y,p.z=x*0,g.copy(p),p.x+=v.x,p.y+=v.y,p.z+=v.z,p.normalize(),l.push(p.x,p.y,p.z),v.copy(g)}for(let _=0;_<=t;_++){const w=r+_*u*i,A=Math.sin(w),M=Math.cos(w);for(let E=0;E<=e.length-1;E++){f.x=e[E].x*A,f.y=e[E].y,f.z=e[E].x*M,o.push(f.x,f.y,f.z),d.x=_/t,d.y=E/(e.length-1),a.push(d.x,d.y);const R=l[3*E+0]*A,C=l[3*E+1],T=l[3*E+0]*M;c.push(R,C,T)}}for(let _=0;_<t;_++)for(let w=0;w<e.length-1;w++){const A=w+_*e.length,M=A,E=A+e.length,R=A+e.length+1,C=A+1;s.push(M,E,C),s.push(R,C,E)}this.setIndex(s),this.setAttribute("position",new qe(o,3)),this.setAttribute("uv",new qe(a,2)),this.setAttribute("normal",new qe(c,3))}static fromJSON(e){return new Ph(e.points,e.segments,e.phiStart,e.phiLength)}}class Ng extends Ph{constructor(e=1,t=1,r=4,i=8){const s=new ng;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new Ng(e.radius,e.length,e.capSegments,e.radialSegments)}}class Ug extends pt{constructor(e=1,t=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new $,u=new De;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=t;f++,d+=3){const p=r+f/t*i;c.x=e*Math.cos(p),c.y=e*Math.sin(p),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[d]/e+1)/2,u.y=(o[d+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new qe(o,3)),this.setAttribute("normal",new qe(a,3)),this.setAttribute("uv",new qe(l,2))}static fromJSON(e){return new Ug(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class uf extends pt{constructor(e=1,t=1,r=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],f=[],d=[],p=[];let g=0;const v=[],y=r/2;let x=0;_(),o===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(u),this.setAttribute("position",new qe(f,3)),this.setAttribute("normal",new qe(d,3)),this.setAttribute("uv",new qe(p,2));function _(){const A=new $,M=new $;let E=0;const R=(t-e)/r;for(let C=0;C<=s;C++){const T=[],D=C/s,L=D*(t-e)+e;for(let F=0;F<=i;F++){const N=F/i,k=N*l+a,H=Math.sin(k),W=Math.cos(k);M.x=L*H,M.y=-D*r+y,M.z=L*W,f.push(M.x,M.y,M.z),A.set(H,R,W).normalize(),d.push(A.x,A.y,A.z),p.push(N,1-D),T.push(g++)}v.push(T)}for(let C=0;C<i;C++)for(let T=0;T<s;T++){const D=v[T][C],L=v[T+1][C],F=v[T+1][C+1],N=v[T][C+1];u.push(D,L,N),u.push(L,F,N),E+=6}c.addGroup(x,E,0),x+=E}function w(A){const M=g,E=new De,R=new $;let C=0;const T=A===!0?e:t,D=A===!0?1:-1;for(let F=1;F<=i;F++)f.push(0,y*D,0),d.push(0,D,0),p.push(.5,.5),g++;const L=g;for(let F=0;F<=i;F++){const k=F/i*l+a,H=Math.cos(k),W=Math.sin(k);R.x=T*W,R.y=y*D,R.z=T*H,f.push(R.x,R.y,R.z),d.push(0,D,0),E.x=H*.5+.5,E.y=W*.5*D+.5,p.push(E.x,E.y),g++}for(let F=0;F<i;F++){const N=M+F,k=L+F;A===!0?u.push(k,k+1,N):u.push(k+1,k,N),C+=3}c.addGroup(x,C,A===!0?1:2),x+=C}}static fromJSON(e){return new uf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class zg extends uf{constructor(e=1,t=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new zg(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class sl extends pt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new qe(s,3)),this.setAttribute("normal",new qe(s.slice(),3)),this.setAttribute("uv",new qe(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(_){const w=new $,A=new $,M=new $;for(let E=0;E<t.length;E+=3)p(t[E+0],w),p(t[E+1],A),p(t[E+2],M),l(w,A,M,_)}function l(_,w,A,M){const E=M+1,R=[];for(let C=0;C<=E;C++){R[C]=[];const T=_.clone().lerp(A,C/E),D=w.clone().lerp(A,C/E),L=E-C;for(let F=0;F<=L;F++)F===0&&C===E?R[C][F]=T:R[C][F]=T.clone().lerp(D,F/L)}for(let C=0;C<E;C++)for(let T=0;T<2*(E-C)-1;T++){const D=Math.floor(T/2);T%2===0?(d(R[C][D+1]),d(R[C+1][D]),d(R[C][D])):(d(R[C][D+1]),d(R[C+1][D+1]),d(R[C+1][D]))}}function c(_){const w=new $;for(let A=0;A<s.length;A+=3)w.x=s[A+0],w.y=s[A+1],w.z=s[A+2],w.normalize().multiplyScalar(_),s[A+0]=w.x,s[A+1]=w.y,s[A+2]=w.z}function u(){const _=new $;for(let w=0;w<s.length;w+=3){_.x=s[w+0],_.y=s[w+1],_.z=s[w+2];const A=y(_)/2/Math.PI+.5,M=x(_)/Math.PI+.5;o.push(A,1-M)}g(),f()}function f(){for(let _=0;_<o.length;_+=6){const w=o[_+0],A=o[_+2],M=o[_+4],E=Math.max(w,A,M),R=Math.min(w,A,M);E>.9&&R<.1&&(w<.2&&(o[_+0]+=1),A<.2&&(o[_+2]+=1),M<.2&&(o[_+4]+=1))}}function d(_){s.push(_.x,_.y,_.z)}function p(_,w){const A=_*3;w.x=e[A+0],w.y=e[A+1],w.z=e[A+2]}function g(){const _=new $,w=new $,A=new $,M=new $,E=new De,R=new De,C=new De;for(let T=0,D=0;T<s.length;T+=9,D+=6){_.set(s[T+0],s[T+1],s[T+2]),w.set(s[T+3],s[T+4],s[T+5]),A.set(s[T+6],s[T+7],s[T+8]),E.set(o[D+0],o[D+1]),R.set(o[D+2],o[D+3]),C.set(o[D+4],o[D+5]),M.copy(_).add(w).add(A).divideScalar(3);const L=y(M);v(E,D+0,_,L),v(R,D+2,w,L),v(C,D+4,A,L)}}function v(_,w,A,M){M<0&&_.x===1&&(o[w]=_.x-1),A.x===0&&A.z===0&&(o[w]=M/2/Math.PI+.5)}function y(_){return Math.atan2(_.z,-_.x)}function x(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}static fromJSON(e){return new sl(e.vertices,e.indices,e.radius,e.details)}}class Gg extends sl{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Gg(e.radius,e.detail)}}const Kv=new $,Yv=new $,AS=new $,Qv=new zs;class zN extends pt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(Du*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),d={},p=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:v,b:y,c:x}=Qv;if(v.fromBufferAttribute(a,c[0]),y.fromBufferAttribute(a,c[1]),x.fromBufferAttribute(a,c[2]),Qv.getNormal(AS),f[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let _=0;_<3;_++){const w=(_+1)%3,A=f[_],M=f[w],E=Qv[u[_]],R=Qv[u[w]],C=`${A}_${M}`,T=`${M}_${A}`;T in d&&d[T]?(AS.dot(d[T].normal)<=s&&(p.push(E.x,E.y,E.z),p.push(R.x,R.y,R.z)),d[T]=null):C in d||(d[C]={index0:c[_],index1:c[w],normal:AS.clone()})}}for(const g in d)if(d[g]){const{index0:v,index1:y}=d[g];Kv.fromBufferAttribute(a,v),Yv.fromBufferAttribute(a,y),p.push(Kv.x,Kv.y,Kv.z),p.push(Yv.x,Yv.y,Yv.z)}this.setAttribute("position",new qe(p,3))}}}class Lu extends ng{constructor(e){super(e),this.uuid=as(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new ng().fromJSON(i))}return this}}const jJ={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=GN(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,d,p;if(r&&(s=YJ(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let g=t;g<i;g+=t)f=n[g],d=n[g+1],f<a&&(a=f),d<l&&(l=d),f>c&&(c=f),d>u&&(u=d);p=Math.max(c-a,u-l),p=p!==0?32767/p:0}return rg(s,o,t,a,l,p,0),o}};function GN(n,e,t,r,i){let s,o;if(i===aK(n,e,t,r)>0)for(s=e;s<t;s+=r)o=oD(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=oD(s,n[s],n[s+1],o);return o&&nx(o,o.next)&&(sg(o),o=o.next),o}function Qu(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(nx(t,t.next)||Tn(t.prev,t,t.next)===0)){if(sg(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function rg(n,e,t,r,i,s,o){if(!n)return;!o&&s&&tK(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?XJ(n,r,i,s):$J(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),sg(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=JJ(Qu(n),e,t),rg(n,e,t,r,i,s,2)):o===2&&KJ(n,e,t,r,i,s):rg(Qu(n),e,t,r,i,s,1);break}}}function $J(n){const e=n.prev,t=n,r=n.next;if(Tn(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,d=i>s?i>o?i:o:s>o?s:o,p=a>l?a>c?a:c:l>c?l:c;let g=r.next;for(;g!==e;){if(g.x>=u&&g.x<=d&&g.y>=f&&g.y<=p&&Td(i,a,s,l,o,c,g.x,g.y)&&Tn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function XJ(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Tn(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,f=s.y,d=o.y,p=a<l?a<c?a:c:l<c?l:c,g=u<f?u<d?u:d:f<d?f:d,v=a>l?a>c?a:c:l>c?l:c,y=u>f?u>d?u:d:f>d?f:d,x=aM(p,g,e,t,r),_=aM(v,y,e,t,r);let w=n.prevZ,A=n.nextZ;for(;w&&w.z>=x&&A&&A.z<=_;){if(w.x>=p&&w.x<=v&&w.y>=g&&w.y<=y&&w!==i&&w!==o&&Td(a,u,l,f,c,d,w.x,w.y)&&Tn(w.prev,w,w.next)>=0||(w=w.prevZ,A.x>=p&&A.x<=v&&A.y>=g&&A.y<=y&&A!==i&&A!==o&&Td(a,u,l,f,c,d,A.x,A.y)&&Tn(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;w&&w.z>=x;){if(w.x>=p&&w.x<=v&&w.y>=g&&w.y<=y&&w!==i&&w!==o&&Td(a,u,l,f,c,d,w.x,w.y)&&Tn(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;A&&A.z<=_;){if(A.x>=p&&A.x<=v&&A.y>=g&&A.y<=y&&A!==i&&A!==o&&Td(a,u,l,f,c,d,A.x,A.y)&&Tn(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function JJ(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!nx(i,s)&&HN(i,r,r.next,s)&&ig(i,s)&&ig(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),sg(r),sg(r.next),r=n=s),r=r.next}while(r!==n);return Qu(r)}function KJ(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&iK(o,a)){let l=VN(o,a);o=Qu(o,o.next),l=Qu(l,l.next),rg(o,e,t,r,i,s,0),rg(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function YJ(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=GN(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(rK(c));for(i.sort(QJ),s=0;s<i.length;s++)t=ZJ(i[s],t);return t}function QJ(n,e){return n.x-e.x}function ZJ(n,e){const t=qJ(n,e);if(!t)return e;const r=VN(t,n);return Qu(r,r.next),Qu(t,t.next)}function qJ(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const d=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=s&&d>r&&(r=d,i=t.x<t.next.x?t:t.next,d===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,f;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&Td(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),ig(t,n)&&(f<u||f===u&&(t.x>i.x||t.x===i.x&&eK(i,t)))&&(i=t,u=f)),t=t.next;while(t!==a);return i}function eK(n,e){return Tn(n.prev,n,e.prev)<0&&Tn(e.next,n,n.next)<0}function tK(n,e,t,r){let i=n;do i.z===0&&(i.z=aM(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,nK(i)}function nK(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function aM(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function rK(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Td(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function iK(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!sK(n,e)&&(ig(n,e)&&ig(e,n)&&oK(n,e)&&(Tn(n.prev,n,e.prev)||Tn(n,e.prev,e))||nx(n,e)&&Tn(n.prev,n,n.next)>0&&Tn(e.prev,e,e.next)>0)}function Tn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function nx(n,e){return n.x===e.x&&n.y===e.y}function HN(n,e,t,r){const i=qv(Tn(n,e,t)),s=qv(Tn(n,e,r)),o=qv(Tn(t,r,n)),a=qv(Tn(t,r,e));return!!(i!==s&&o!==a||i===0&&Zv(n,t,e)||s===0&&Zv(n,r,e)||o===0&&Zv(t,n,r)||a===0&&Zv(t,e,r))}function Zv(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function qv(n){return n>0?1:n<0?-1:0}function sK(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&HN(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function ig(n,e){return Tn(n.prev,n,n.next)<0?Tn(n,e,n.next)>=0&&Tn(n,n.prev,e)>=0:Tn(n,e,n.prev)<0||Tn(n,n.next,e)<0}function oK(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function VN(n,e){const t=new lM(n.i,n.x,n.y),r=new lM(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function oD(n,e,t,r){const i=new lM(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function sg(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function lM(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function aK(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Ko{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Ko.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];aD(e),lD(r,e);let o=e.length;t.forEach(aD);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,lD(r,t[l]);const a=jJ.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function aD(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function lD(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Hg extends pt{constructor(e=new Lu([new De(.5,.5),new De(-.5,.5),new De(-.5,-.5),new De(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new qe(i,3)),this.setAttribute("uv",new qe(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let d=t.bevelEnabled!==void 0?t.bevelEnabled:!0,p=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:p-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,y=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,_=t.UVGenerator!==void 0?t.UVGenerator:lK;let w,A=!1,M,E,R,C;x&&(w=x.getSpacedPoints(u),A=!0,d=!1,M=x.computeFrenetFrames(u,!1),E=new $,R=new $,C=new $),d||(y=0,p=0,g=0,v=0);const T=a.extractPoints(c);let D=T.shape;const L=T.holes;if(!Ko.isClockWise(D)){D=D.reverse();for(let ne=0,le=L.length;ne<le;ne++){const Me=L[ne];Ko.isClockWise(Me)&&(L[ne]=Me.reverse())}}const N=Ko.triangulateShape(D,L),k=D;for(let ne=0,le=L.length;ne<le;ne++){const Me=L[ne];D=D.concat(Me)}function H(ne,le,Me){return le||console.error("THREE.ExtrudeGeometry: vec does not exist"),le.clone().multiplyScalar(Me).add(ne)}const W=D.length,Y=N.length;function z(ne,le,Me){let Pe,Ae,je;const we=ne.x-le.x,Le=ne.y-le.y,Oe=Me.x-ne.x,xe=Me.y-ne.y,j=we*we+Le*Le,O=we*xe-Le*Oe;if(Math.abs(O)>Number.EPSILON){const Z=Math.sqrt(j),fe=Math.sqrt(Oe*Oe+xe*xe),Ce=le.x-Le/Z,Re=le.y+we/Z,Fe=Me.x-xe/fe,Be=Me.y+Oe/fe,ge=((Fe-Ce)*xe-(Be-Re)*Oe)/(we*xe-Le*Oe);Pe=Ce+we*ge-ne.x,Ae=Re+Le*ge-ne.y;const We=Pe*Pe+Ae*Ae;if(We<=2)return new De(Pe,Ae);je=Math.sqrt(We/2)}else{let Z=!1;we>Number.EPSILON?Oe>Number.EPSILON&&(Z=!0):we<-Number.EPSILON?Oe<-Number.EPSILON&&(Z=!0):Math.sign(Le)===Math.sign(xe)&&(Z=!0),Z?(Pe=-Le,Ae=we,je=Math.sqrt(j)):(Pe=we,Ae=Le,je=Math.sqrt(j/2))}return new De(Pe/je,Ae/je)}const U=[];for(let ne=0,le=k.length,Me=le-1,Pe=ne+1;ne<le;ne++,Me++,Pe++)Me===le&&(Me=0),Pe===le&&(Pe=0),U[ne]=z(k[ne],k[Me],k[Pe]);const V=[];let G,X=U.concat();for(let ne=0,le=L.length;ne<le;ne++){const Me=L[ne];G=[];for(let Pe=0,Ae=Me.length,je=Ae-1,we=Pe+1;Pe<Ae;Pe++,je++,we++)je===Ae&&(je=0),we===Ae&&(we=0),G[Pe]=z(Me[Pe],Me[je],Me[we]);V.push(G),X=X.concat(G)}for(let ne=0;ne<y;ne++){const le=ne/y,Me=p*Math.cos(le*Math.PI/2),Pe=g*Math.sin(le*Math.PI/2)+v;for(let Ae=0,je=k.length;Ae<je;Ae++){const we=H(k[Ae],U[Ae],Pe);oe(we.x,we.y,-Me)}for(let Ae=0,je=L.length;Ae<je;Ae++){const we=L[Ae];G=V[Ae];for(let Le=0,Oe=we.length;Le<Oe;Le++){const xe=H(we[Le],G[Le],Pe);oe(xe.x,xe.y,-Me)}}}const te=g+v;for(let ne=0;ne<W;ne++){const le=d?H(D[ne],X[ne],te):D[ne];A?(R.copy(M.normals[0]).multiplyScalar(le.x),E.copy(M.binormals[0]).multiplyScalar(le.y),C.copy(w[0]).add(R).add(E),oe(C.x,C.y,C.z)):oe(le.x,le.y,0)}for(let ne=1;ne<=u;ne++)for(let le=0;le<W;le++){const Me=d?H(D[le],X[le],te):D[le];A?(R.copy(M.normals[ne]).multiplyScalar(Me.x),E.copy(M.binormals[ne]).multiplyScalar(Me.y),C.copy(w[ne]).add(R).add(E),oe(C.x,C.y,C.z)):oe(Me.x,Me.y,f/u*ne)}for(let ne=y-1;ne>=0;ne--){const le=ne/y,Me=p*Math.cos(le*Math.PI/2),Pe=g*Math.sin(le*Math.PI/2)+v;for(let Ae=0,je=k.length;Ae<je;Ae++){const we=H(k[Ae],U[Ae],Pe);oe(we.x,we.y,f+Me)}for(let Ae=0,je=L.length;Ae<je;Ae++){const we=L[Ae];G=V[Ae];for(let Le=0,Oe=we.length;Le<Oe;Le++){const xe=H(we[Le],G[Le],Pe);A?oe(xe.x,xe.y+w[u-1].y,w[u-1].x+Me):oe(xe.x,xe.y,f+Me)}}}re(),se();function re(){const ne=i.length/3;if(d){let le=0,Me=W*le;for(let Pe=0;Pe<Y;Pe++){const Ae=N[Pe];de(Ae[2]+Me,Ae[1]+Me,Ae[0]+Me)}le=u+y*2,Me=W*le;for(let Pe=0;Pe<Y;Pe++){const Ae=N[Pe];de(Ae[0]+Me,Ae[1]+Me,Ae[2]+Me)}}else{for(let le=0;le<Y;le++){const Me=N[le];de(Me[2],Me[1],Me[0])}for(let le=0;le<Y;le++){const Me=N[le];de(Me[0]+W*u,Me[1]+W*u,Me[2]+W*u)}}r.addGroup(ne,i.length/3-ne,0)}function se(){const ne=i.length/3;let le=0;q(k,le),le+=k.length;for(let Me=0,Pe=L.length;Me<Pe;Me++){const Ae=L[Me];q(Ae,le),le+=Ae.length}r.addGroup(ne,i.length/3-ne,1)}function q(ne,le){let Me=ne.length;for(;--Me>=0;){const Pe=Me;let Ae=Me-1;Ae<0&&(Ae=ne.length-1);for(let je=0,we=u+y*2;je<we;je++){const Le=W*je,Oe=W*(je+1),xe=le+Pe+Le,j=le+Ae+Le,O=le+Ae+Oe,Z=le+Pe+Oe;Te(xe,j,O,Z)}}}function oe(ne,le,Me){l.push(ne),l.push(le),l.push(Me)}function de(ne,le,Me){ye(ne),ye(le),ye(Me);const Pe=i.length/3,Ae=_.generateTopUV(r,i,Pe-3,Pe-2,Pe-1);Se(Ae[0]),Se(Ae[1]),Se(Ae[2])}function Te(ne,le,Me,Pe){ye(ne),ye(le),ye(Pe),ye(le),ye(Me),ye(Pe);const Ae=i.length/3,je=_.generateSideWallUV(r,i,Ae-6,Ae-3,Ae-2,Ae-1);Se(je[0]),Se(je[1]),Se(je[3]),Se(je[1]),Se(je[2]),Se(je[3])}function ye(ne){i.push(l[ne*3+0]),i.push(l[ne*3+1]),i.push(l[ne*3+2])}function Se(ne){s.push(ne.x),s.push(ne.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return cK(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new jE[i.type]().fromJSON(i)),new Hg(r,e.options)}}const lK={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new De(s,o),new De(a,l),new De(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],d=e[i*3],p=e[i*3+1],g=e[i*3+2],v=e[s*3],y=e[s*3+1],x=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new De(o,1-l),new De(c,1-f),new De(d,1-g),new De(v,1-x)]:[new De(a,1-l),new De(u,1-f),new De(p,1-g),new De(y,1-x)]}};function cK(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Vg extends sl{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Vg(e.radius,e.detail)}}class Rh extends sl{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Rh(e.radius,e.detail)}}class Wg extends pt{constructor(e=.5,t=1,r=8,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let f=e;const d=(t-e)/i,p=new $,g=new De;for(let v=0;v<=i;v++){for(let y=0;y<=r;y++){const x=s+y/r*o;p.x=f*Math.cos(x),p.y=f*Math.sin(x),l.push(p.x,p.y,p.z),c.push(0,0,1),g.x=(p.x/t+1)/2,g.y=(p.y/t+1)/2,u.push(g.x,g.y)}f+=d}for(let v=0;v<i;v++){const y=v*(r+1);for(let x=0;x<r;x++){const _=x+y,w=_,A=_+r+1,M=_+r+2,E=_+1;a.push(w,A,E),a.push(A,M,E)}}this.setIndex(a),this.setAttribute("position",new qe(l,3)),this.setAttribute("normal",new qe(c,3)),this.setAttribute("uv",new qe(u,2))}static fromJSON(e){return new Wg(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class jg extends pt{constructor(e=new Lu([new De(0,.5),new De(-.5,-.5),new De(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new qe(i,3)),this.setAttribute("normal",new qe(s,3)),this.setAttribute("uv",new qe(o,2));function c(u){const f=i.length/3,d=u.extractPoints(t);let p=d.shape;const g=d.holes;Ko.isClockWise(p)===!1&&(p=p.reverse());for(let y=0,x=g.length;y<x;y++){const _=g[y];Ko.isClockWise(_)===!0&&(g[y]=_.reverse())}const v=Ko.triangulateShape(p,g);for(let y=0,x=g.length;y<x;y++){const _=g[y];p=p.concat(_)}for(let y=0,x=p.length;y<x;y++){const _=p[y];i.push(_.x,_.y,0),s.push(0,0,1),o.push(_.x,_.y)}for(let y=0,x=v.length;y<x;y++){const _=v[y],w=_[0]+f,A=_[1]+f,M=_[2]+f;r.push(w,A,M),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return uK(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new jg(r,e.curveSegments)}}function uK(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Dh extends pt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new $,d=new $,p=[],g=[],v=[],y=[];for(let x=0;x<=r;x++){const _=[],w=x/r;let A=0;x==0&&o==0?A=.5/t:x==r&&l==Math.PI&&(A=-.5/t);for(let M=0;M<=t;M++){const E=M/t;f.x=-e*Math.cos(i+E*s)*Math.sin(o+w*a),f.y=e*Math.cos(o+w*a),f.z=e*Math.sin(i+E*s)*Math.sin(o+w*a),g.push(f.x,f.y,f.z),d.copy(f).normalize(),v.push(d.x,d.y,d.z),y.push(E+A,1-w),_.push(c++)}u.push(_)}for(let x=0;x<r;x++)for(let _=0;_<t;_++){const w=u[x][_+1],A=u[x][_],M=u[x+1][_],E=u[x+1][_+1];(x!==0||o>0)&&p.push(w,A,E),(x!==r-1||l<Math.PI)&&p.push(A,M,E)}this.setIndex(p),this.setAttribute("position",new qe(g,3)),this.setAttribute("normal",new qe(v,3)),this.setAttribute("uv",new qe(y,2))}static fromJSON(e){return new Dh(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class $g extends sl{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new $g(e.radius,e.detail)}}class Xg extends pt{constructor(e=1,t=.4,r=8,i=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new $,f=new $,d=new $;for(let p=0;p<=r;p++)for(let g=0;g<=i;g++){const v=g/i*s,y=p/r*Math.PI*2;f.x=(e+t*Math.cos(y))*Math.cos(v),f.y=(e+t*Math.cos(y))*Math.sin(v),f.z=t*Math.sin(y),a.push(f.x,f.y,f.z),u.x=e*Math.cos(v),u.y=e*Math.sin(v),d.subVectors(f,u).normalize(),l.push(d.x,d.y,d.z),c.push(g/i),c.push(p/r)}for(let p=1;p<=r;p++)for(let g=1;g<=i;g++){const v=(i+1)*p+g-1,y=(i+1)*(p-1)+g-1,x=(i+1)*(p-1)+g,_=(i+1)*p+g;o.push(v,y,_),o.push(y,x,_)}this.setIndex(o),this.setAttribute("position",new qe(a,3)),this.setAttribute("normal",new qe(l,3)),this.setAttribute("uv",new qe(c,2))}static fromJSON(e){return new Xg(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Jg extends pt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],f=new $,d=new $,p=new $,g=new $,v=new $,y=new $,x=new $;for(let w=0;w<=r;++w){const A=w/r*s*Math.PI*2;_(A,s,o,e,p),_(A+.01,s,o,e,g),y.subVectors(g,p),x.addVectors(g,p),v.crossVectors(y,x),x.crossVectors(v,y),v.normalize(),x.normalize();for(let M=0;M<=i;++M){const E=M/i*Math.PI*2,R=-t*Math.cos(E),C=t*Math.sin(E);f.x=p.x+(R*x.x+C*v.x),f.y=p.y+(R*x.y+C*v.y),f.z=p.z+(R*x.z+C*v.z),l.push(f.x,f.y,f.z),d.subVectors(f,p).normalize(),c.push(d.x,d.y,d.z),u.push(w/r),u.push(M/i)}}for(let w=1;w<=r;w++)for(let A=1;A<=i;A++){const M=(i+1)*(w-1)+(A-1),E=(i+1)*w+(A-1),R=(i+1)*w+A,C=(i+1)*(w-1)+A;a.push(M,E,C),a.push(E,R,C)}this.setIndex(a),this.setAttribute("position",new qe(l,3)),this.setAttribute("normal",new qe(c,3)),this.setAttribute("uv",new qe(u,2));function _(w,A,M,E,R){const C=Math.cos(w),T=Math.sin(w),D=M/A*w,L=Math.cos(D);R.x=E*(2+L)*.5*C,R.y=E*(2+L)*T*.5,R.z=E*Math.sin(D)*.5}}static fromJSON(e){return new Jg(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Kg extends pt{constructor(e=new VE(new $(-1,-1,0),new $(-1,1,0),new $(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new $,l=new $,c=new De;let u=new $;const f=[],d=[],p=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new qe(f,3)),this.setAttribute("normal",new qe(d,3)),this.setAttribute("uv",new qe(p,2));function v(){for(let w=0;w<t;w++)y(w);y(s===!1?t:0),_(),x()}function y(w){u=e.getPointAt(w/t,u);const A=o.normals[w],M=o.binormals[w];for(let E=0;E<=i;E++){const R=E/i*Math.PI*2,C=Math.sin(R),T=-Math.cos(R);l.x=T*A.x+C*M.x,l.y=T*A.y+C*M.y,l.z=T*A.z+C*M.z,l.normalize(),d.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,f.push(a.x,a.y,a.z)}}function x(){for(let w=1;w<=t;w++)for(let A=1;A<=i;A++){const M=(i+1)*(w-1)+(A-1),E=(i+1)*w+(A-1),R=(i+1)*w+A,C=(i+1)*(w-1)+A;g.push(M,E,C),g.push(E,R,C)}}function _(){for(let w=0;w<=t;w++)for(let A=0;A<=i;A++)c.x=w/t,c.y=A/i,p.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Kg(new jE[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class WN extends pt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new $,s=new $;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],d=f.start,p=f.count;for(let g=d,v=d+p;g<v;g+=3)for(let y=0;y<3;y++){const x=a.getX(g+y),_=a.getX(g+(y+1)%3);i.fromBufferAttribute(o,x),s.fromBufferAttribute(o,_),cD(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,f=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,f),cD(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new qe(t,3))}}}function cD(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var uD=Object.freeze({__proto__:null,BoxGeometry:Ec,CapsuleGeometry:Ng,CircleGeometry:Ug,ConeGeometry:zg,CylinderGeometry:uf,DodecahedronGeometry:Gg,EdgesGeometry:zN,ExtrudeGeometry:Hg,IcosahedronGeometry:Vg,LatheGeometry:Ph,OctahedronGeometry:Rh,PlaneGeometry:il,PolyhedronGeometry:sl,RingGeometry:Wg,ShapeGeometry:jg,SphereGeometry:Dh,TetrahedronGeometry:$g,TorusGeometry:Xg,TorusKnotGeometry:Jg,TubeGeometry:Kg,WireframeGeometry:WN});class jN extends or{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new He(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class $N extends bo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class pc extends or{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new He(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cc,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Eo extends pc{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new De(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Zn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new He(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new He(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new He(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class pm extends or{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new He(16777215),this.specular=new He(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cc,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Bg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class XN extends or{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new He(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cc,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class JN extends or{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cc,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class $E extends or{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new He(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new He(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cc,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Bg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class KN extends or{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new He(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cc,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class YN extends Fr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function ks(n,e,t){return XE(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function Su(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function XE(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function QN(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function cM(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function JE(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function fK(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],d=[];for(let p=0;p<c.times.length;++p){const g=c.times[p]*i;if(!(g<t||g>=r)){f.push(c.times[p]);for(let v=0;v<u;++v)d.push(c.values[p*u+v])}}f.length!==0&&(c.times=Su(f,c.times.constructor),c.values=Su(d,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function dK(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let d=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=p/3);const g=a.times.length-1;let v;if(s<=a.times[0]){const x=u,_=f-u;v=ks(a.values,x,_)}else if(s>=a.times[g]){const x=g*f+u,_=x+f-u;v=ks(a.values,x,_)}else{const x=a.createInterpolant(),_=u,w=f-u;x.evaluate(s),v=ks(x.resultBuffer,_,w)}l==="quaternion"&&new Rn().fromArray(v).normalize().conjugate().toArray(v);const y=c.times.length;for(let x=0;x<y;++x){const _=x*p+d;if(l==="quaternion")Rn.multiplyQuaternionsFlat(c.values,_,v,0,c.values,_);else{const w=p-d*2;for(let A=0;A<w;++A)c.values[_+A]-=v[A]}}}return n.blendMode=EE,n}var hK=Object.freeze({__proto__:null,arraySlice:ks,convertArray:Su,isTypedArray:XE,getKeyframeOrder:QN,sortedArray:cM,flattenJSON:JE,subclip:fK,makeClipAdditive:dK});class Bh{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class ZN extends Bh{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:_u,endingEnd:_u}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case xu:s=e,a=2*t-r;break;case Zm:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case xu:o=e,l=2*r-t;break;case Zm:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,p=this._weightNext,g=(r-t)/(i-t),v=g*g,y=v*g,x=-d*y+2*d*v-d*g,_=(1+d)*y+(-1.5-2*d)*v+(-.5+d)*g+1,w=(-1-p)*y+(1.5+p)*v+.5*g,A=p*y-p*v;for(let M=0;M!==a;++M)s[M]=x*o[u+M]+_*o[c+M]+w*o[l+M]+A*o[f+M];return s}}class KE extends Bh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),f=1-u;for(let d=0;d!==a;++d)s[d]=o[c+d]*f+o[l+d]*u;return s}}class qN extends Bh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class To{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Su(t,this.TimeBufferType),this.values=Su(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Su(e.times,Array),values:Su(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new qN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new KE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new ZN(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case ch:t=this.InterpolantFactoryMethodDiscrete;break;case Ku:t=this.InterpolantFactoryMethodLinear;break;case Ky:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ch;case this.InterpolantFactoryMethodLinear:return Ku;case this.InterpolantFactoryMethodSmooth:return Ky}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=ks(r,s,o),this.values=ks(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&XE(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=ks(this.times),t=ks(this.values),r=this.getValueSize(),i=this.getInterpolation()===Ky,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const f=a*r,d=f-r,p=f+r;for(let g=0;g!==r;++g){const v=t[f+g];if(v!==t[d+g]||v!==t[p+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,d=o*r;for(let p=0;p!==r;++p)t[d+p]=t[f+p]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=ks(e,0,o),this.values=ks(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=ks(this.times,0),t=ks(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}To.prototype.TimeBufferType=Float32Array;To.prototype.ValueBufferType=Float32Array;To.prototype.DefaultInterpolation=Ku;class ff extends To{}ff.prototype.ValueTypeName="bool";ff.prototype.ValueBufferType=Array;ff.prototype.DefaultInterpolation=ch;ff.prototype.InterpolantFactoryMethodLinear=void 0;ff.prototype.InterpolantFactoryMethodSmooth=void 0;class YE extends To{}YE.prototype.ValueTypeName="color";class Zu extends To{}Zu.prototype.ValueTypeName="number";class eU extends Bh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Rn.slerpFlat(s,0,o,c-a,o,c,l);return s}}class $a extends To{InterpolantFactoryMethodLinear(e){return new eU(this.times,this.values,this.getValueSize(),e)}}$a.prototype.ValueTypeName="quaternion";$a.prototype.DefaultInterpolation=Ku;$a.prototype.InterpolantFactoryMethodSmooth=void 0;class df extends To{}df.prototype.ValueTypeName="string";df.prototype.ValueBufferType=Array;df.prototype.DefaultInterpolation=ch;df.prototype.InterpolantFactoryMethodLinear=void 0;df.prototype.InterpolantFactoryMethodSmooth=void 0;class qu extends To{}qu.prototype.ValueTypeName="vector";class ef{constructor(e,t=-1,r,i=H_){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=as(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(mK(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(To.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=QN(l);l=cM(l,1,u),c=cM(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Zu(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let d=i[f];d||(i[f]=d=[]),d.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,p,g,v){if(p.length!==0){const y=[],x=[];JE(p,y,x,g),y.length!==0&&v.push(new f(d,y,x))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const d=c[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const p={};let g;for(g=0;g<d.length;g++)if(d[g].morphTargets)for(let v=0;v<d[g].morphTargets.length;v++)p[d[g].morphTargets[v]]=-1;for(const v in p){const y=[],x=[];for(let _=0;_!==d[g].morphTargets.length;++_){const w=d[g];y.push(w.time),x.push(w.morphTarget===v?1:0)}i.push(new Zu(".morphTargetInfluence["+v+"]",y,x))}l=p.length*o}else{const p=".bones["+t[f].name+"]";r(qu,p+".position",d,"pos",i),r($a,p+".quaternion",d,"rot",i),r(qu,p+".scale",d,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function pK(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Zu;case"vector":case"vector2":case"vector3":case"vector4":return qu;case"color":return YE;case"quaternion":return $a;case"bool":case"boolean":return ff;case"string":return df}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function mK(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=pK(n.type);if(n.times===void 0){const t=[],r=[];JE(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const tf={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class QE{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,d=c.length;f<d;f+=2){const p=c[f],g=c[f+1];if(p.global&&(p.lastIndex=0),p.test(u))return g}return null}}}const Pd=new QE;class ri{constructor(e){this.manager=e!==void 0?e:Pd,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const xa={};class gK extends Error{constructor(e,t){super(e),this.response=t}}class Vi extends ri{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=tf.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(xa[e]!==void 0){xa[e].push({onLoad:t,onProgress:r,onError:i});return}xa[e]=[],xa[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=xa[e],f=c.body.getReader(),d=c.headers.get("Content-Length"),p=d?parseInt(d):0,g=p!==0;let v=0;const y=new ReadableStream({start(x){_();function _(){f.read().then(({done:w,value:A})=>{if(w)x.close();else{v+=A.byteLength;const M=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:p});for(let E=0,R=u.length;E<R;E++){const C=u[E];C.onProgress&&C.onProgress(M)}x.enqueue(A),_()}})}}});return new Response(y)}else throw new gK(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),d=f&&f[1]?f[1].toLowerCase():void 0,p=new TextDecoder(d);return c.arrayBuffer().then(g=>p.decode(g))}}}).then(c=>{tf.add(e,c);const u=xa[e];delete xa[e];for(let f=0,d=u.length;f<d;f++){const p=u[f];p.onLoad&&p.onLoad(c)}}).catch(c=>{const u=xa[e];if(u===void 0)throw this.manager.itemError(e),c;delete xa[e];for(let f=0,d=u.length;f<d;f++){const p=u[f];p.onError&&p.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class vK extends ri{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Vi(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=ef.parse(e[r]);t.push(i)}return t}}class yK extends ri{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new UE,l=new Vi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(f){l.load(e[f],function(d){const p=s.parse(d,!0);o[f]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},c+=1,c===6&&(p.mipmapCount===1&&(a.minFilter=dn),a.image=o,a.format=p.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)u(f);else l.load(e,function(f){const d=s.parse(f,!0);if(d.isCubemap){const p=d.mipmaps.length/d.mipmapCount;for(let g=0;g<p;g++){o[g]={mipmaps:[]};for(let v=0;v<d.mipmapCount;v++)o[g].mipmaps.push(d.mipmaps[g*d.mipmapCount+v]),o[g].format=d.format,o[g].width=d.width,o[g].height=d.height}a.image=o}else a.image.width=d.width,a.image.height=d.height,a.mipmaps=d.mipmaps;d.mipmapCount===1&&(a.minFilter=dn),a.format=d.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class og extends ri{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=tf.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=tg("img");function l(){u(),tf.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(f){u(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class _K extends ri{constructor(e){super(e)}load(e,t,r,i){const s=new Og,o=new og(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class xK extends ri{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Wd,a=new Vi(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);c&&(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:hr,o.wrapT=c.wrapT!==void 0?c.wrapT:hr,o.magFilter=c.magFilter!==void 0?c.magFilter:dn,o.minFilter=c.minFilter!==void 0?c.minFilter:dn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=el),c.mipmapCount===1&&(o.minFilter=dn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c))},r,i),o}}class Ih extends ri{constructor(e){super(e)}load(e,t,r,i){const s=new mn,o=new og(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class Tc extends It{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new He(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class tU extends Tc{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(It.DefaultUp),this.updateMatrix(),this.groundColor=new He(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const bS=new Ze,fD=new $,dD=new $;class ZE{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new De(512,512),this.map=null,this.mapPass=null,this.matrix=new Ze,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new $_,this._frameExtents=new De(1,1),this._viewportCount=1,this._viewports=[new Pt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;fD.setFromMatrixPosition(e.matrixWorld),t.position.copy(fD),dD.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(dD),t.updateMatrixWorld(),bS.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(bS),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(bS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class wK extends ZE{constructor(){super(new ir(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=eg*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class rx extends Tc{constructor(e,t,r=0,i=Math.PI/3,s=0,o=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(It.DefaultUp),this.updateMatrix(),this.target=new It,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new wK}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const hD=new Ze,Pp=new $,MS=new $;class SK extends ZE{constructor(){super(new ir(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new De(4,2),this._viewportCount=6,this._viewports=[new Pt(2,1,1,1),new Pt(0,1,1,1),new Pt(3,1,1,1),new Pt(1,1,1,1),new Pt(3,0,1,1),new Pt(1,0,1,1)],this._cubeDirections=[new $(1,0,0),new $(-1,0,0),new $(0,0,1),new $(0,0,-1),new $(0,1,0),new $(0,-1,0)],this._cubeUps=[new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,0,1),new $(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Pp.setFromMatrixPosition(e.matrixWorld),r.position.copy(Pp),MS.copy(r.position),MS.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(MS),r.updateMatrixWorld(),i.makeTranslation(-Pp.x,-Pp.y,-Pp.z),hD.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(hD)}}class ag extends Tc{constructor(e,t,r=0,i=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new SK}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class AK extends ZE{constructor(){super(new cf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class ix extends Tc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(It.DefaultUp),this.updateMatrix(),this.target=new It,this.shadow=new AK}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class qE extends Tc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class nU extends Tc{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class rU{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new $)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class sx extends Tc{constructor(e=new rU,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class ox extends ri{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new Vi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=ox.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new He().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new He().setHex(o.value);break;case"v2":i.uniforms[s].value=new De().fromArray(o.value);break;case"v3":i.uniforms[s].value=new $().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Pt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Zr().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Ze().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new De().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new De().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:jN,SpriteMaterial:kE,RawShaderMaterial:$N,ShaderMaterial:bo,PointsMaterial:q_,MeshPhysicalMaterial:Eo,MeshStandardMaterial:pc,MeshPhongMaterial:pm,MeshToonMaterial:XN,MeshNormalMaterial:JN,MeshLambertMaterial:$E,MeshDepthMaterial:J_,MeshDistanceMaterial:K_,MeshBasicMaterial:ki,MeshMatcapMaterial:KN,LineDashedMaterial:YN,LineBasicMaterial:Fr,Material:or};return new t[e]}}class ls{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class e2 extends pt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class iU extends ri{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Vi(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(p,g){if(t[g]!==void 0)return t[g];const y=p.interleavedBuffers[g],x=s(p,y.buffer),_=Cd(y.type,x),w=new Fg(_,y.stride);return w.uuid=y.uuid,t[g]=w,w}function s(p,g){if(r[g]!==void 0)return r[g];const y=p.arrayBuffers[g],x=new Uint32Array(y).buffer;return r[g]=x,x}const o=e.isInstancedBufferGeometry?new e2:new pt,a=e.data.index;if(a!==void 0){const p=Cd(a.type,a.array);o.setIndex(new Yt(p,1))}const l=e.data.attributes;for(const p in l){const g=l[p];let v;if(g.isInterleavedBufferAttribute){const y=i(e.data,g.data);v=new hc(y,g.itemSize,g.offset,g.normalized)}else{const y=Cd(g.type,g.array),x=g.isInstancedBufferAttribute?Yu:Yt;v=new x(y,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),g.updateRange!==void 0&&(v.updateRange.offset=g.updateRange.offset,v.updateRange.count=g.updateRange.count),o.setAttribute(p,v)}const c=e.data.morphAttributes;if(c)for(const p in c){const g=c[p],v=[];for(let y=0,x=g.length;y<x;y++){const _=g[y];let w;if(_.isInterleavedBufferAttribute){const A=i(e.data,_.data);w=new hc(A,_.itemSize,_.offset,_.normalized)}else{const A=Cd(_.type,_.array);w=new Yt(A,_.itemSize,_.normalized)}_.name!==void 0&&(w.name=_.name),v.push(w)}o.morphAttributes[p]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let p=0,g=f.length;p!==g;++p){const v=f[p];o.addGroup(v.start,v.count,v.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const p=new $;d.center!==void 0&&p.fromArray(d.center),o.boundingSphere=new rl(p,d.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class bK extends ri{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?ls.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Vi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?ls.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Vi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let f=!1;for(const d in o)if(o[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Lu().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Th().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new iU;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in uD?a=uD[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new ox;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=ef.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:Cd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new QE(t);s=new og(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],d=f.url;if(Array.isArray(d)){const p=[];for(let g=0,v=d.length;g<v;g++){const y=d[g],x=a(y);x!==null&&(x instanceof HTMLImageElement?p.push(x):p.push(new Wd(x.data,x.width,x.height)))}i[f.uuid]=new wu(p)}else{const p=a(f.url);i[f.uuid]=new wu(p)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Cd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new og(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,d=c.length;f<d;f++){const p=c[f],g=await s(p);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new Wd(g.data,g.width,g.height)))}r[l.uuid]=new wu(u)}else{const u=await s(l.url);r[l.uuid]=new wu(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new Og,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Wd:u=new mn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,MK)),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],pD),u.wrapT=r(a.wrap[1],pD)),a.format!==void 0&&(u.format=a.format),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,mD)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,mD)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(d){return t[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),t[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const p=[];for(let g=0,v=d.length;g<v;g++){const y=d[g];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),p.push(r[y])}return p}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function c(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let u,f;switch(e.type){case"Scene":o=new U1,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new He(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Q_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Y_(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":o=new ir(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new cf(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new qE(e.color,e.intensity);break;case"DirectionalLight":o=new ix(e.color,e.intensity);break;case"PointLight":o=new ag(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new nU(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new rx(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new tU(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new sx().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),f=l(e.material),o=new Z_(u,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),f=l(e.material),o=new Un(u,f);break;case"InstancedMesh":u=a(e.geometry),f=l(e.material);const d=e.count,p=e.instanceMatrix,g=e.instanceColor;o=new OE(u,f,d),o.instanceMatrix=new Yu(new Float32Array(p.array),16),g!==void 0&&(o.instanceColor=new Yu(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new IN;break;case"Line":o=new ea(a(e.geometry),l(e.material));break;case"LineLoop":o=new FE(a(e.geometry),l(e.material));break;case"LineSegments":o=new Co(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new NE(a(e.geometry),l(e.material));break;case"Sprite":o=new BN(l(e.material));break;case"Group":o=new go;break;case"Bone":o=new fh;break;default:o=new It}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let p=0;p<d.length;p++)o.add(this.parseObject(d[p],t,r,i,s))}if(e.animations!==void 0){const d=e.animations;for(let p=0;p<d.length;p++){const g=d[p];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const d=e.levels;for(let p=0;p<d.length;p++){const g=d[p],v=o.getObjectByProperty("uuid",g.object);v!==void 0&&o.addLevel(v,g.distance)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const MK={UVMapping:z_,CubeReflectionMapping:uc,CubeRefractionMapping:fc,EquirectangularReflectionMapping:oh,EquirectangularRefractionMapping:Km,CubeUVReflectionMapping:Ch},pD={RepeatWrapping:qo,ClampToEdgeWrapping:hr,MirroredRepeatWrapping:ah},mD={NearestFilter:Qn,NearestMipmapNearestFilter:Ym,NearestMipmapLinearFilter:Qm,LinearFilter:dn,LinearMipmapNearestFilter:G_,LinearMipmapLinearFilter:el};class sU extends ri{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=tf.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){tf.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let ey;class t2{static getContext(){return ey===void 0&&(ey=new(window.AudioContext||window.webkitAudioContext)),ey}static setContext(e){ey=e}}class CK extends ri{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new Vi(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);t2.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class EK extends sx{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new He().set(e),s=new He().set(t),o=new $(i.r,i.g,i.b),a=new $(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class TK extends sx{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new He().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const gD=new Ze,vD=new Ze,Kc=new Ze;class PK{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ir,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ir,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Kc.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(Du*t.fov*.5)/t.zoom;let a,l;vD.elements[12]=-i,gD.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,Kc.elements[0]=2*t.near/(l-a),Kc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Kc),a=-o*t.aspect-s,l=o*t.aspect-s,Kc.elements[0]=2*t.near/(l-a),Kc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Kc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(vD),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(gD)}}class n2{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=yD(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=yD();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function yD(){return(typeof performance>"u"?Date:performance).now()}const Yc=new $,_D=new Rn,RK=new $,Qc=new $;class DK extends It{constructor(){super(),this.type="AudioListener",this.context=t2.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new n2}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Yc,_D,RK),Qc.set(0,0,-1).applyQuaternion(_D),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Yc.x,i),t.positionY.linearRampToValueAtTime(Yc.y,i),t.positionZ.linearRampToValueAtTime(Yc.z,i),t.forwardX.linearRampToValueAtTime(Qc.x,i),t.forwardY.linearRampToValueAtTime(Qc.y,i),t.forwardZ.linearRampToValueAtTime(Qc.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Yc.x,Yc.y,Yc.z),t.setOrientation(Qc.x,Qc.y,Qc.z,r.x,r.y,r.z)}}class oU extends It{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Zc=new $,xD=new Rn,BK=new $,qc=new $;class IK extends oU{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Zc,xD,BK),qc.set(0,0,1).applyQuaternion(xD);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Zc.x,r),t.positionY.linearRampToValueAtTime(Zc.y,r),t.positionZ.linearRampToValueAtTime(Zc.z,r),t.orientationX.linearRampToValueAtTime(qc.x,r),t.orientationY.linearRampToValueAtTime(qc.y,r),t.orientationZ.linearRampToValueAtTime(qc.z,r)}else t.setPosition(Zc.x,Zc.y,Zc.z),t.setOrientation(qc.x,qc.y,qc.z)}}class LK{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class aU{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Rn.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Rn.multiplyQuaternionsFlat(e,o,e,t,e,r),Rn.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const r2="\\[\\]\\.:\\/",kK=new RegExp("["+r2+"]","g"),i2="[^"+r2+"]",OK="[^"+r2.replace("\\.","")+"]",FK=/((?:WC+[\/:])*)/.source.replace("WC",i2),NK=/(WCOD+)?/.source.replace("WCOD",OK),UK=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",i2),zK=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",i2),GK=new RegExp("^"+FK+NK+UK+zK+"$"),HK=["material","materials","bones","map"];class VK{constructor(e,t,r){const i=r||Bt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Bt{constructor(e,t,r){this.path=t,this.parsedPath=r||Bt.parseTrackName(t),this.node=Bt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Bt.Composite(e,t,r):new Bt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(kK,"")}static parseTrackName(e){const t=GK.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);HK.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Bt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Bt.Composite=VK;Bt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Bt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Bt.prototype.GetterByBindingType=[Bt.prototype._getValue_direct,Bt.prototype._getValue_array,Bt.prototype._getValue_arrayElement,Bt.prototype._getValue_toArray];Bt.prototype.SetterByBindingTypeAndVersioning=[[Bt.prototype._setValue_direct,Bt.prototype._setValue_direct_setNeedsUpdate,Bt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Bt.prototype._setValue_array,Bt.prototype._setValue_array_setNeedsUpdate,Bt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Bt.prototype._setValue_arrayElement,Bt.prototype._setValue_arrayElement_setNeedsUpdate,Bt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Bt.prototype._setValue_fromArray,Bt.prototype._setValue_fromArray_setNeedsUpdate,Bt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class WK{constructor(){this.isAnimationObjectGroup=!0,this.uuid=as(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const d=arguments[u],p=d.uuid;let g=t[p];if(g===void 0){g=l++,t[p]=g,e.push(d);for(let v=0,y=o;v!==y;++v)s[v].push(new Bt(d,r[v],i[v]))}else if(g<c){a=e[g];const v=--c,y=e[v];t[y.uuid]=g,e[g]=y,t[p]=v,e[v]=d;for(let x=0,_=o;x!==_;++x){const w=s[x],A=w[v];let M=w[g];w[g]=A,M===void 0&&(M=new Bt(d,r[x],i[x])),w[v]=M}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const f=s++,d=e[f];t[d.uuid]=u,e[u]=d,t[c]=f,e[f]=l;for(let p=0,g=i;p!==g;++p){const v=r[p],y=v[f],x=v[u];v[u]=y,v[f]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,f=t[u];if(f!==void 0)if(delete t[u],f<s){const d=--s,p=e[d],g=--o,v=e[g];t[p.uuid]=f,e[f]=p,t[v.uuid]=d,e[d]=v,e.pop();for(let y=0,x=i;y!==x;++y){const _=r[y],w=_[d],A=_[g];_[f]=w,_[d]=A,_.pop()}}else{const d=--o,p=e[d];d>0&&(t[p.uuid]=f),e[f]=p,e.pop();for(let g=0,v=i;g!==v;++g){const y=r[g];y[f]=y[d],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(f);for(let d=u,p=l.length;d!==p;++d){const g=l[d];f[d]=new Bt(g,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class jK{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:_u,endingEnd:_u};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=fN,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case EE:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case H_:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===dN;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===uN){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=xu,i.endingEnd=xu):(e?i.endingStart=this.zeroSlopeAtStart?xu:_u:i.endingStart=Zm,t?i.endingEnd=this.zeroSlopeAtEnd?xu:_u:i.endingEnd=Zm)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const $K=new Float32Array(1);class lU extends tl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const d=i[f],p=d.name;let g=u[p];if(g!==void 0)++g.referenceCount,o[f]=g;else{if(g=o[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,p));continue}const v=t&&t._propertyBindings[f].binding.parsedPath;g=new aU(Bt.create(r,p,v),d.ValueTypeName,d.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,p),o[f]=g}a[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new KE(new Float32Array(2),new Float32Array(2),1,$K),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?ef.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=H_),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new jK(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?ef.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,t[u]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class s2{constructor(e){this.value=e}clone(){return new s2(this.value.clone===void 0?this.value:this.value.clone())}}let XK=0;class JK extends tl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:XK++}),this.name="",this.usage=qm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class KK extends Fg{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class YK{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class cU{constructor(e,t,r=0,i=1/0){this.ray=new Lg(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Iu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return uM(e,this,r,t),r.sort(wD),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)uM(e[i],this,r,t);return r.sort(wD),r}}function wD(n,e){return n.distance-e.distance}function uM(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)uM(i[s],e,t,!0)}}class uU{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Zn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class QK{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const SD=new De;class ZK{constructor(e=new De(1/0,1/0),t=new De(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=SD.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return SD.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const AD=new $,ty=new $;class qK{constructor(e=new $,t=new $){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){AD.subVectors(e,this.start),ty.subVectors(this.end,this.start);const r=ty.dot(ty);let s=ty.dot(AD)/r;return t&&(s=Zn(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const bD=new $;class eY extends It{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new pt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new qe(i,3));const s=new Fr({fog:!1,toneMapped:!1});this.cone=new Co(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),bD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(bD),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Tl=new $,ny=new Ze,CS=new Ze;class tY extends Co{constructor(e){const t=fU(e),r=new pt,i=[],s=[],o=new He(0,0,1),a=new He(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new qe(i,3)),r.setAttribute("color",new qe(s,3));const l=new Fr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");CS.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(ny.multiplyMatrices(CS,a.matrixWorld),Tl.setFromMatrixPosition(ny),i.setXYZ(o,Tl.x,Tl.y,Tl.z),ny.multiplyMatrices(CS,a.parent.matrixWorld),Tl.setFromMatrixPosition(ny),i.setXYZ(o+1,Tl.x,Tl.y,Tl.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function fU(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,fU(n.children[t]));return e}class nY extends Un{constructor(e,t,r){const i=new Dh(t,4,2),s=new ki({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const rY=new $,MD=new He,CD=new He;class iY extends It{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new Rh(t);i.rotateY(Math.PI*.5),this.material=new ki({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Yt(o,3)),this.add(new Un(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");MD.copy(this.light.color),CD.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?MD:CD;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}e.lookAt(rY.setFromMatrixPosition(this.light.matrixWorld).negate())}}class sY extends Co{constructor(e=10,t=10,r=4473924,i=8947848){r=new He(r),i=new He(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let d=0,p=0,g=-a;d<=t;d++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const v=d===s?r:i;v.toArray(c,p),p+=3,v.toArray(c,p),p+=3,v.toArray(c,p),p+=3,v.toArray(c,p),p+=3}const u=new pt;u.setAttribute("position",new qe(l,3)),u.setAttribute("color",new qe(c,3));const f=new Fr({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class oY extends Co{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new He(s),o=new He(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const d=f/t*(Math.PI*2),p=Math.sin(d)*e,g=Math.cos(d)*e;a.push(0,0,0),a.push(p,0,g);const v=f&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let f=0;f<r;f++){const d=f&1?s:o,p=e-e/r*f;for(let g=0;g<i;g++){let v=g/i*(Math.PI*2),y=Math.sin(v)*p,x=Math.cos(v)*p;a.push(y,0,x),l.push(d.r,d.g,d.b),v=(g+1)/i*(Math.PI*2),y=Math.sin(v)*p,x=Math.cos(v)*p,a.push(y,0,x),l.push(d.r,d.g,d.b)}}const c=new pt;c.setAttribute("position",new qe(a,3)),c.setAttribute("color",new qe(l,3));const u=new Fr({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const ED=new $,ry=new $,TD=new $;class aY extends It{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new pt;i.setAttribute("position",new qe([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Fr({fog:!1,toneMapped:!1});this.lightPlane=new ea(i,s),this.add(this.lightPlane),i=new pt,i.setAttribute("position",new qe([0,0,0,0,0,1],3)),this.targetLine=new ea(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){ED.setFromMatrixPosition(this.light.matrixWorld),ry.setFromMatrixPosition(this.light.target.matrixWorld),TD.subVectors(ry,ED),this.lightPlane.lookAt(ry),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ry),this.targetLine.scale.z=TD.length()}}const iy=new $,kn=new kg;class lY extends Co{constructor(e){const t=new pt,r=new Fr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,v){l(g),l(v)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}t.setAttribute("position",new qe(i,3)),t.setAttribute("color",new qe(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new He(16755200),u=new He(16711680),f=new He(43775),d=new He(16777215),p=new He(3355443);this.setColors(c,u,f,d,p)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;kn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),$n("c",t,e,kn,0,0,-1),$n("t",t,e,kn,0,0,1),$n("n1",t,e,kn,-r,-i,-1),$n("n2",t,e,kn,r,-i,-1),$n("n3",t,e,kn,-r,i,-1),$n("n4",t,e,kn,r,i,-1),$n("f1",t,e,kn,-r,-i,1),$n("f2",t,e,kn,r,-i,1),$n("f3",t,e,kn,-r,i,1),$n("f4",t,e,kn,r,i,1),$n("u1",t,e,kn,r*.7,i*1.1,-1),$n("u2",t,e,kn,-r*.7,i*1.1,-1),$n("u3",t,e,kn,0,i*2,-1),$n("cf1",t,e,kn,-r,0,1),$n("cf2",t,e,kn,r,0,1),$n("cf3",t,e,kn,0,-i,1),$n("cf4",t,e,kn,0,i,1),$n("cn1",t,e,kn,-r,0,-1),$n("cn2",t,e,kn,r,0,-1),$n("cn3",t,e,kn,0,-i,-1),$n("cn4",t,e,kn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function $n(n,e,t,r,i,s,o){iy.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],iy.x,iy.y,iy.z)}}const sy=new nl;class cY extends Co{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new pt;s.setIndex(new Yt(r,1)),s.setAttribute("position",new Yt(i,3)),super(s,new Fr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&sy.setFromObject(this.object),sy.isEmpty())return;const t=sy.min,r=sy.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class uY extends Co{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new pt;s.setIndex(new Yt(r,1)),s.setAttribute("position",new qe(i,3)),super(s,new Fr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class fY extends ea{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new pt;o.setAttribute("position",new qe(s,3)),o.computeBoundingSphere(),super(o,new Fr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new pt;l.setAttribute("position",new qe(a,3)),l.computeBoundingSphere(),this.add(new Un(l,new ki({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const PD=new $;let oy,ES;class dY extends It{constructor(e=new $(0,0,1),t=new $(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",oy===void 0&&(oy=new pt,oy.setAttribute("position",new qe([0,0,0,0,1,0],3)),ES=new uf(0,.5,1,5,1),ES.translate(0,-.5,0)),this.position.copy(t),this.line=new ea(oy,new Fr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Un(ES,new ki({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{PD.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(PD,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class hY extends Co{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new pt;i.setAttribute("position",new qe(t,3)),i.setAttribute("color",new qe(r,3));const s=new Fr({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new He,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class pY{constructor(){this.type="ShapePath",this.color=new He,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new ng,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(x){const _=[];for(let w=0,A=x.length;w<A;w++){const M=x[w],E=new Lu;E.curves=M.curves,_.push(E)}return _}function r(x,_){const w=_.length;let A=!1;for(let M=w-1,E=0;E<w;M=E++){let R=_[M],C=_[E],T=C.x-R.x,D=C.y-R.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(R=_[E],T=-T,C=_[M],D=-D),x.y<R.y||x.y>C.y)continue;if(x.y===R.y){if(x.x===R.x)return!0}else{const L=D*(x.x-R.x)-T*(x.y-R.y);if(L===0)return!0;if(L<0)continue;A=!A}}else{if(x.y!==R.y)continue;if(C.x<=x.x&&x.x<=R.x||R.x<=x.x&&x.x<=C.x)return!0}}return A}const i=Ko.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Lu,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const f=[],d=[];let p=[],g=0,v;d[g]=void 0,p[g]=[];for(let x=0,_=s.length;x<_;x++)a=s[x],v=a.getPoints(),o=i(v),o=e?!o:o,o?(!u&&d[g]&&g++,d[g]={s:new Lu,p:v},d[g].s.curves=a.curves,u&&g++,p[g]=[]):p[g].push({h:a,p:v[0]});if(!d[0])return t(s);if(d.length>1){let x=!1,_=0;for(let w=0,A=d.length;w<A;w++)f[w]=[];for(let w=0,A=d.length;w<A;w++){const M=p[w];for(let E=0;E<M.length;E++){const R=M[E];let C=!0;for(let T=0;T<d.length;T++)r(R.p,d[T].p)&&(w!==T&&_++,C?(C=!1,f[T].push(R)):x=!0);C&&f[w].push(R)}}_>0&&x===!1&&(p=f)}let y;for(let x=0,_=d.length;x<_;x++){l=d[x].s,c.push(l),y=p[x];for(let w=0,A=y.length;w<A;w++)l.holes.push(y[w].h)}return c}}const Ta=mY();function mY(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function gY(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Zn(n,-65504,65504),Ta.floatView[0]=n;const e=Ta.uint32View[0],t=e>>23&511;return Ta.baseTable[t]+((e&8388607)>>Ta.shiftTable[t])}function vY(n){const e=n>>10;return Ta.uint32View[0]=Ta.mantissaTable[Ta.offsetTable[e]+(n&1023)]+Ta.exponentTable[e],Ta.floatView[0]}var yY=Object.freeze({__proto__:null,toHalfFloat:gY,fromHalfFloat:vY});function _Y(){console.error("THREE.ImmediateRenderObject has been removed.")}class xY extends Qs{constructor(e,t,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,r),this.samples=4}}class wY extends Ig{constructor(e,t,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,r,i)}}class SY extends V_{constructor(e,t,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,r,i)}}class AY extends Ec{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class bY extends Ng{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class MY extends Ug{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class CY extends zg{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class EY extends uf{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class TY extends Gg{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class PY extends Hg{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class RY extends Vg{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class DY extends Ph{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class BY extends Rh{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class IY extends il{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class LY extends sl{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class kY extends Wg{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class OY extends jg{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class FY extends Dh{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class NY extends $g{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class UY extends Xg{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class zY extends Jg{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class GY extends Kg{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Dg}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Dg);const HY=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:ME,AddEquation:hu,AddOperation:W4,AdditiveAnimationBlendMode:EE,AdditiveBlending:Rb,AlphaFormat:eN,AlwaysDepth:F4,AlwaysStencilFunc:gN,AmbientLight:qE,AmbientLightProbe:TK,AnimationClip:ef,AnimationLoader:vK,AnimationMixer:lU,AnimationObjectGroup:WK,AnimationUtils:hK,ArcCurve:kN,ArrayCamera:TN,ArrowHelper:dY,Audio:oU,AudioAnalyser:LK,AudioContext:t2,AudioListener:DK,AudioLoader:CK,AxesHelper:hY,BackSide:xi,BasicDepthPacking:pN,BasicShadowMap:A4,Bone:fh,BooleanKeyframeTrack:ff,Box2:ZK,Box3:nl,Box3Helper:uY,BoxBufferGeometry:AY,BoxGeometry:Ec,BoxHelper:cY,BufferAttribute:Yt,BufferGeometry:pt,BufferGeometryLoader:iU,ByteType:K4,Cache:tf,Camera:kg,CameraHelper:lY,CanvasTexture:FJ,CapsuleBufferGeometry:bY,CapsuleGeometry:Ng,CatmullRomCurve3:ON,CineonToneMapping:X4,CircleBufferGeometry:MY,CircleGeometry:Ug,ClampToEdgeWrapping:hr,Clock:n2,Color:He,ColorKeyframeTrack:YE,ColorManagement:Ds,CompressedArrayTexture:OJ,CompressedTexture:UE,CompressedTextureLoader:yK,ConeBufferGeometry:CY,ConeGeometry:zg,CubeCamera:xN,CubeReflectionMapping:uc,CubeRefractionMapping:fc,CubeTexture:Og,CubeTextureLoader:_K,CubeUVReflectionMapping:Ch,CubicBezierCurve:GE,CubicBezierCurve3:FN,CubicInterpolant:ZN,CullFaceBack:Pb,CullFaceFront:S4,CullFaceFrontBack:WV,CullFaceNone:w4,Curve:eo,CurvePath:UN,CustomBlending:b4,CustomToneMapping:J4,CylinderBufferGeometry:EY,CylinderGeometry:uf,Cylindrical:QK,Data3DTexture:V_,DataArrayTexture:Ig,DataTexture:Wd,DataTexture2DArray:wY,DataTexture3D:SY,DataTextureLoader:xK,DataUtils:yY,DecrementStencilOp:qV,DecrementWrapStencilOp:tW,DefaultLoadingManager:Pd,DepthFormat:ic,DepthStencilFormat:Ju,DepthTexture:PN,DirectionalLight:ix,DirectionalLightHelper:aY,DiscreteInterpolant:qN,DodecahedronBufferGeometry:TY,DodecahedronGeometry:Gg,DoubleSide:Vs,DstAlphaFactor:D4,DstColorFactor:I4,DynamicCopyUsage:gW,DynamicDrawUsage:uW,DynamicReadUsage:hW,EdgesGeometry:zN,EllipseCurve:ex,EqualDepth:U4,EqualStencilFunc:sW,EquirectangularReflectionMapping:oh,EquirectangularRefractionMapping:Km,Euler:ss,EventDispatcher:tl,ExtrudeBufferGeometry:PY,ExtrudeGeometry:Hg,FileLoader:Vi,Float16BufferAttribute:YW,Float32BufferAttribute:qe,Float64BufferAttribute:QW,FloatType:Ba,Fog:Q_,FogExp2:Y_,FramebufferTexture:kJ,FrontSide:Wa,Frustum:$_,GLBufferAttribute:YK,GLSL1:yW,GLSL3:nM,GreaterDepth:G4,GreaterEqualDepth:z4,GreaterEqualStencilFunc:cW,GreaterStencilFunc:aW,GridHelper:sY,Group:go,HalfFloatType:lh,HemisphereLight:tU,HemisphereLightHelper:iY,HemisphereLightProbe:EK,IcosahedronBufferGeometry:RY,IcosahedronGeometry:Vg,ImageBitmapLoader:sU,ImageLoader:og,ImageUtils:DE,ImmediateRenderObject:_Y,IncrementStencilOp:ZV,IncrementWrapStencilOp:eW,InstancedBufferAttribute:Yu,InstancedBufferGeometry:e2,InstancedInterleavedBuffer:KK,InstancedMesh:OE,Int16BufferAttribute:JW,Int32BufferAttribute:KW,Int8BufferAttribute:jW,IntType:Q4,InterleavedBuffer:Fg,InterleavedBufferAttribute:hc,Interpolant:Bh,InterpolateDiscrete:ch,InterpolateLinear:Ku,InterpolateSmooth:Ky,InvertStencilOp:nW,KeepStencilOp:Yy,KeyframeTrack:To,LOD:IN,LatheBufferGeometry:DY,LatheGeometry:Ph,Layers:Iu,LessDepth:N4,LessEqualDepth:k1,LessEqualStencilFunc:oW,LessStencilFunc:iW,Light:Tc,LightProbe:sx,Line:ea,Line3:qK,LineBasicMaterial:Fr,LineCurve:tx,LineCurve3:NN,LineDashedMaterial:YN,LineLoop:FE,LineSegments:Co,LinearEncoding:dc,LinearFilter:dn,LinearInterpolant:KE,LinearMipMapLinearFilter:JV,LinearMipMapNearestFilter:XV,LinearMipmapLinearFilter:el,LinearMipmapNearestFilter:G_,LinearSRGBColorSpace:Vl,LinearToneMapping:j4,Loader:ri,LoaderUtils:ls,LoadingManager:QE,LoopOnce:uN,LoopPingPong:dN,LoopRepeat:fN,LuminanceAlphaFormat:rN,LuminanceFormat:nN,MOUSE:HV,Material:or,MaterialLoader:ox,MathUtils:Bi,Matrix3:Zr,Matrix4:Ze,MaxEquation:Lb,Mesh:Un,MeshBasicMaterial:ki,MeshDepthMaterial:J_,MeshDistanceMaterial:K_,MeshLambertMaterial:$E,MeshMatcapMaterial:KN,MeshNormalMaterial:JN,MeshPhongMaterial:pm,MeshPhysicalMaterial:Eo,MeshStandardMaterial:pc,MeshToonMaterial:XN,MinEquation:Ib,MirroredRepeatWrapping:ah,MixOperation:V4,MultiplyBlending:Bb,MultiplyOperation:Bg,NearestFilter:Qn,NearestMipMapLinearFilter:$V,NearestMipMapNearestFilter:jV,NearestMipmapLinearFilter:Qm,NearestMipmapNearestFilter:Ym,NeverDepth:O4,NeverStencilFunc:rW,NoBlending:Oa,NoColorSpace:KV,NoToneMapping:_o,NormalAnimationBlendMode:H_,NormalBlending:Pu,NotEqualDepth:H4,NotEqualStencilFunc:lW,NumberKeyframeTrack:Zu,Object3D:It,ObjectLoader:bK,ObjectSpaceNormalMap:mN,OctahedronBufferGeometry:BY,OctahedronGeometry:Rh,OneFactor:T4,OneMinusDstAlphaFactor:B4,OneMinusDstColorFactor:L4,OneMinusSrcAlphaFactor:bE,OneMinusSrcColorFactor:R4,OrthographicCamera:cf,PCFShadowMap:U_,PCFSoftShadowMap:um,PMREMGenerator:iM,Path:ng,PerspectiveCamera:ir,Plane:kl,PlaneBufferGeometry:IY,PlaneGeometry:il,PlaneHelper:fY,PointLight:ag,PointLightHelper:nY,Points:NE,PointsMaterial:q_,PolarGridHelper:oY,PolyhedronBufferGeometry:LY,PolyhedronGeometry:sl,PositionalAudio:IK,PropertyBinding:Bt,PropertyMixer:aU,QuadraticBezierCurve:HE,QuadraticBezierCurve3:VE,Quaternion:Rn,QuaternionKeyframeTrack:$a,QuaternionLinearInterpolant:eU,REVISION:Dg,RGBADepthPacking:PE,RGBAFormat:Di,RGBAIntegerFormat:lN,RGBA_ASTC_10x10_Format:Zb,RGBA_ASTC_10x5_Format:Kb,RGBA_ASTC_10x6_Format:Yb,RGBA_ASTC_10x8_Format:Qb,RGBA_ASTC_12x10_Format:qb,RGBA_ASTC_12x12_Format:eM,RGBA_ASTC_4x4_Format:Gb,RGBA_ASTC_5x4_Format:Hb,RGBA_ASTC_5x5_Format:Vb,RGBA_ASTC_6x5_Format:Wb,RGBA_ASTC_6x6_Format:jb,RGBA_ASTC_8x5_Format:$b,RGBA_ASTC_8x6_Format:Xb,RGBA_ASTC_8x8_Format:Jb,RGBA_BPTC_Format:tM,RGBA_ETC2_EAC_Format:zb,RGBA_PVRTC_2BPPV1_Format:Nb,RGBA_PVRTC_4BPPV1_Format:Fb,RGBA_S3TC_DXT1_Format:$y,RGBA_S3TC_DXT3_Format:Xy,RGBA_S3TC_DXT5_Format:Jy,RGBFormat:tN,RGB_ETC1_Format:cN,RGB_ETC2_Format:Ub,RGB_PVRTC_2BPPV1_Format:Ob,RGB_PVRTC_4BPPV1_Format:kb,RGB_S3TC_DXT1_Format:jy,RGFormat:oN,RGIntegerFormat:aN,RawShaderMaterial:$N,Ray:Lg,Raycaster:cU,RectAreaLight:nU,RedFormat:iN,RedIntegerFormat:sN,ReinhardToneMapping:$4,RepeatWrapping:qo,ReplaceStencilOp:QV,ReverseSubtractEquation:C4,RingBufferGeometry:kY,RingGeometry:Wg,SRGBColorSpace:Vo,Scene:U1,ShaderChunk:bt,ShaderLib:mo,ShaderMaterial:bo,ShadowMaterial:jN,Shape:Lu,ShapeBufferGeometry:OY,ShapeGeometry:jg,ShapePath:pY,ShapeUtils:Ko,ShortType:Y4,Skeleton:Th,SkeletonHelper:tY,SkinnedMesh:Z_,Source:wu,Sphere:rl,SphereBufferGeometry:FY,SphereGeometry:Dh,Spherical:uU,SphericalHarmonics3:rU,SplineCurve:WE,SpotLight:rx,SpotLightHelper:eY,Sprite:BN,SpriteMaterial:kE,SrcAlphaFactor:AE,SrcAlphaSaturateFactor:k4,SrcColorFactor:P4,StaticCopyUsage:mW,StaticDrawUsage:qm,StaticReadUsage:dW,StereoCamera:PK,StreamCopyUsage:vW,StreamDrawUsage:fW,StreamReadUsage:pW,StringKeyframeTrack:df,SubtractEquation:M4,SubtractiveBlending:Db,TOUCH:VV,TangentSpaceNormalMap:Cc,TetrahedronBufferGeometry:NY,TetrahedronGeometry:$g,Texture:mn,TextureLoader:Ih,TorusBufferGeometry:UY,TorusGeometry:Xg,TorusKnotBufferGeometry:zY,TorusKnotGeometry:Jg,Triangle:zs,TriangleFanDrawMode:O1,TriangleStripDrawMode:TE,TrianglesDrawMode:hN,TubeBufferGeometry:GY,TubeGeometry:Kg,UVMapping:z_,Uint16BufferAttribute:W_,Uint32BufferAttribute:BE,Uint8BufferAttribute:$W,Uint8ClampedBufferAttribute:XW,Uniform:s2,UniformsGroup:JK,UniformsLib:Je,UniformsUtils:j_,UnsignedByteType:ja,UnsignedInt248Type:Ru,UnsignedIntType:Hl,UnsignedShort4444Type:Z4,UnsignedShort5551Type:q4,UnsignedShortType:CE,VSMShadowMap:yu,Vector2:De,Vector3:$,Vector4:Pt,VectorKeyframeTrack:qu,VideoTexture:LN,WebGL1Renderer:RN,WebGL3DRenderTarget:kW,WebGLArrayRenderTarget:LW,WebGLCubeRenderTarget:wN,WebGLMultipleRenderTargets:OW,WebGLMultisampleRenderTarget:xY,WebGLRenderTarget:Qs,WebGLRenderer:LE,WebGLUtils:EN,WireframeGeometry:WN,WrapAroundEnding:Zm,ZeroCurvatureEnding:_u,ZeroFactor:E4,ZeroSlopeEnding:xu,ZeroStencilOp:YV,_SRGBAFormat:F1,sRGBEncoding:yn},Symbol.toStringTag,{value:"Module"}));var Wl={},VY={get exports(){return Wl},set exports(n){Wl=n}},hf={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */hf.ConcurrentRoot=1;hf.ContinuousEventPriority=4;hf.DefaultEventPriority=16;hf.DiscreteEventPriority=1;hf.IdleEventPriority=536870912;hf.LegacyRoot=0;(function(n){n.exports=hf})(VY);function WY(n){let e;const t=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const d=e;e=u?f:Object.assign({},e,f),t.forEach(p=>p(e,d))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=u(e);function p(){const g=u(e);if(!f(d,g)){const v=d;c(d=g,v)}}return t.add(p),()=>t.delete(p)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const jY=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),RD=jY?B.useEffect:B.useLayoutEffect;function o2(n){const e=typeof n=="function"?WY(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=B.useReducer(y=>y+1,0),o=e.getState(),a=B.useRef(o),l=B.useRef(r),c=B.useRef(i),u=B.useRef(!1),f=B.useRef();f.current===void 0&&(f.current=r(o));let d,p=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(d=r(o),p=!i(f.current,d)),RD(()=>{p&&(f.current=d),a.current=o,l.current=r,c.current=i,u.current=!1});const g=B.useRef(o);RD(()=>{const y=()=>{try{const _=e.getState(),w=l.current(_);c.current(f.current,w)||(a.current=_,f.current=w,s())}catch{u.current=!0,s()}},x=e.subscribe(y);return e.getState()!==g.current&&y(),x},[]);const v=p?d:f.current;return B.useDebugValue(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var fM={},$Y={get exports(){return fM},set exports(n){fM=n}},lg={},XY={get exports(){return lg},set exports(n){lg=n}},dU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(z,U){var V=z.length;z.push(U);e:for(;0<V;){var G=V-1>>>1,X=z[G];if(0<i(X,U))z[G]=U,z[V]=X,V=G;else break e}}function t(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var U=z[0],V=z.pop();if(V!==U){z[0]=V;e:for(var G=0,X=z.length,te=X>>>1;G<te;){var re=2*(G+1)-1,se=z[re],q=re+1,oe=z[q];if(0>i(se,V))q<X&&0>i(oe,se)?(z[G]=oe,z[q]=V,G=q):(z[G]=se,z[re]=V,G=re);else if(q<X&&0>i(oe,V))z[G]=oe,z[q]=V,G=q;else break e}}return U}function i(z,U){var V=z.sortIndex-U.sortIndex;return V!==0?V:z.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,d=3,p=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var U=t(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=z)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=t(c)}}function A(z){if(v=!1,w(z),!g)if(t(l)!==null)g=!0,W(M);else{var U=t(c);U!==null&&Y(A,U.startTime-z)}}function M(z,U){g=!1,v&&(v=!1,x(C),C=-1),p=!0;var V=d;try{for(w(U),f=t(l);f!==null&&(!(f.expirationTime>U)||z&&!L());){var G=f.callback;if(typeof G=="function"){f.callback=null,d=f.priorityLevel;var X=G(f.expirationTime<=U);U=n.unstable_now(),typeof X=="function"?f.callback=X:f===t(l)&&r(l),w(U)}else r(l);f=t(l)}if(f!==null)var te=!0;else{var re=t(c);re!==null&&Y(A,re.startTime-U),te=!1}return te}finally{f=null,d=V,p=!1}}var E=!1,R=null,C=-1,T=5,D=-1;function L(){return!(n.unstable_now()-D<T)}function F(){if(R!==null){var z=n.unstable_now();D=z;var U=!0;try{U=R(!0,z)}finally{U?N():(E=!1,R=null)}}else E=!1}var N;if(typeof _=="function")N=function(){_(F)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,H=k.port2;k.port1.onmessage=F,N=function(){H.postMessage(null)}}else N=function(){y(F,0)};function W(z){R=z,E||(E=!0,N())}function Y(z,U){C=y(function(){z(n.unstable_now())},U)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,W(M))},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(z){switch(d){case 1:case 2:case 3:var U=3;break;default:U=d}var V=d;d=U;try{return z()}finally{d=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(z,U){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var V=d;d=z;try{return U()}finally{d=V}},n.unstable_scheduleCallback=function(z,U,V){var G=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,z){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=V+X,z={id:u++,callback:U,priorityLevel:z,startTime:V,expirationTime:X,sortIndex:-1},V>G?(z.sortIndex=V,e(c,z),t(l)===null&&z===t(c)&&(v?(x(C),C=-1):v=!0,Y(A,V-G))):(z.sortIndex=X,e(l,z),g||p||(g=!0,W(M))),z},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(z){var U=d;return function(){var V=d;d=U;try{return z.apply(this,arguments)}finally{d=V}}}})(dU);(function(n){n.exports=dU})(XY);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JY=function(e){var t={},r=B,i=lg,s=Object.assign;function o(h){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+h,S=1;S<arguments.length;S++)m+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),M=Symbol.iterator;function E(h){return h===null||typeof h!="object"?null:(h=M&&h[M]||h["@@iterator"],typeof h=="function"?h:null)}function R(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case u:return"Fragment";case c:return"Portal";case d:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case x:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case g:return(h.displayName||"Context")+".Consumer";case p:return(h._context.displayName||"Context")+".Provider";case v:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case _:return m=h.displayName||null,m!==null?m:R(h.type)||"Memo";case w:m=h._payload,h=h._init;try{return R(h(m))}catch{}}return null}function C(h){var m=h.type;switch(h.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=m.render,h=h.displayName||h.name||"",m.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(m);case 8:return m===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function T(h){var m=h,S=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,m.flags&4098&&(S=m.return),h=m.return;while(h)}return m.tag===3?S:null}function D(h){if(T(h)!==h)throw Error(o(188))}function L(h){var m=h.alternate;if(!m){if(m=T(h),m===null)throw Error(o(188));return m!==h?null:h}for(var S=h,b=m;;){var P=S.return;if(P===null)break;var I=P.alternate;if(I===null){if(b=P.return,b!==null){S=b;continue}break}if(P.child===I.child){for(I=P.child;I;){if(I===S)return D(P),h;if(I===b)return D(P),m;I=I.sibling}throw Error(o(188))}if(S.return!==b.return)S=P,b=I;else{for(var K=!1,ie=P.child;ie;){if(ie===S){K=!0,S=P,b=I;break}if(ie===b){K=!0,b=P,S=I;break}ie=ie.sibling}if(!K){for(ie=I.child;ie;){if(ie===S){K=!0,S=I,b=P;break}if(ie===b){K=!0,b=I,S=P;break}ie=ie.sibling}if(!K)throw Error(o(189))}}if(S.alternate!==b)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?h:m}function F(h){return h=L(h),h!==null?N(h):null}function N(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var m=N(h);if(m!==null)return m;h=h.sibling}return null}function k(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var m=k(h);if(m!==null)return m}h=h.sibling}return null}var H=Array.isArray,W=e.getPublicInstance,Y=e.getRootHostContext,z=e.getChildHostContext,U=e.prepareForCommit,V=e.resetAfterCommit,G=e.createInstance,X=e.appendInitialChild,te=e.finalizeInitialChildren,re=e.prepareUpdate,se=e.shouldSetTextContent,q=e.createTextInstance,oe=e.scheduleTimeout,de=e.cancelTimeout,Te=e.noTimeout,ye=e.isPrimaryRenderer,Se=e.supportsMutation,ne=e.supportsPersistence,le=e.supportsHydration,Me=e.getInstanceFromNode,Pe=e.preparePortalMount,Ae=e.getCurrentEventPriority,je=e.detachDeletedInstance,we=e.supportsMicrotasks,Le=e.scheduleMicrotask,Oe=e.supportsTestSelectors,xe=e.findFiberRoot,j=e.getBoundingRect,O=e.getTextContent,Z=e.isHiddenSubtree,fe=e.matchAccessibilityRole,Ce=e.setFocusIfFocusable,Re=e.setupIntersectionObserver,Fe=e.appendChild,Be=e.appendChildToContainer,ge=e.commitTextUpdate,We=e.commitMount,Ne=e.commitUpdate,ze=e.insertBefore,Ue=e.insertInContainerBefore,Ie=e.removeChild,$e=e.removeChildFromContainer,st=e.resetTextContent,vt=e.hideInstance,ee=e.hideTextInstance,me=e.unhideInstance,ke=e.unhideTextInstance,Xe=e.clearContainer,tt=e.cloneInstance,xt=e.createContainerChildSet,zt=e.appendChildToContainerChildSet,$t=e.finalizeContainerChildren,Vt=e.replaceContainerChildren,Wt=e.cloneHiddenInstance,Gt=e.cloneHiddenTextInstance,Lt=e.canHydrateInstance,Nr=e.canHydrateTextInstance,Er=e.canHydrateSuspenseInstance,Xt=e.isSuspenseInstancePending,Sn=e.isSuspenseInstanceFallback,J=e.registerSuspenseInstanceRetry,ue=e.getNextHydratableSibling,ve=e.getFirstHydratableChild,ce=e.getFirstHydratableChildWithinContainer,Ee=e.getFirstHydratableChildWithinSuspenseInstance,nt=e.hydrateInstance,lt=e.hydrateTextInstance,wt=e.hydrateSuspenseInstance,mt=e.getNextHydratableInstanceAfterSuspenseInstance,Rt=e.commitHydratedContainer,St=e.commitHydratedSuspenseInstance,kt=e.clearSuspenseBoundary,nn=e.clearSuspenseBoundaryFromContainer,Ai=e.shouldDeleteUnhydratedTailInstances,vs=e.didNotMatchHydratedContainerTextInstance,ys=e.didNotMatchHydratedTextInstance,Qe;function At(h){if(Qe===void 0)try{throw Error()}catch(S){var m=S.stack.trim().match(/\n( *(at )?)/);Qe=m&&m[1]||""}return`
`+Qe+h}var _s=!1;function Zt(h,m){if(!h||_s)return"";_s=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Ve){var b=Ve}Reflect.construct(h,[],m)}else{try{m.call()}catch(Ve){b=Ve}h.call(m.prototype)}else{try{throw Error()}catch(Ve){b=Ve}h()}}catch(Ve){if(Ve&&b&&typeof Ve.stack=="string"){for(var P=Ve.stack.split(`
`),I=b.stack.split(`
`),K=P.length-1,ie=I.length-1;1<=K&&0<=ie&&P[K]!==I[ie];)ie--;for(;1<=K&&0<=ie;K--,ie--)if(P[K]!==I[ie]){if(K!==1||ie!==1)do if(K--,ie--,0>ie||P[K]!==I[ie]){var be=`
`+P[K].replace(" at new "," at ");return h.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",h.displayName)),be}while(1<=K&&0<=ie);break}}}finally{_s=!1,Error.prepareStackTrace=S}return(h=h?h.displayName||h.name:"")?At(h):""}var Tr=Object.prototype.hasOwnProperty,Ur=[],Pr=-1;function Rr(h){return{current:h}}function gt(h){0>Pr||(h.current=Ur[Pr],Ur[Pr]=null,Pr--)}function Et(h,m){Pr++,Ur[Pr]=h.current,h.current=m}var si={},Ht=Rr(si),Vn=Rr(!1),oi=si;function ji(h,m){var S=h.type.contextTypes;if(!S)return si;var b=h.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===m)return b.__reactInternalMemoizedMaskedChildContext;var P={},I;for(I in S)P[I]=m[I];return b&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=m,h.__reactInternalMemoizedMaskedChildContext=P),P}function Wn(h){return h=h.childContextTypes,h!=null}function ll(){gt(Vn),gt(Ht)}function yf(h,m,S){if(Ht.current!==si)throw Error(o(168));Et(Ht,m),Et(Vn,S)}function _f(h,m,S){var b=h.stateNode;if(m=m.childContextTypes,typeof b.getChildContext!="function")return S;b=b.getChildContext();for(var P in b)if(!(P in m))throw Error(o(108,C(h)||"Unknown",P));return s({},S,b)}function Do(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||si,oi=Ht.current,Et(Ht,h),Et(Vn,Vn.current),!0}function p0(h,m,S){var b=h.stateNode;if(!b)throw Error(o(169));S?(h=_f(h,m,oi),b.__reactInternalMemoizedMergedChildContext=h,gt(Vn),gt(Ht),Et(Ht,h)):gt(Vn),Et(Vn,S)}var zr=Math.clz32?Math.clz32:m0,xf=Math.log,Bc=Math.LN2;function m0(h){return h>>>=0,h===0?32:31-(xf(h)/Bc|0)|0}var sa=64,oa=4194304;function aa(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Ic(h,m){var S=h.pendingLanes;if(S===0)return 0;var b=0,P=h.suspendedLanes,I=h.pingedLanes,K=S&268435455;if(K!==0){var ie=K&~P;ie!==0?b=aa(ie):(I&=K,I!==0&&(b=aa(I)))}else K=S&~P,K!==0?b=aa(K):I!==0&&(b=aa(I));if(b===0)return 0;if(m!==0&&m!==b&&!(m&P)&&(P=b&-b,I=m&-m,P>=I||P===16&&(I&4194240)!==0))return m;if(b&4&&(b|=S&16),m=h.entangledLanes,m!==0)for(h=h.entanglements,m&=b;0<m;)S=31-zr(m),P=1<<S,b|=h[S],m&=~P;return b}function g0(h,m){switch(h){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vh(h,m){for(var S=h.suspendedLanes,b=h.pingedLanes,P=h.expirationTimes,I=h.pendingLanes;0<I;){var K=31-zr(I),ie=1<<K,be=P[K];be===-1?(!(ie&S)||ie&b)&&(P[K]=g0(ie,m)):be<=m&&(h.expiredLanes|=ie),I&=~ie}}function la(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function wf(h){for(var m=[],S=0;31>S;S++)m.push(h);return m}function Bo(h,m,S){h.pendingLanes|=m,m!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,m=31-zr(m),h[m]=S}function cl(h,m){var S=h.pendingLanes&~m;h.pendingLanes=m,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=m,h.mutableReadLanes&=m,h.entangledLanes&=m,m=h.entanglements;var b=h.eventTimes;for(h=h.expirationTimes;0<S;){var P=31-zr(S),I=1<<P;m[P]=0,b[P]=-1,h[P]=-1,S&=~I}}function Io(h,m){var S=h.entangledLanes|=m;for(h=h.entanglements;S;){var b=31-zr(S),P=1<<b;P&m|h[b]&m&&(h[b]|=m),S&=~P}}var Dt=0;function Wh(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var ca=i.unstable_scheduleCallback,Sf=i.unstable_cancelCallback,jh=i.unstable_shouldYield,v0=i.unstable_requestPaint,gn=i.unstable_now,ul=i.unstable_ImmediatePriority,y0=i.unstable_UserBlockingPriority,ai=i.unstable_NormalPriority,$h=i.unstable_IdlePriority,fl=null,$i=null;function Xh(h){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(fl,h,void 0,(h.current.flags&128)===128)}catch{}}function Af(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var Xi=typeof Object.is=="function"?Object.is:Af,li=null,Lo=!1,xs=!1;function Jh(h){li===null?li=[h]:li.push(h)}function Kh(h){Lo=!0,Jh(h)}function bi(){if(!xs&&li!==null){xs=!0;var h=0,m=Dt;try{var S=li;for(Dt=1;h<S.length;h++){var b=S[h];do b=b(!0);while(b!==null)}li=null,Lo=!1}catch(P){throw li!==null&&(li=li.slice(h+1)),ca(ul,bi),P}finally{Dt=m,xs=!1}}return null}var Lc=a.ReactCurrentBatchConfig;function kc(h,m){if(Xi(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var S=Object.keys(h),b=Object.keys(m);if(S.length!==b.length)return!1;for(b=0;b<S.length;b++){var P=S[b];if(!Tr.call(m,P)||!Xi(h[P],m[P]))return!1}return!0}function Oc(h){switch(h.tag){case 5:return At(h.type);case 16:return At("Lazy");case 13:return At("Suspense");case 19:return At("SuspenseList");case 0:case 2:case 15:return h=Zt(h.type,!1),h;case 11:return h=Zt(h.type.render,!1),h;case 1:return h=Zt(h.type,!0),h;default:return""}}function Gr(h,m){if(h&&h.defaultProps){m=s({},m),h=h.defaultProps;for(var S in h)m[S]===void 0&&(m[S]=h[S]);return m}return m}var yr=Rr(null),bf=null,no=null,dl=null;function Mf(){dl=no=bf=null}function _0(h,m,S){ye?(Et(yr,m._currentValue),m._currentValue=S):(Et(yr,m._currentValue2),m._currentValue2=S)}function ko(h){var m=yr.current;gt(yr),ye?h._currentValue=m:h._currentValue2=m}function qn(h,m,S){for(;h!==null;){var b=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,b!==null&&(b.childLanes|=m)):b!==null&&(b.childLanes&m)!==m&&(b.childLanes|=m),h===S)break;h=h.return}}function _r(h,m){bf=h,dl=no=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&m&&(Yi=!0),h.firstContext=null)}function rn(h){var m=ye?h._currentValue:h._currentValue2;if(dl!==h)if(h={context:h,memoizedValue:m,next:null},no===null){if(bf===null)throw Error(o(308));no=h,bf.dependencies={lanes:0,firstContext:h}}else no=no.next=h;return m}var cr=null,ro=!1;function Tx(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TT(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function ua(h,m){return{eventTime:h,lane:m,tag:0,payload:null,callback:null,next:null}}function hl(h,m){var S=h.updateQueue;S!==null&&(S=S.shared,er!==null&&h.mode&1&&!(Tt&2)?(h=S.interleaved,h===null?(m.next=m,cr===null?cr=[S]:cr.push(S)):(m.next=h.next,h.next=m),S.interleaved=m):(h=S.pending,h===null?m.next=m:(m.next=h.next,h.next=m),S.pending=m))}function x0(h,m,S){if(m=m.updateQueue,m!==null&&(m=m.shared,(S&4194240)!==0)){var b=m.lanes;b&=h.pendingLanes,S|=b,m.lanes=S,Io(h,S)}}function PT(h,m){var S=h.updateQueue,b=h.alternate;if(b!==null&&(b=b.updateQueue,S===b)){var P=null,I=null;if(S=S.firstBaseUpdate,S!==null){do{var K={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};I===null?P=I=K:I=I.next=K,S=S.next}while(S!==null);I===null?P=I=m:I=I.next=m}else P=I=m;S={baseState:b.baseState,firstBaseUpdate:P,lastBaseUpdate:I,shared:b.shared,effects:b.effects},h.updateQueue=S;return}h=S.lastBaseUpdate,h===null?S.firstBaseUpdate=m:h.next=m,S.lastBaseUpdate=m}function w0(h,m,S,b){var P=h.updateQueue;ro=!1;var I=P.firstBaseUpdate,K=P.lastBaseUpdate,ie=P.shared.pending;if(ie!==null){P.shared.pending=null;var be=ie,Ve=be.next;be.next=null,K===null?I=Ve:K.next=Ve,K=be;var rt=h.alternate;rt!==null&&(rt=rt.updateQueue,ie=rt.lastBaseUpdate,ie!==K&&(ie===null?rt.firstBaseUpdate=Ve:ie.next=Ve,rt.lastBaseUpdate=be))}if(I!==null){var yt=P.baseState;K=0,rt=Ve=be=null,ie=I;do{var ct=ie.lane,sn=ie.eventTime;if((b&ct)===ct){rt!==null&&(rt=rt.next={eventTime:sn,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var at=h,jr=ie;switch(ct=m,sn=S,jr.tag){case 1:if(at=jr.payload,typeof at=="function"){yt=at.call(sn,yt,ct);break e}yt=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=jr.payload,ct=typeof at=="function"?at.call(sn,yt,ct):at,ct==null)break e;yt=s({},yt,ct);break e;case 2:ro=!0}}ie.callback!==null&&ie.lane!==0&&(h.flags|=64,ct=P.effects,ct===null?P.effects=[ie]:ct.push(ie))}else sn={eventTime:sn,lane:ct,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},rt===null?(Ve=rt=sn,be=yt):rt=rt.next=sn,K|=ct;if(ie=ie.next,ie===null){if(ie=P.shared.pending,ie===null)break;ct=ie,ie=ct.next,ct.next=null,P.lastBaseUpdate=ct,P.shared.pending=null}}while(1);if(rt===null&&(be=yt),P.baseState=be,P.firstBaseUpdate=Ve,P.lastBaseUpdate=rt,m=P.shared.interleaved,m!==null){P=m;do K|=P.lane,P=P.next;while(P!==m)}else I===null&&(P.shared.lanes=0);Lf|=K,h.lanes=K,h.memoizedState=yt}}function RT(h,m,S){if(h=m.effects,m.effects=null,h!==null)for(m=0;m<h.length;m++){var b=h[m],P=b.callback;if(P!==null){if(b.callback=null,b=S,typeof P!="function")throw Error(o(191,P));P.call(b)}}}var DT=new r.Component().refs;function Px(h,m,S,b){m=h.memoizedState,S=S(b,m),S=S==null?m:s({},m,S),h.memoizedState=S,h.lanes===0&&(h.updateQueue.baseState=S)}var S0={isMounted:function(h){return(h=h._reactInternals)?T(h)===h:!1},enqueueSetState:function(h,m,S){h=h._reactInternals;var b=ui(),P=gl(h),I=ua(b,P);I.payload=m,S!=null&&(I.callback=S),hl(h,I),m=Ms(h,P,b),m!==null&&x0(m,h,P)},enqueueReplaceState:function(h,m,S){h=h._reactInternals;var b=ui(),P=gl(h),I=ua(b,P);I.tag=1,I.payload=m,S!=null&&(I.callback=S),hl(h,I),m=Ms(h,P,b),m!==null&&x0(m,h,P)},enqueueForceUpdate:function(h,m){h=h._reactInternals;var S=ui(),b=gl(h),P=ua(S,b);P.tag=2,m!=null&&(P.callback=m),hl(h,P),m=Ms(h,b,S),m!==null&&x0(m,h,b)}};function BT(h,m,S,b,P,I,K){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(b,I,K):m.prototype&&m.prototype.isPureReactComponent?!kc(S,b)||!kc(P,I):!0}function IT(h,m,S){var b=!1,P=si,I=m.contextType;return typeof I=="object"&&I!==null?I=rn(I):(P=Wn(m)?oi:Ht.current,b=m.contextTypes,I=(b=b!=null)?ji(h,P):si),m=new m(S,I),h.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=S0,h.stateNode=m,m._reactInternals=h,b&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=P,h.__reactInternalMemoizedMaskedChildContext=I),m}function LT(h,m,S,b){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(S,b),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(S,b),m.state!==h&&S0.enqueueReplaceState(m,m.state,null)}function Rx(h,m,S,b){var P=h.stateNode;P.props=S,P.state=h.memoizedState,P.refs=DT,Tx(h);var I=m.contextType;typeof I=="object"&&I!==null?P.context=rn(I):(I=Wn(m)?oi:Ht.current,P.context=ji(h,I)),P.state=h.memoizedState,I=m.getDerivedStateFromProps,typeof I=="function"&&(Px(h,m,I,S),P.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(m=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),m!==P.state&&S0.enqueueReplaceState(P,P.state,null),w0(h,S,P,b),P.state=h.memoizedState),typeof P.componentDidMount=="function"&&(h.flags|=4194308)}var Cf=[],Ef=0,A0=null,b0=0,ws=[],Ss=0,Fc=null,fa=1,da="";function Nc(h,m){Cf[Ef++]=b0,Cf[Ef++]=A0,A0=h,b0=m}function kT(h,m,S){ws[Ss++]=fa,ws[Ss++]=da,ws[Ss++]=Fc,Fc=h;var b=fa;h=da;var P=32-zr(b)-1;b&=~(1<<P),S+=1;var I=32-zr(m)+P;if(30<I){var K=P-P%5;I=(b&(1<<K)-1).toString(32),b>>=K,P-=K,fa=1<<32-zr(m)+P|S<<P|b,da=I+h}else fa=1<<I|S<<P|b,da=h}function Dx(h){h.return!==null&&(Nc(h,1),kT(h,1,0))}function Bx(h){for(;h===A0;)A0=Cf[--Ef],Cf[Ef]=null,b0=Cf[--Ef],Cf[Ef]=null;for(;h===Fc;)Fc=ws[--Ss],ws[Ss]=null,da=ws[--Ss],ws[Ss]=null,fa=ws[--Ss],ws[Ss]=null}var Ji=null,Ki=null,vn=!1,Yh=!1,io=null;function OT(h,m){var S=Cs(5,null,null,0);S.elementType="DELETED",S.stateNode=m,S.return=h,m=h.deletions,m===null?(h.deletions=[S],h.flags|=16):m.push(S)}function FT(h,m){switch(h.tag){case 5:return m=Lt(m,h.type,h.pendingProps),m!==null?(h.stateNode=m,Ji=h,Ki=ve(m),!0):!1;case 6:return m=Nr(m,h.pendingProps),m!==null?(h.stateNode=m,Ji=h,Ki=null,!0):!1;case 13:if(m=Er(m),m!==null){var S=Fc!==null?{id:fa,overflow:da}:null;return h.memoizedState={dehydrated:m,treeContext:S,retryLane:1073741824},S=Cs(18,null,null,0),S.stateNode=m,S.return=h,h.child=S,Ji=h,Ki=null,!0}return!1;default:return!1}}function Ix(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Lx(h){if(vn){var m=Ki;if(m){var S=m;if(!FT(h,m)){if(Ix(h))throw Error(o(418));m=ue(S);var b=Ji;m&&FT(h,m)?OT(b,S):(h.flags=h.flags&-4097|2,vn=!1,Ji=h)}}else{if(Ix(h))throw Error(o(418));h.flags=h.flags&-4097|2,vn=!1,Ji=h}}}function NT(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Ji=h}function Qh(h){if(!le||h!==Ji)return!1;if(!vn)return NT(h),vn=!0,!1;if(h.tag!==3&&(h.tag!==5||Ai(h.type)&&!se(h.type,h.memoizedProps))){var m=Ki;if(m){if(Ix(h)){for(h=Ki;h;)h=ue(h);throw Error(o(418))}for(;m;)OT(h,m),m=ue(m)}}if(NT(h),h.tag===13){if(!le)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));Ki=mt(h)}else Ki=Ji?ue(h.stateNode):null;return!0}function Tf(){le&&(Ki=Ji=null,Yh=vn=!1)}function kx(h){io===null?io=[h]:io.push(h)}function Zh(h,m,S){if(h=S.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var b=S.stateNode}if(!b)throw Error(o(147,h));var P=b,I=""+h;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===I?m.ref:(m=function(K){var ie=P.refs;ie===DT&&(ie=P.refs={}),K===null?delete ie[I]:ie[I]=K},m._stringRef=I,m)}if(typeof h!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,h))}return h}function M0(h,m){throw h=Object.prototype.toString.call(m),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h))}function UT(h){var m=h._init;return m(h._payload)}function zT(h){function m(he,ae){if(h){var _e=he.deletions;_e===null?(he.deletions=[ae],he.flags|=16):_e.push(ae)}}function S(he,ae){if(!h)return null;for(;ae!==null;)m(he,ae),ae=ae.sibling;return null}function b(he,ae){for(he=new Map;ae!==null;)ae.key!==null?he.set(ae.key,ae):he.set(ae.index,ae),ae=ae.sibling;return he}function P(he,ae){return he=yl(he,ae),he.index=0,he.sibling=null,he}function I(he,ae,_e){return he.index=_e,h?(_e=he.alternate,_e!==null?(_e=_e.index,_e<ae?(he.flags|=2,ae):_e):(he.flags|=2,ae)):(he.flags|=1048576,ae)}function K(he){return h&&he.alternate===null&&(he.flags|=2),he}function ie(he,ae,_e,Ye){return ae===null||ae.tag!==6?(ae=yw(_e,he.mode,Ye),ae.return=he,ae):(ae=P(ae,_e),ae.return=he,ae)}function be(he,ae,_e,Ye){var ot=_e.type;return ot===u?rt(he,ae,_e.props.children,Ye,_e.key):ae!==null&&(ae.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===w&&UT(ot)===ae.type)?(Ye=P(ae,_e.props),Ye.ref=Zh(he,ae,_e),Ye.return=he,Ye):(Ye=nv(_e.type,_e.key,_e.props,null,he.mode,Ye),Ye.ref=Zh(he,ae,_e),Ye.return=he,Ye)}function Ve(he,ae,_e,Ye){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==_e.containerInfo||ae.stateNode.implementation!==_e.implementation?(ae=_w(_e,he.mode,Ye),ae.return=he,ae):(ae=P(ae,_e.children||[]),ae.return=he,ae)}function rt(he,ae,_e,Ye,ot){return ae===null||ae.tag!==7?(ae=jc(_e,he.mode,Ye,ot),ae.return=he,ae):(ae=P(ae,_e),ae.return=he,ae)}function yt(he,ae,_e){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=yw(""+ae,he.mode,_e),ae.return=he,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case l:return _e=nv(ae.type,ae.key,ae.props,null,he.mode,_e),_e.ref=Zh(he,null,ae),_e.return=he,_e;case c:return ae=_w(ae,he.mode,_e),ae.return=he,ae;case w:var Ye=ae._init;return yt(he,Ye(ae._payload),_e)}if(H(ae)||E(ae))return ae=jc(ae,he.mode,_e,null),ae.return=he,ae;M0(he,ae)}return null}function ct(he,ae,_e,Ye){var ot=ae!==null?ae.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number")return ot!==null?null:ie(he,ae,""+_e,Ye);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case l:return _e.key===ot?be(he,ae,_e,Ye):null;case c:return _e.key===ot?Ve(he,ae,_e,Ye):null;case w:return ot=_e._init,ct(he,ae,ot(_e._payload),Ye)}if(H(_e)||E(_e))return ot!==null?null:rt(he,ae,_e,Ye,null);M0(he,_e)}return null}function sn(he,ae,_e,Ye,ot){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number")return he=he.get(_e)||null,ie(ae,he,""+Ye,ot);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case l:return he=he.get(Ye.key===null?_e:Ye.key)||null,be(ae,he,Ye,ot);case c:return he=he.get(Ye.key===null?_e:Ye.key)||null,Ve(ae,he,Ye,ot);case w:var Mt=Ye._init;return sn(he,ae,_e,Mt(Ye._payload),ot)}if(H(Ye)||E(Ye))return he=he.get(_e)||null,rt(ae,he,Ye,ot,null);M0(ae,Ye)}return null}function at(he,ae,_e,Ye){for(var ot=null,Mt=null,_t=ae,Jt=ae=0,wr=null;_t!==null&&Jt<_e.length;Jt++){_t.index>Jt?(wr=_t,_t=null):wr=_t.sibling;var Kt=ct(he,_t,_e[Jt],Ye);if(Kt===null){_t===null&&(_t=wr);break}h&&_t&&Kt.alternate===null&&m(he,_t),ae=I(Kt,ae,Jt),Mt===null?ot=Kt:Mt.sibling=Kt,Mt=Kt,_t=wr}if(Jt===_e.length)return S(he,_t),vn&&Nc(he,Jt),ot;if(_t===null){for(;Jt<_e.length;Jt++)_t=yt(he,_e[Jt],Ye),_t!==null&&(ae=I(_t,ae,Jt),Mt===null?ot=_t:Mt.sibling=_t,Mt=_t);return vn&&Nc(he,Jt),ot}for(_t=b(he,_t);Jt<_e.length;Jt++)wr=sn(_t,he,Jt,_e[Jt],Ye),wr!==null&&(h&&wr.alternate!==null&&_t.delete(wr.key===null?Jt:wr.key),ae=I(wr,ae,Jt),Mt===null?ot=wr:Mt.sibling=wr,Mt=wr);return h&&_t.forEach(function(_l){return m(he,_l)}),vn&&Nc(he,Jt),ot}function jr(he,ae,_e,Ye){var ot=E(_e);if(typeof ot!="function")throw Error(o(150));if(_e=ot.call(_e),_e==null)throw Error(o(151));for(var Mt=ot=null,_t=ae,Jt=ae=0,wr=null,Kt=_e.next();_t!==null&&!Kt.done;Jt++,Kt=_e.next()){_t.index>Jt?(wr=_t,_t=null):wr=_t.sibling;var _l=ct(he,_t,Kt.value,Ye);if(_l===null){_t===null&&(_t=wr);break}h&&_t&&_l.alternate===null&&m(he,_t),ae=I(_l,ae,Jt),Mt===null?ot=_l:Mt.sibling=_l,Mt=_l,_t=wr}if(Kt.done)return S(he,_t),vn&&Nc(he,Jt),ot;if(_t===null){for(;!Kt.done;Jt++,Kt=_e.next())Kt=yt(he,Kt.value,Ye),Kt!==null&&(ae=I(Kt,ae,Jt),Mt===null?ot=Kt:Mt.sibling=Kt,Mt=Kt);return vn&&Nc(he,Jt),ot}for(_t=b(he,_t);!Kt.done;Jt++,Kt=_e.next())Kt=sn(_t,he,Jt,Kt.value,Ye),Kt!==null&&(h&&Kt.alternate!==null&&_t.delete(Kt.key===null?Jt:Kt.key),ae=I(Kt,ae,Jt),Mt===null?ot=Kt:Mt.sibling=Kt,Mt=Kt);return h&&_t.forEach(function(d9){return m(he,d9)}),vn&&Nc(he,Jt),ot}function Es(he,ae,_e,Ye){if(typeof _e=="object"&&_e!==null&&_e.type===u&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case l:e:{for(var ot=_e.key,Mt=ae;Mt!==null;){if(Mt.key===ot){if(ot=_e.type,ot===u){if(Mt.tag===7){S(he,Mt.sibling),ae=P(Mt,_e.props.children),ae.return=he,he=ae;break e}}else if(Mt.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===w&&UT(ot)===Mt.type){S(he,Mt.sibling),ae=P(Mt,_e.props),ae.ref=Zh(he,Mt,_e),ae.return=he,he=ae;break e}S(he,Mt);break}else m(he,Mt);Mt=Mt.sibling}_e.type===u?(ae=jc(_e.props.children,he.mode,Ye,_e.key),ae.return=he,he=ae):(Ye=nv(_e.type,_e.key,_e.props,null,he.mode,Ye),Ye.ref=Zh(he,ae,_e),Ye.return=he,he=Ye)}return K(he);case c:e:{for(Mt=_e.key;ae!==null;){if(ae.key===Mt)if(ae.tag===4&&ae.stateNode.containerInfo===_e.containerInfo&&ae.stateNode.implementation===_e.implementation){S(he,ae.sibling),ae=P(ae,_e.children||[]),ae.return=he,he=ae;break e}else{S(he,ae);break}else m(he,ae);ae=ae.sibling}ae=_w(_e,he.mode,Ye),ae.return=he,he=ae}return K(he);case w:return Mt=_e._init,Es(he,ae,Mt(_e._payload),Ye)}if(H(_e))return at(he,ae,_e,Ye);if(E(_e))return jr(he,ae,_e,Ye);M0(he,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"?(_e=""+_e,ae!==null&&ae.tag===6?(S(he,ae.sibling),ae=P(ae,_e),ae.return=he,he=ae):(S(he,ae),ae=yw(_e,he.mode,Ye),ae.return=he,he=ae),K(he)):S(he,ae)}return Es}var Pf=zT(!0),GT=zT(!1),qh={},As=Rr(qh),ep=Rr(qh),Rf=Rr(qh);function Oo(h){if(h===qh)throw Error(o(174));return h}function Ox(h,m){Et(Rf,m),Et(ep,h),Et(As,qh),h=Y(m),gt(As),Et(As,h)}function Df(){gt(As),gt(ep),gt(Rf)}function HT(h){var m=Oo(Rf.current),S=Oo(As.current);m=z(S,h.type,m),S!==m&&(Et(ep,h),Et(As,m))}function Fx(h){ep.current===h&&(gt(As),gt(ep))}var An=Rr(0);function C0(h){for(var m=h;m!==null;){if(m.tag===13){var S=m.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Xt(S)||Sn(S)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Nx=[];function Ux(){for(var h=0;h<Nx.length;h++){var m=Nx[h];ye?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}Nx.length=0}var E0=a.ReactCurrentDispatcher,bs=a.ReactCurrentBatchConfig,Bf=0,Ln=null,Hr=null,xr=null,T0=!1,tp=!1,np=0,F8=0;function Vr(){throw Error(o(321))}function zx(h,m){if(m===null)return!1;for(var S=0;S<m.length&&S<h.length;S++)if(!Xi(h[S],m[S]))return!1;return!0}function Gx(h,m,S,b,P,I){if(Bf=I,Ln=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,E0.current=h===null||h.memoizedState===null?G8:H8,h=S(b,P),tp){I=0;do{if(tp=!1,np=0,25<=I)throw Error(o(301));I+=1,xr=Hr=null,m.updateQueue=null,E0.current=V8,h=S(b,P)}while(tp)}if(E0.current=I0,m=Hr!==null&&Hr.next!==null,Bf=0,xr=Hr=Ln=null,T0=!1,m)throw Error(o(300));return h}function Hx(){var h=np!==0;return np=0,h}function ha(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xr===null?Ln.memoizedState=xr=h:xr=xr.next=h,xr}function Fo(){if(Hr===null){var h=Ln.alternate;h=h!==null?h.memoizedState:null}else h=Hr.next;var m=xr===null?Ln.memoizedState:xr.next;if(m!==null)xr=m,Hr=h;else{if(h===null)throw Error(o(310));Hr=h,h={memoizedState:Hr.memoizedState,baseState:Hr.baseState,baseQueue:Hr.baseQueue,queue:Hr.queue,next:null},xr===null?Ln.memoizedState=xr=h:xr=xr.next=h}return xr}function Uc(h,m){return typeof m=="function"?m(h):m}function P0(h){var m=Fo(),S=m.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var b=Hr,P=b.baseQueue,I=S.pending;if(I!==null){if(P!==null){var K=P.next;P.next=I.next,I.next=K}b.baseQueue=P=I,S.pending=null}if(P!==null){I=P.next,b=b.baseState;var ie=K=null,be=null,Ve=I;do{var rt=Ve.lane;if((Bf&rt)===rt)be!==null&&(be=be.next={lane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),b=Ve.hasEagerState?Ve.eagerState:h(b,Ve.action);else{var yt={lane:rt,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null};be===null?(ie=be=yt,K=b):be=be.next=yt,Ln.lanes|=rt,Lf|=rt}Ve=Ve.next}while(Ve!==null&&Ve!==I);be===null?K=b:be.next=ie,Xi(b,m.memoizedState)||(Yi=!0),m.memoizedState=b,m.baseState=K,m.baseQueue=be,S.lastRenderedState=b}if(h=S.interleaved,h!==null){P=h;do I=P.lane,Ln.lanes|=I,Lf|=I,P=P.next;while(P!==h)}else P===null&&(S.lanes=0);return[m.memoizedState,S.dispatch]}function R0(h){var m=Fo(),S=m.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var b=S.dispatch,P=S.pending,I=m.memoizedState;if(P!==null){S.pending=null;var K=P=P.next;do I=h(I,K.action),K=K.next;while(K!==P);Xi(I,m.memoizedState)||(Yi=!0),m.memoizedState=I,m.baseQueue===null&&(m.baseState=I),S.lastRenderedState=I}return[I,b]}function VT(){}function WT(h,m){var S=Ln,b=Fo(),P=m(),I=!Xi(b.memoizedState,P);if(I&&(b.memoizedState=P,Yi=!0),b=b.queue,ip(XT.bind(null,S,b,h),[h]),b.getSnapshot!==m||I||xr!==null&&xr.memoizedState.tag&1){if(S.flags|=2048,rp(9,$T.bind(null,S,b,P,m),void 0,null),er===null)throw Error(o(349));Bf&30||jT(S,m,P)}return P}function jT(h,m,S){h.flags|=16384,h={getSnapshot:m,value:S},m=Ln.updateQueue,m===null?(m={lastEffect:null,stores:null},Ln.updateQueue=m,m.stores=[h]):(S=m.stores,S===null?m.stores=[h]:S.push(h))}function $T(h,m,S,b){m.value=S,m.getSnapshot=b,JT(m)&&Ms(h,1,-1)}function XT(h,m,S){return S(function(){JT(m)&&Ms(h,1,-1)})}function JT(h){var m=h.getSnapshot;h=h.value;try{var S=m();return!Xi(h,S)}catch{return!0}}function Vx(h){var m=ha();return typeof h=="function"&&(h=h()),m.memoizedState=m.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:h},m.queue=h,h=h.dispatch=z8.bind(null,Ln,h),[m.memoizedState,h]}function rp(h,m,S,b){return h={tag:h,create:m,destroy:S,deps:b,next:null},m=Ln.updateQueue,m===null?(m={lastEffect:null,stores:null},Ln.updateQueue=m,m.lastEffect=h.next=h):(S=m.lastEffect,S===null?m.lastEffect=h.next=h:(b=S.next,S.next=h,h.next=b,m.lastEffect=h)),h}function KT(){return Fo().memoizedState}function D0(h,m,S,b){var P=ha();Ln.flags|=h,P.memoizedState=rp(1|m,S,void 0,b===void 0?null:b)}function B0(h,m,S,b){var P=Fo();b=b===void 0?null:b;var I=void 0;if(Hr!==null){var K=Hr.memoizedState;if(I=K.destroy,b!==null&&zx(b,K.deps)){P.memoizedState=rp(m,S,I,b);return}}Ln.flags|=h,P.memoizedState=rp(1|m,S,I,b)}function Wx(h,m){return D0(8390656,8,h,m)}function ip(h,m){return B0(2048,8,h,m)}function YT(h,m){return B0(4,2,h,m)}function QT(h,m){return B0(4,4,h,m)}function ZT(h,m){if(typeof m=="function")return h=h(),m(h),function(){m(null)};if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function qT(h,m,S){return S=S!=null?S.concat([h]):null,B0(4,4,ZT.bind(null,m,h),S)}function jx(){}function eP(h,m){var S=Fo();m=m===void 0?null:m;var b=S.memoizedState;return b!==null&&m!==null&&zx(m,b[1])?b[0]:(S.memoizedState=[h,m],h)}function tP(h,m){var S=Fo();m=m===void 0?null:m;var b=S.memoizedState;return b!==null&&m!==null&&zx(m,b[1])?b[0]:(h=h(),S.memoizedState=[h,m],h)}function N8(h,m){var S=Dt;Dt=S!==0&&4>S?S:4,h(!0);var b=bs.transition;bs.transition={};try{h(!1),m()}finally{Dt=S,bs.transition=b}}function nP(){return Fo().memoizedState}function U8(h,m,S){var b=gl(h);S={lane:b,action:S,hasEagerState:!1,eagerState:null,next:null},rP(h)?iP(m,S):(sP(h,m,S),S=ui(),h=Ms(h,b,S),h!==null&&oP(h,m,b))}function z8(h,m,S){var b=gl(h),P={lane:b,action:S,hasEagerState:!1,eagerState:null,next:null};if(rP(h))iP(m,P);else{sP(h,m,P);var I=h.alternate;if(h.lanes===0&&(I===null||I.lanes===0)&&(I=m.lastRenderedReducer,I!==null))try{var K=m.lastRenderedState,ie=I(K,S);if(P.hasEagerState=!0,P.eagerState=ie,Xi(ie,K))return}catch{}finally{}S=ui(),h=Ms(h,b,S),h!==null&&oP(h,m,b)}}function rP(h){var m=h.alternate;return h===Ln||m!==null&&m===Ln}function iP(h,m){tp=T0=!0;var S=h.pending;S===null?m.next=m:(m.next=S.next,S.next=m),h.pending=m}function sP(h,m,S){er!==null&&h.mode&1&&!(Tt&2)?(h=m.interleaved,h===null?(S.next=S,cr===null?cr=[m]:cr.push(m)):(S.next=h.next,h.next=S),m.interleaved=S):(h=m.pending,h===null?S.next=S:(S.next=h.next,h.next=S),m.pending=S)}function oP(h,m,S){if(S&4194240){var b=m.lanes;b&=h.pendingLanes,S|=b,m.lanes=S,Io(h,S)}}var I0={readContext:rn,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useInsertionEffect:Vr,useLayoutEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useMutableSource:Vr,useSyncExternalStore:Vr,useId:Vr,unstable_isNewReconciler:!1},G8={readContext:rn,useCallback:function(h,m){return ha().memoizedState=[h,m===void 0?null:m],h},useContext:rn,useEffect:Wx,useImperativeHandle:function(h,m,S){return S=S!=null?S.concat([h]):null,D0(4194308,4,ZT.bind(null,m,h),S)},useLayoutEffect:function(h,m){return D0(4194308,4,h,m)},useInsertionEffect:function(h,m){return D0(4,2,h,m)},useMemo:function(h,m){var S=ha();return m=m===void 0?null:m,h=h(),S.memoizedState=[h,m],h},useReducer:function(h,m,S){var b=ha();return m=S!==void 0?S(m):m,b.memoizedState=b.baseState=m,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:m},b.queue=h,h=h.dispatch=U8.bind(null,Ln,h),[b.memoizedState,h]},useRef:function(h){var m=ha();return h={current:h},m.memoizedState=h},useState:Vx,useDebugValue:jx,useDeferredValue:function(h){var m=Vx(h),S=m[0],b=m[1];return Wx(function(){var P=bs.transition;bs.transition={};try{b(h)}finally{bs.transition=P}},[h]),S},useTransition:function(){var h=Vx(!1),m=h[0];return h=N8.bind(null,h[1]),ha().memoizedState=h,[m,h]},useMutableSource:function(){},useSyncExternalStore:function(h,m,S){var b=Ln,P=ha();if(vn){if(S===void 0)throw Error(o(407));S=S()}else{if(S=m(),er===null)throw Error(o(349));Bf&30||jT(b,m,S)}P.memoizedState=S;var I={value:S,getSnapshot:m};return P.queue=I,Wx(XT.bind(null,b,I,h),[h]),b.flags|=2048,rp(9,$T.bind(null,b,I,S,m),void 0,null),S},useId:function(){var h=ha(),m=er.identifierPrefix;if(vn){var S=da,b=fa;S=(b&~(1<<32-zr(b)-1)).toString(32)+S,m=":"+m+"R"+S,S=np++,0<S&&(m+="H"+S.toString(32)),m+=":"}else S=F8++,m=":"+m+"r"+S.toString(32)+":";return h.memoizedState=m},unstable_isNewReconciler:!1},H8={readContext:rn,useCallback:eP,useContext:rn,useEffect:ip,useImperativeHandle:qT,useInsertionEffect:YT,useLayoutEffect:QT,useMemo:tP,useReducer:P0,useRef:KT,useState:function(){return P0(Uc)},useDebugValue:jx,useDeferredValue:function(h){var m=P0(Uc),S=m[0],b=m[1];return ip(function(){var P=bs.transition;bs.transition={};try{b(h)}finally{bs.transition=P}},[h]),S},useTransition:function(){var h=P0(Uc)[0],m=Fo().memoizedState;return[h,m]},useMutableSource:VT,useSyncExternalStore:WT,useId:nP,unstable_isNewReconciler:!1},V8={readContext:rn,useCallback:eP,useContext:rn,useEffect:ip,useImperativeHandle:qT,useInsertionEffect:YT,useLayoutEffect:QT,useMemo:tP,useReducer:R0,useRef:KT,useState:function(){return R0(Uc)},useDebugValue:jx,useDeferredValue:function(h){var m=R0(Uc),S=m[0],b=m[1];return ip(function(){var P=bs.transition;bs.transition={};try{b(h)}finally{bs.transition=P}},[h]),S},useTransition:function(){var h=R0(Uc)[0],m=Fo().memoizedState;return[h,m]},useMutableSource:VT,useSyncExternalStore:WT,useId:nP,unstable_isNewReconciler:!1};function $x(h,m){try{var S="",b=m;do S+=Oc(b),b=b.return;while(b);var P=S}catch(I){P=`
Error generating stack: `+I.message+`
`+I.stack}return{value:h,source:m,stack:P}}function Xx(h,m){try{console.error(m.value)}catch(S){setTimeout(function(){throw S})}}var W8=typeof WeakMap=="function"?WeakMap:Map;function aP(h,m,S){S=ua(-1,S),S.tag=3,S.payload={element:null};var b=m.value;return S.callback=function(){K0||(K0=!0,fw=b),Xx(h,m)},S}function lP(h,m,S){S=ua(-1,S),S.tag=3;var b=h.type.getDerivedStateFromError;if(typeof b=="function"){var P=m.value;S.payload=function(){return b(P)},S.callback=function(){Xx(h,m)}}var I=h.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(S.callback=function(){Xx(h,m),typeof b!="function"&&(pl===null?pl=new Set([this]):pl.add(this));var K=m.stack;this.componentDidCatch(m.value,{componentStack:K!==null?K:""})}),S}function cP(h,m,S){var b=h.pingCache;if(b===null){b=h.pingCache=new W8;var P=new Set;b.set(m,P)}else P=b.get(m),P===void 0&&(P=new Set,b.set(m,P));P.has(S)||(P.add(S),h=i9.bind(null,h,m,S),m.then(h,h))}function uP(h){do{var m;if((m=h.tag===13)&&(m=h.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return h;h=h.return}while(h!==null);return null}function fP(h,m,S,b,P){return h.mode&1?(h.flags|=65536,h.lanes=P,h):(h===m?h.flags|=65536:(h.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(m=ua(-1,1),m.tag=2,hl(S,m))),S.lanes|=1),h)}function No(h){h.flags|=4}function dP(h,m){if(h!==null&&h.child===m.child)return!0;if(m.flags&16)return!1;for(h=m.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var sp,op,L0,k0;if(Se)sp=function(h,m){for(var S=m.child;S!==null;){if(S.tag===5||S.tag===6)X(h,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===m)break;for(;S.sibling===null;){if(S.return===null||S.return===m)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},op=function(){},L0=function(h,m,S,b,P){if(h=h.memoizedProps,h!==b){var I=m.stateNode,K=Oo(As.current);S=re(I,S,h,b,P,K),(m.updateQueue=S)&&No(m)}},k0=function(h,m,S,b){S!==b&&No(m)};else if(ne){sp=function(h,m,S,b){for(var P=m.child;P!==null;){if(P.tag===5){var I=P.stateNode;S&&b&&(I=Wt(I,P.type,P.memoizedProps,P)),X(h,I)}else if(P.tag===6)I=P.stateNode,S&&b&&(I=Gt(I,P.memoizedProps,P)),X(h,I);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)I=P.child,I!==null&&(I.return=P),sp(h,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===m)break;for(;P.sibling===null;){if(P.return===null||P.return===m)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var hP=function(h,m,S,b){for(var P=m.child;P!==null;){if(P.tag===5){var I=P.stateNode;S&&b&&(I=Wt(I,P.type,P.memoizedProps,P)),zt(h,I)}else if(P.tag===6)I=P.stateNode,S&&b&&(I=Gt(I,P.memoizedProps,P)),zt(h,I);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)I=P.child,I!==null&&(I.return=P),hP(h,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===m)break;for(;P.sibling===null;){if(P.return===null||P.return===m)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};op=function(h,m){var S=m.stateNode;if(!dP(h,m)){h=S.containerInfo;var b=xt(h);hP(b,m,!1,!1),S.pendingChildren=b,No(m),$t(h,b)}},L0=function(h,m,S,b,P){var I=h.stateNode,K=h.memoizedProps;if((h=dP(h,m))&&K===b)m.stateNode=I;else{var ie=m.stateNode,be=Oo(As.current),Ve=null;K!==b&&(Ve=re(ie,S,K,b,P,be)),h&&Ve===null?m.stateNode=I:(I=tt(I,Ve,S,K,b,m,h,ie),te(I,S,b,P,be)&&No(m),m.stateNode=I,h?No(m):sp(I,m,!1,!1))}},k0=function(h,m,S,b){S!==b?(h=Oo(Rf.current),S=Oo(As.current),m.stateNode=q(b,h,S,m),No(m)):m.stateNode=h.stateNode}}else op=function(){},L0=function(){},k0=function(){};function ap(h,m){if(!vn)switch(h.tailMode){case"hidden":m=h.tail;for(var S=null;m!==null;)m.alternate!==null&&(S=m),m=m.sibling;S===null?h.tail=null:S.sibling=null;break;case"collapsed":S=h.tail;for(var b=null;S!==null;)S.alternate!==null&&(b=S),S=S.sibling;b===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:b.sibling=null}}function Wr(h){var m=h.alternate!==null&&h.alternate.child===h.child,S=0,b=0;if(m)for(var P=h.child;P!==null;)S|=P.lanes|P.childLanes,b|=P.subtreeFlags&14680064,b|=P.flags&14680064,P.return=h,P=P.sibling;else for(P=h.child;P!==null;)S|=P.lanes|P.childLanes,b|=P.subtreeFlags,b|=P.flags,P.return=h,P=P.sibling;return h.subtreeFlags|=b,h.childLanes=S,m}function j8(h,m,S){var b=m.pendingProps;switch(Bx(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wr(m),null;case 1:return Wn(m.type)&&ll(),Wr(m),null;case 3:return b=m.stateNode,Df(),gt(Vn),gt(Ht),Ux(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(h===null||h.child===null)&&(Qh(m)?No(m):h===null||h.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,io!==null&&(pw(io),io=null))),op(h,m),Wr(m),null;case 5:Fx(m),S=Oo(Rf.current);var P=m.type;if(h!==null&&m.stateNode!=null)L0(h,m,P,b,S),h.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!b){if(m.stateNode===null)throw Error(o(166));return Wr(m),null}if(h=Oo(As.current),Qh(m)){if(!le)throw Error(o(175));h=nt(m.stateNode,m.type,m.memoizedProps,S,h,m,!Yh),m.updateQueue=h,h!==null&&No(m)}else{var I=G(P,b,S,h,m);sp(I,m,!1,!1),m.stateNode=I,te(I,P,b,S,h)&&No(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Wr(m),null;case 6:if(h&&m.stateNode!=null)k0(h,m,h.memoizedProps,b);else{if(typeof b!="string"&&m.stateNode===null)throw Error(o(166));if(h=Oo(Rf.current),S=Oo(As.current),Qh(m)){if(!le)throw Error(o(176));if(h=m.stateNode,b=m.memoizedProps,(S=lt(h,b,m,!Yh))&&(P=Ji,P!==null))switch(I=(P.mode&1)!==0,P.tag){case 3:vs(P.stateNode.containerInfo,h,b,I);break;case 5:ys(P.type,P.memoizedProps,P.stateNode,h,b,I)}S&&No(m)}else m.stateNode=q(b,h,S,m)}return Wr(m),null;case 13:if(gt(An),b=m.memoizedState,vn&&Ki!==null&&m.mode&1&&!(m.flags&128)){for(h=Ki;h;)h=ue(h);return Tf(),m.flags|=98560,m}if(b!==null&&b.dehydrated!==null){if(b=Qh(m),h===null){if(!b)throw Error(o(318));if(!le)throw Error(o(344));if(h=m.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));wt(h,m)}else Tf(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;return Wr(m),null}return io!==null&&(pw(io),io=null),m.flags&128?(m.lanes=S,m):(b=b!==null,S=!1,h===null?Qh(m):S=h.memoizedState!==null,b&&!S&&(m.child.flags|=8192,m.mode&1&&(h===null||An.current&1?ur===0&&(ur=3):gw())),m.updateQueue!==null&&(m.flags|=4),Wr(m),null);case 4:return Df(),op(h,m),h===null&&Pe(m.stateNode.containerInfo),Wr(m),null;case 10:return ko(m.type._context),Wr(m),null;case 17:return Wn(m.type)&&ll(),Wr(m),null;case 19:if(gt(An),P=m.memoizedState,P===null)return Wr(m),null;if(b=(m.flags&128)!==0,I=P.rendering,I===null)if(b)ap(P,!1);else{if(ur!==0||h!==null&&h.flags&128)for(h=m.child;h!==null;){if(I=C0(h),I!==null){for(m.flags|=128,ap(P,!1),h=I.updateQueue,h!==null&&(m.updateQueue=h,m.flags|=4),m.subtreeFlags=0,h=S,b=m.child;b!==null;)S=b,P=h,S.flags&=14680066,I=S.alternate,I===null?(S.childLanes=0,S.lanes=P,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=I.childLanes,S.lanes=I.lanes,S.child=I.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=I.memoizedProps,S.memoizedState=I.memoizedState,S.updateQueue=I.updateQueue,S.type=I.type,P=I.dependencies,S.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),b=b.sibling;return Et(An,An.current&1|2),m.child}h=h.sibling}P.tail!==null&&gn()>uw&&(m.flags|=128,b=!0,ap(P,!1),m.lanes=4194304)}else{if(!b)if(h=C0(I),h!==null){if(m.flags|=128,b=!0,h=h.updateQueue,h!==null&&(m.updateQueue=h,m.flags|=4),ap(P,!0),P.tail===null&&P.tailMode==="hidden"&&!I.alternate&&!vn)return Wr(m),null}else 2*gn()-P.renderingStartTime>uw&&S!==1073741824&&(m.flags|=128,b=!0,ap(P,!1),m.lanes=4194304);P.isBackwards?(I.sibling=m.child,m.child=I):(h=P.last,h!==null?h.sibling=I:m.child=I,P.last=I)}return P.tail!==null?(m=P.tail,P.rendering=m,P.tail=m.sibling,P.renderingStartTime=gn(),m.sibling=null,h=An.current,Et(An,b?h&1|2:h&1),m):(Wr(m),null);case 22:case 23:return mw(),b=m.memoizedState!==null,h!==null&&h.memoizedState!==null!==b&&(m.flags|=8192),b&&m.mode&1?Qi&1073741824&&(Wr(m),Se&&m.subtreeFlags&6&&(m.flags|=8192)):Wr(m),null;case 24:return null;case 25:return null}throw Error(o(156,m.tag))}var $8=a.ReactCurrentOwner,Yi=!1;function ci(h,m,S,b){m.child=h===null?GT(m,null,S,b):Pf(m,h.child,S,b)}function pP(h,m,S,b,P){S=S.render;var I=m.ref;return _r(m,P),b=Gx(h,m,S,b,I,P),S=Hx(),h!==null&&!Yi?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~P,pa(h,m,P)):(vn&&S&&Dx(m),m.flags|=1,ci(h,m,b,P),m.child)}function mP(h,m,S,b,P){if(h===null){var I=S.type;return typeof I=="function"&&!vw(I)&&I.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(m.tag=15,m.type=I,gP(h,m,I,b,P)):(h=nv(S.type,null,b,m,m.mode,P),h.ref=m.ref,h.return=m,m.child=h)}if(I=h.child,!(h.lanes&P)){var K=I.memoizedProps;if(S=S.compare,S=S!==null?S:kc,S(K,b)&&h.ref===m.ref)return pa(h,m,P)}return m.flags|=1,h=yl(I,b),h.ref=m.ref,h.return=m,m.child=h}function gP(h,m,S,b,P){if(h!==null&&kc(h.memoizedProps,b)&&h.ref===m.ref)if(Yi=!1,(h.lanes&P)!==0)h.flags&131072&&(Yi=!0);else return m.lanes=h.lanes,pa(h,m,P);return Jx(h,m,S,b,P)}function vP(h,m,S){var b=m.pendingProps,P=b.children,I=h!==null?h.memoizedState:null;if(b.mode==="hidden")if(!(m.mode&1))m.memoizedState={baseLanes:0,cachePool:null},Et(If,Qi),Qi|=S;else if(S&1073741824)m.memoizedState={baseLanes:0,cachePool:null},b=I!==null?I.baseLanes:S,Et(If,Qi),Qi|=b;else return h=I!==null?I.baseLanes|S:S,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:h,cachePool:null},m.updateQueue=null,Et(If,Qi),Qi|=h,null;else I!==null?(b=I.baseLanes|S,m.memoizedState=null):b=S,Et(If,Qi),Qi|=b;return ci(h,m,P,S),m.child}function yP(h,m){var S=m.ref;(h===null&&S!==null||h!==null&&h.ref!==S)&&(m.flags|=512,m.flags|=2097152)}function Jx(h,m,S,b,P){var I=Wn(S)?oi:Ht.current;return I=ji(m,I),_r(m,P),S=Gx(h,m,S,b,I,P),b=Hx(),h!==null&&!Yi?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~P,pa(h,m,P)):(vn&&b&&Dx(m),m.flags|=1,ci(h,m,S,P),m.child)}function _P(h,m,S,b,P){if(Wn(S)){var I=!0;Do(m)}else I=!1;if(_r(m,P),m.stateNode===null)h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),IT(m,S,b),Rx(m,S,b,P),b=!0;else if(h===null){var K=m.stateNode,ie=m.memoizedProps;K.props=ie;var be=K.context,Ve=S.contextType;typeof Ve=="object"&&Ve!==null?Ve=rn(Ve):(Ve=Wn(S)?oi:Ht.current,Ve=ji(m,Ve));var rt=S.getDerivedStateFromProps,yt=typeof rt=="function"||typeof K.getSnapshotBeforeUpdate=="function";yt||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(ie!==b||be!==Ve)&&LT(m,K,b,Ve),ro=!1;var ct=m.memoizedState;K.state=ct,w0(m,b,K,P),be=m.memoizedState,ie!==b||ct!==be||Vn.current||ro?(typeof rt=="function"&&(Px(m,S,rt,b),be=m.memoizedState),(ie=ro||BT(m,S,ie,b,ct,be,Ve))?(yt||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(m.flags|=4194308)):(typeof K.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=b,m.memoizedState=be),K.props=b,K.state=be,K.context=Ve,b=ie):(typeof K.componentDidMount=="function"&&(m.flags|=4194308),b=!1)}else{K=m.stateNode,TT(h,m),ie=m.memoizedProps,Ve=m.type===m.elementType?ie:Gr(m.type,ie),K.props=Ve,yt=m.pendingProps,ct=K.context,be=S.contextType,typeof be=="object"&&be!==null?be=rn(be):(be=Wn(S)?oi:Ht.current,be=ji(m,be));var sn=S.getDerivedStateFromProps;(rt=typeof sn=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(ie!==yt||ct!==be)&&LT(m,K,b,be),ro=!1,ct=m.memoizedState,K.state=ct,w0(m,b,K,P);var at=m.memoizedState;ie!==yt||ct!==at||Vn.current||ro?(typeof sn=="function"&&(Px(m,S,sn,b),at=m.memoizedState),(Ve=ro||BT(m,S,Ve,b,ct,at,be)||!1)?(rt||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(b,at,be),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(b,at,be)),typeof K.componentDidUpdate=="function"&&(m.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof K.componentDidUpdate!="function"||ie===h.memoizedProps&&ct===h.memoizedState||(m.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||ie===h.memoizedProps&&ct===h.memoizedState||(m.flags|=1024),m.memoizedProps=b,m.memoizedState=at),K.props=b,K.state=at,K.context=be,b=Ve):(typeof K.componentDidUpdate!="function"||ie===h.memoizedProps&&ct===h.memoizedState||(m.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||ie===h.memoizedProps&&ct===h.memoizedState||(m.flags|=1024),b=!1)}return Kx(h,m,S,b,I,P)}function Kx(h,m,S,b,P,I){yP(h,m);var K=(m.flags&128)!==0;if(!b&&!K)return P&&p0(m,S,!1),pa(h,m,I);b=m.stateNode,$8.current=m;var ie=K&&typeof S.getDerivedStateFromError!="function"?null:b.render();return m.flags|=1,h!==null&&K?(m.child=Pf(m,h.child,null,I),m.child=Pf(m,null,ie,I)):ci(h,m,ie,I),m.memoizedState=b.state,P&&p0(m,S,!0),m.child}function xP(h){var m=h.stateNode;m.pendingContext?yf(h,m.pendingContext,m.pendingContext!==m.context):m.context&&yf(h,m.context,!1),Ox(h,m.containerInfo)}function wP(h,m,S,b,P){return Tf(),kx(P),m.flags|=256,ci(h,m,S,b),m.child}var O0={dehydrated:null,treeContext:null,retryLane:0};function F0(h){return{baseLanes:h,cachePool:null}}function SP(h,m,S){var b=m.pendingProps,P=An.current,I=!1,K=(m.flags&128)!==0,ie;if((ie=K)||(ie=h!==null&&h.memoizedState===null?!1:(P&2)!==0),ie?(I=!0,m.flags&=-129):(h===null||h.memoizedState!==null)&&(P|=1),Et(An,P&1),h===null)return Lx(m),h=m.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(m.mode&1?Sn(h)?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(P=b.children,h=b.fallback,I?(b=m.mode,I=m.child,P={mode:"hidden",children:P},!(b&1)&&I!==null?(I.childLanes=0,I.pendingProps=P):I=rv(P,b,0,null),h=jc(h,b,S,null),I.return=m,h.return=m,I.sibling=h,m.child=I,m.child.memoizedState=F0(S),m.memoizedState=O0,h):Yx(m,P));if(P=h.memoizedState,P!==null){if(ie=P.dehydrated,ie!==null){if(K)return m.flags&256?(m.flags&=-257,N0(h,m,S,Error(o(422)))):m.memoizedState!==null?(m.child=h.child,m.flags|=128,null):(I=b.fallback,P=m.mode,b=rv({mode:"visible",children:b.children},P,0,null),I=jc(I,P,S,null),I.flags|=2,b.return=m,I.return=m,b.sibling=I,m.child=b,m.mode&1&&Pf(m,h.child,null,S),m.child.memoizedState=F0(S),m.memoizedState=O0,I);if(!(m.mode&1))m=N0(h,m,S,null);else if(Sn(ie))m=N0(h,m,S,Error(o(419)));else if(b=(S&h.childLanes)!==0,Yi||b){if(b=er,b!==null){switch(S&-S){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}b=I&(b.suspendedLanes|S)?0:I,b!==0&&b!==P.retryLane&&(P.retryLane=b,Ms(h,b,-1))}gw(),m=N0(h,m,S,Error(o(421)))}else Xt(ie)?(m.flags|=128,m.child=h.child,m=s9.bind(null,h),J(ie,m),m=null):(S=P.treeContext,le&&(Ki=Ee(ie),Ji=m,vn=!0,io=null,Yh=!1,S!==null&&(ws[Ss++]=fa,ws[Ss++]=da,ws[Ss++]=Fc,fa=S.id,da=S.overflow,Fc=m)),m=Yx(m,m.pendingProps.children),m.flags|=4096);return m}return I?(b=bP(h,m,b.children,b.fallback,S),I=m.child,P=h.child.memoizedState,I.memoizedState=P===null?F0(S):{baseLanes:P.baseLanes|S,cachePool:null},I.childLanes=h.childLanes&~S,m.memoizedState=O0,b):(S=AP(h,m,b.children,S),m.memoizedState=null,S)}return I?(b=bP(h,m,b.children,b.fallback,S),I=m.child,P=h.child.memoizedState,I.memoizedState=P===null?F0(S):{baseLanes:P.baseLanes|S,cachePool:null},I.childLanes=h.childLanes&~S,m.memoizedState=O0,b):(S=AP(h,m,b.children,S),m.memoizedState=null,S)}function Yx(h,m){return m=rv({mode:"visible",children:m},h.mode,0,null),m.return=h,h.child=m}function AP(h,m,S,b){var P=h.child;return h=P.sibling,S=yl(P,{mode:"visible",children:S}),!(m.mode&1)&&(S.lanes=b),S.return=m,S.sibling=null,h!==null&&(b=m.deletions,b===null?(m.deletions=[h],m.flags|=16):b.push(h)),m.child=S}function bP(h,m,S,b,P){var I=m.mode;h=h.child;var K=h.sibling,ie={mode:"hidden",children:S};return!(I&1)&&m.child!==h?(S=m.child,S.childLanes=0,S.pendingProps=ie,m.deletions=null):(S=yl(h,ie),S.subtreeFlags=h.subtreeFlags&14680064),K!==null?b=yl(K,b):(b=jc(b,I,P,null),b.flags|=2),b.return=m,S.return=m,S.sibling=b,m.child=S,b}function N0(h,m,S,b){return b!==null&&kx(b),Pf(m,h.child,null,S),h=Yx(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function MP(h,m,S){h.lanes|=m;var b=h.alternate;b!==null&&(b.lanes|=m),qn(h.return,m,S)}function Qx(h,m,S,b,P){var I=h.memoizedState;I===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:b,tail:S,tailMode:P}:(I.isBackwards=m,I.rendering=null,I.renderingStartTime=0,I.last=b,I.tail=S,I.tailMode=P)}function CP(h,m,S){var b=m.pendingProps,P=b.revealOrder,I=b.tail;if(ci(h,m,b.children,S),b=An.current,b&2)b=b&1|2,m.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&MP(h,S,m);else if(h.tag===19)MP(h,S,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}b&=1}if(Et(An,b),!(m.mode&1))m.memoizedState=null;else switch(P){case"forwards":for(S=m.child,P=null;S!==null;)h=S.alternate,h!==null&&C0(h)===null&&(P=S),S=S.sibling;S=P,S===null?(P=m.child,m.child=null):(P=S.sibling,S.sibling=null),Qx(m,!1,P,S,I);break;case"backwards":for(S=null,P=m.child,m.child=null;P!==null;){if(h=P.alternate,h!==null&&C0(h)===null){m.child=P;break}h=P.sibling,P.sibling=S,S=P,P=h}Qx(m,!0,S,null,I);break;case"together":Qx(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function pa(h,m,S){if(h!==null&&(m.dependencies=h.dependencies),Lf|=m.lanes,!(S&m.childLanes))return null;if(h!==null&&m.child!==h.child)throw Error(o(153));if(m.child!==null){for(h=m.child,S=yl(h,h.pendingProps),m.child=S,S.return=m;h.sibling!==null;)h=h.sibling,S=S.sibling=yl(h,h.pendingProps),S.return=m;S.sibling=null}return m.child}function X8(h,m,S){switch(m.tag){case 3:xP(m),Tf();break;case 5:HT(m);break;case 1:Wn(m.type)&&Do(m);break;case 4:Ox(m,m.stateNode.containerInfo);break;case 10:_0(m,m.type._context,m.memoizedProps.value);break;case 13:var b=m.memoizedState;if(b!==null)return b.dehydrated!==null?(Et(An,An.current&1),m.flags|=128,null):S&m.child.childLanes?SP(h,m,S):(Et(An,An.current&1),h=pa(h,m,S),h!==null?h.sibling:null);Et(An,An.current&1);break;case 19:if(b=(S&m.childLanes)!==0,h.flags&128){if(b)return CP(h,m,S);m.flags|=128}var P=m.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Et(An,An.current),b)break;return null;case 22:case 23:return m.lanes=0,vP(h,m,S)}return pa(h,m,S)}function J8(h,m){switch(Bx(m),m.tag){case 1:return Wn(m.type)&&ll(),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return Df(),gt(Vn),gt(Ht),Ux(),h=m.flags,h&65536&&!(h&128)?(m.flags=h&-65537|128,m):null;case 5:return Fx(m),null;case 13:if(gt(An),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(o(340));Tf()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return gt(An),null;case 4:return Df(),null;case 10:return ko(m.type._context),null;case 22:case 23:return mw(),null;case 24:return null;default:return null}}var U0=!1,zc=!1,K8=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function z0(h,m){var S=h.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(b){Ei(h,m,b)}else S.current=null}function Zx(h,m,S){try{S()}catch(b){Ei(h,m,b)}}var EP=!1;function Y8(h,m){for(U(h.containerInfo),Ke=m;Ke!==null;)if(h=Ke,m=h.child,(h.subtreeFlags&1028)!==0&&m!==null)m.return=h,Ke=m;else for(;Ke!==null;){h=Ke;try{var S=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var b=S.memoizedProps,P=S.memoizedState,I=h.stateNode,K=I.getSnapshotBeforeUpdate(h.elementType===h.type?b:Gr(h.type,b),P);I.__reactInternalSnapshotBeforeUpdate=K}break;case 3:Se&&Xe(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ie){Ei(h,h.return,ie)}if(m=h.sibling,m!==null){m.return=h.return,Ke=m;break}Ke=h.return}return S=EP,EP=!1,S}function Gc(h,m,S){var b=m.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var P=b=b.next;do{if((P.tag&h)===h){var I=P.destroy;P.destroy=void 0,I!==void 0&&Zx(m,S,I)}P=P.next}while(P!==b)}}function lp(h,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var S=m=m.next;do{if((S.tag&h)===h){var b=S.create;S.destroy=b()}S=S.next}while(S!==m)}}function qx(h){var m=h.ref;if(m!==null){var S=h.stateNode;switch(h.tag){case 5:h=W(S);break;default:h=S}typeof m=="function"?m(h):m.current=h}}function TP(h,m,S){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(fl,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(h=m.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var b=h=h.next;do{var P=b,I=P.destroy;P=P.tag,I!==void 0&&(P&2||P&4)&&Zx(m,S,I),b=b.next}while(b!==h)}break;case 1:if(z0(m,S),h=m.stateNode,typeof h.componentWillUnmount=="function")try{h.props=m.memoizedProps,h.state=m.memoizedState,h.componentWillUnmount()}catch(K){Ei(m,S,K)}break;case 5:z0(m,S);break;case 4:Se?LP(h,m,S):ne&&ne&&(m=m.stateNode.containerInfo,S=xt(m),Vt(m,S))}}function PP(h,m,S){for(var b=m;;)if(TP(h,b,S),b.child===null||Se&&b.tag===4){if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else b.child.return=b,b=b.child}function RP(h){var m=h.alternate;m!==null&&(h.alternate=null,RP(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&je(m)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function DP(h){return h.tag===5||h.tag===3||h.tag===4}function BP(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||DP(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function IP(h){if(Se){e:{for(var m=h.return;m!==null;){if(DP(m))break e;m=m.return}throw Error(o(160))}var S=m;switch(S.tag){case 5:m=S.stateNode,S.flags&32&&(st(m),S.flags&=-33),S=BP(h),tw(h,S,m);break;case 3:case 4:m=S.stateNode.containerInfo,S=BP(h),ew(h,S,m);break;default:throw Error(o(161))}}}function ew(h,m,S){var b=h.tag;if(b===5||b===6)h=h.stateNode,m?Ue(S,h,m):Be(S,h);else if(b!==4&&(h=h.child,h!==null))for(ew(h,m,S),h=h.sibling;h!==null;)ew(h,m,S),h=h.sibling}function tw(h,m,S){var b=h.tag;if(b===5||b===6)h=h.stateNode,m?ze(S,h,m):Fe(S,h);else if(b!==4&&(h=h.child,h!==null))for(tw(h,m,S),h=h.sibling;h!==null;)tw(h,m,S),h=h.sibling}function LP(h,m,S){for(var b=m,P=!1,I,K;;){if(!P){P=b.return;e:for(;;){if(P===null)throw Error(o(160));switch(I=P.stateNode,P.tag){case 5:K=!1;break e;case 3:I=I.containerInfo,K=!0;break e;case 4:I=I.containerInfo,K=!0;break e}P=P.return}P=!0}if(b.tag===5||b.tag===6)PP(h,b,S),K?$e(I,b.stateNode):Ie(I,b.stateNode);else if(b.tag===18)K?nn(I,b.stateNode):kt(I,b.stateNode);else if(b.tag===4){if(b.child!==null){I=b.stateNode.containerInfo,K=!0,b.child.return=b,b=b.child;continue}}else if(TP(h,b,S),b.child!==null){b.child.return=b,b=b.child;continue}if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return;b=b.return,b.tag===4&&(P=!1)}b.sibling.return=b.return,b=b.sibling}}function nw(h,m){if(Se){switch(m.tag){case 0:case 11:case 14:case 15:Gc(3,m,m.return),lp(3,m),Gc(5,m,m.return);return;case 1:return;case 5:var S=m.stateNode;if(S!=null){var b=m.memoizedProps;h=h!==null?h.memoizedProps:b;var P=m.type,I=m.updateQueue;m.updateQueue=null,I!==null&&Ne(S,I,P,h,b,m)}return;case 6:if(m.stateNode===null)throw Error(o(162));S=m.memoizedProps,ge(m.stateNode,h!==null?h.memoizedProps:S,S);return;case 3:le&&h!==null&&h.memoizedState.isDehydrated&&Rt(m.stateNode.containerInfo);return;case 12:return;case 13:G0(m);return;case 19:G0(m);return;case 17:return}throw Error(o(163))}switch(m.tag){case 0:case 11:case 14:case 15:Gc(3,m,m.return),lp(3,m),Gc(5,m,m.return);return;case 12:return;case 13:G0(m);return;case 19:G0(m);return;case 3:le&&h!==null&&h.memoizedState.isDehydrated&&Rt(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(ne){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,Vt(m.containerInfo,m.pendingChildren);break e}throw Error(o(163))}}function G0(h){var m=h.updateQueue;if(m!==null){h.updateQueue=null;var S=h.stateNode;S===null&&(S=h.stateNode=new K8),m.forEach(function(b){var P=o9.bind(null,h,b);S.has(b)||(S.add(b),b.then(P,P))})}}function Q8(h,m){for(Ke=m;Ke!==null;){m=Ke;var S=m.deletions;if(S!==null)for(var b=0;b<S.length;b++){var P=S[b];try{var I=h;Se?LP(I,P,m):PP(I,P,m);var K=P.alternate;K!==null&&(K.return=null),P.return=null}catch(ot){Ei(P,m,ot)}}if(S=m.child,m.subtreeFlags&12854&&S!==null)S.return=m,Ke=S;else for(;Ke!==null;){m=Ke;try{var ie=m.flags;if(ie&32&&Se&&st(m.stateNode),ie&512){var be=m.alternate;if(be!==null){var Ve=be.ref;Ve!==null&&(typeof Ve=="function"?Ve(null):Ve.current=null)}}if(ie&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var rt=m.alternate;(rt===null||rt.memoizedState===null)&&(cw=gn())}break;case 22:var yt=m.memoizedState!==null,ct=m.alternate,sn=ct!==null&&ct.memoizedState!==null;if(S=m,Se){e:if(b=S,P=yt,I=null,Se)for(var at=b;;){if(at.tag===5){if(I===null){I=at;var jr=at.stateNode;P?vt(jr):me(at.stateNode,at.memoizedProps)}}else if(at.tag===6){if(I===null){var Es=at.stateNode;P?ee(Es):ke(Es,at.memoizedProps)}}else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===b)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===b)break;for(;at.sibling===null;){if(at.return===null||at.return===b)break e;I===at&&(I=null),at=at.return}I===at&&(I=null),at.sibling.return=at.return,at=at.sibling}}if(yt&&!sn&&S.mode&1){Ke=S;for(var he=S.child;he!==null;){for(S=Ke=he;Ke!==null;){b=Ke;var ae=b.child;switch(b.tag){case 0:case 11:case 14:case 15:Gc(4,b,b.return);break;case 1:z0(b,b.return);var _e=b.stateNode;if(typeof _e.componentWillUnmount=="function"){var Ye=b.return;try{_e.props=b.memoizedProps,_e.state=b.memoizedState,_e.componentWillUnmount()}catch(ot){Ei(b,Ye,ot)}}break;case 5:z0(b,b.return);break;case 22:if(b.memoizedState!==null){FP(S);continue}}ae!==null?(ae.return=b,Ke=ae):FP(S)}he=he.sibling}}}switch(ie&4102){case 2:IP(m),m.flags&=-3;break;case 6:IP(m),m.flags&=-3,nw(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,nw(m.alternate,m);break;case 4:nw(m.alternate,m)}}catch(ot){Ei(m,m.return,ot)}if(S=m.sibling,S!==null){S.return=m.return,Ke=S;break}Ke=m.return}}}function Z8(h,m,S){Ke=h,kP(h)}function kP(h,m,S){for(var b=(h.mode&1)!==0;Ke!==null;){var P=Ke,I=P.child;if(P.tag===22&&b){var K=P.memoizedState!==null||U0;if(!K){var ie=P.alternate,be=ie!==null&&ie.memoizedState!==null||zc;ie=U0;var Ve=zc;if(U0=K,(zc=be)&&!Ve)for(Ke=P;Ke!==null;)K=Ke,be=K.child,K.tag===22&&K.memoizedState!==null?NP(P):be!==null?(be.return=K,Ke=be):NP(P);for(;I!==null;)Ke=I,kP(I),I=I.sibling;Ke=P,U0=ie,zc=Ve}OP(h)}else P.subtreeFlags&8772&&I!==null?(I.return=P,Ke=I):OP(h)}}function OP(h){for(;Ke!==null;){var m=Ke;if(m.flags&8772){var S=m.alternate;try{if(m.flags&8772)switch(m.tag){case 0:case 11:case 15:zc||lp(5,m);break;case 1:var b=m.stateNode;if(m.flags&4&&!zc)if(S===null)b.componentDidMount();else{var P=m.elementType===m.type?S.memoizedProps:Gr(m.type,S.memoizedProps);b.componentDidUpdate(P,S.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var I=m.updateQueue;I!==null&&RT(m,I,b);break;case 3:var K=m.updateQueue;if(K!==null){if(S=null,m.child!==null)switch(m.child.tag){case 5:S=W(m.child.stateNode);break;case 1:S=m.child.stateNode}RT(m,K,S)}break;case 5:var ie=m.stateNode;S===null&&m.flags&4&&We(ie,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(le&&m.memoizedState===null){var be=m.alternate;if(be!==null){var Ve=be.memoizedState;if(Ve!==null){var rt=Ve.dehydrated;rt!==null&&St(rt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}zc||m.flags&512&&qx(m)}catch(yt){Ei(m,m.return,yt)}}if(m===h){Ke=null;break}if(S=m.sibling,S!==null){S.return=m.return,Ke=S;break}Ke=m.return}}function FP(h){for(;Ke!==null;){var m=Ke;if(m===h){Ke=null;break}var S=m.sibling;if(S!==null){S.return=m.return,Ke=S;break}Ke=m.return}}function NP(h){for(;Ke!==null;){var m=Ke;try{switch(m.tag){case 0:case 11:case 15:var S=m.return;try{lp(4,m)}catch(be){Ei(m,S,be)}break;case 1:var b=m.stateNode;if(typeof b.componentDidMount=="function"){var P=m.return;try{b.componentDidMount()}catch(be){Ei(m,P,be)}}var I=m.return;try{qx(m)}catch(be){Ei(m,I,be)}break;case 5:var K=m.return;try{qx(m)}catch(be){Ei(m,K,be)}}}catch(be){Ei(m,m.return,be)}if(m===h){Ke=null;break}var ie=m.sibling;if(ie!==null){ie.return=m.return,Ke=ie;break}Ke=m.return}}var H0=0,V0=1,W0=2,j0=3,$0=4;if(typeof Symbol=="function"&&Symbol.for){var cp=Symbol.for;H0=cp("selector.component"),V0=cp("selector.has_pseudo_class"),W0=cp("selector.role"),j0=cp("selector.test_id"),$0=cp("selector.text")}function rw(h){var m=Me(h);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(o(364));return m}if(h=xe(h),h===null)throw Error(o(362));return h.stateNode.current}function iw(h,m){switch(m.$$typeof){case H0:if(h.type===m.value)return!0;break;case V0:e:{m=m.value,h=[h,0];for(var S=0;S<h.length;){var b=h[S++],P=h[S++],I=m[P];if(b.tag!==5||!Z(b)){for(;I!=null&&iw(b,I);)P++,I=m[P];if(P===m.length){m=!0;break e}else for(b=b.child;b!==null;)h.push(b,P),b=b.sibling}}m=!1}return m;case W0:if(h.tag===5&&fe(h.stateNode,m.value))return!0;break;case $0:if((h.tag===5||h.tag===6)&&(h=O(h),h!==null&&0<=h.indexOf(m.value)))return!0;break;case j0:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function sw(h){switch(h.$$typeof){case H0:return"<"+(R(h.value)||"Unknown")+">";case V0:return":has("+(sw(h)||"")+")";case W0:return'[role="'+h.value+'"]';case $0:return'"'+h.value+'"';case j0:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function UP(h,m){var S=[];h=[h,0];for(var b=0;b<h.length;){var P=h[b++],I=h[b++],K=m[I];if(P.tag!==5||!Z(P)){for(;K!=null&&iw(P,K);)I++,K=m[I];if(I===m.length)S.push(P);else for(P=P.child;P!==null;)h.push(P,I),P=P.sibling}}return S}function ow(h,m){if(!Oe)throw Error(o(363));h=rw(h),h=UP(h,m),m=[],h=Array.from(h);for(var S=0;S<h.length;){var b=h[S++];if(b.tag===5)Z(b)||m.push(b.stateNode);else for(b=b.child;b!==null;)h.push(b),b=b.sibling}return m}var q8=Math.ceil,X0=a.ReactCurrentDispatcher,aw=a.ReactCurrentOwner,jn=a.ReactCurrentBatchConfig,Tt=0,er=null,tr=null,Dr=0,Qi=0,If=Rr(0),ur=0,up=null,Lf=0,J0=0,lw=0,fp=null,Mi=null,cw=0,uw=1/0;function kf(){uw=gn()+500}var K0=!1,fw=null,pl=null,Y0=!1,ml=null,Q0=0,dp=0,dw=null,Z0=-1,q0=0;function ui(){return Tt&6?gn():Z0!==-1?Z0:Z0=gn()}function gl(h){return h.mode&1?Tt&2&&Dr!==0?Dr&-Dr:Lc.transition!==null?(q0===0&&(h=sa,sa<<=1,!(sa&4194240)&&(sa=64),q0=h),q0):(h=Dt,h!==0?h:Ae()):1}function Ms(h,m,S){if(50<dp)throw dp=0,dw=null,Error(o(185));var b=ev(h,m);return b===null?null:(Bo(b,m,S),(!(Tt&2)||b!==er)&&(b===er&&(!(Tt&2)&&(J0|=m),ur===4&&vl(b,Dr)),Ci(b,S),m===1&&Tt===0&&!(h.mode&1)&&(kf(),Lo&&bi())),b)}function ev(h,m){h.lanes|=m;var S=h.alternate;for(S!==null&&(S.lanes|=m),S=h,h=h.return;h!==null;)h.childLanes|=m,S=h.alternate,S!==null&&(S.childLanes|=m),S=h,h=h.return;return S.tag===3?S.stateNode:null}function Ci(h,m){var S=h.callbackNode;Vh(h,m);var b=Ic(h,h===er?Dr:0);if(b===0)S!==null&&Sf(S),h.callbackNode=null,h.callbackPriority=0;else if(m=b&-b,h.callbackPriority!==m){if(S!=null&&Sf(S),m===1)h.tag===0?Kh(GP.bind(null,h)):Jh(GP.bind(null,h)),we?Le(function(){Tt===0&&bi()}):ca(ul,bi),S=null;else{switch(Wh(b)){case 1:S=ul;break;case 4:S=y0;break;case 16:S=ai;break;case 536870912:S=$h;break;default:S=ai}S=YP(S,zP.bind(null,h))}h.callbackPriority=m,h.callbackNode=S}}function zP(h,m){if(Z0=-1,q0=0,Tt&6)throw Error(o(327));var S=h.callbackNode;if(Wc()&&h.callbackNode!==S)return null;var b=Ic(h,h===er?Dr:0);if(b===0)return null;if(b&30||b&h.expiredLanes||m)m=tv(h,b);else{m=b;var P=Tt;Tt|=2;var I=WP();(er!==h||Dr!==m)&&(kf(),Hc(h,m));do try{n9();break}catch(ie){VP(h,ie)}while(1);Mf(),X0.current=I,Tt=P,tr!==null?m=0:(er=null,Dr=0,m=ur)}if(m!==0){if(m===2&&(P=la(h),P!==0&&(b=P,m=hw(h,P))),m===1)throw S=up,Hc(h,0),vl(h,b),Ci(h,gn()),S;if(m===6)vl(h,b);else{if(P=h.current.alternate,!(b&30)&&!e9(P)&&(m=tv(h,b),m===2&&(I=la(h),I!==0&&(b=I,m=hw(h,I))),m===1))throw S=up,Hc(h,0),vl(h,b),Ci(h,gn()),S;switch(h.finishedWork=P,h.finishedLanes=b,m){case 0:case 1:throw Error(o(345));case 2:Vc(h,Mi);break;case 3:if(vl(h,b),(b&130023424)===b&&(m=cw+500-gn(),10<m)){if(Ic(h,0)!==0)break;if(P=h.suspendedLanes,(P&b)!==b){ui(),h.pingedLanes|=h.suspendedLanes&P;break}h.timeoutHandle=oe(Vc.bind(null,h,Mi),m);break}Vc(h,Mi);break;case 4:if(vl(h,b),(b&4194240)===b)break;for(m=h.eventTimes,P=-1;0<b;){var K=31-zr(b);I=1<<K,K=m[K],K>P&&(P=K),b&=~I}if(b=P,b=gn()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*q8(b/1960))-b,10<b){h.timeoutHandle=oe(Vc.bind(null,h,Mi),b);break}Vc(h,Mi);break;case 5:Vc(h,Mi);break;default:throw Error(o(329))}}}return Ci(h,gn()),h.callbackNode===S?zP.bind(null,h):null}function hw(h,m){var S=fp;return h.current.memoizedState.isDehydrated&&(Hc(h,m).flags|=256),h=tv(h,m),h!==2&&(m=Mi,Mi=S,m!==null&&pw(m)),h}function pw(h){Mi===null?Mi=h:Mi.push.apply(Mi,h)}function e9(h){for(var m=h;;){if(m.flags&16384){var S=m.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var b=0;b<S.length;b++){var P=S[b],I=P.getSnapshot;P=P.value;try{if(!Xi(I(),P))return!1}catch{return!1}}}if(S=m.child,m.subtreeFlags&16384&&S!==null)S.return=m,m=S;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function vl(h,m){for(m&=~lw,m&=~J0,h.suspendedLanes|=m,h.pingedLanes&=~m,h=h.expirationTimes;0<m;){var S=31-zr(m),b=1<<S;h[S]=-1,m&=~b}}function GP(h){if(Tt&6)throw Error(o(327));Wc();var m=Ic(h,0);if(!(m&1))return Ci(h,gn()),null;var S=tv(h,m);if(h.tag!==0&&S===2){var b=la(h);b!==0&&(m=b,S=hw(h,b))}if(S===1)throw S=up,Hc(h,0),vl(h,m),Ci(h,gn()),S;if(S===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=m,Vc(h,Mi),Ci(h,gn()),null}function HP(h){ml!==null&&ml.tag===0&&!(Tt&6)&&Wc();var m=Tt;Tt|=1;var S=jn.transition,b=Dt;try{if(jn.transition=null,Dt=1,h)return h()}finally{Dt=b,jn.transition=S,Tt=m,!(Tt&6)&&bi()}}function mw(){Qi=If.current,gt(If)}function Hc(h,m){h.finishedWork=null,h.finishedLanes=0;var S=h.timeoutHandle;if(S!==Te&&(h.timeoutHandle=Te,de(S)),tr!==null)for(S=tr.return;S!==null;){var b=S;switch(Bx(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&ll();break;case 3:Df(),gt(Vn),gt(Ht),Ux();break;case 5:Fx(b);break;case 4:Df();break;case 13:gt(An);break;case 19:gt(An);break;case 10:ko(b.type._context);break;case 22:case 23:mw()}S=S.return}if(er=h,tr=h=yl(h.current,null),Dr=Qi=m,ur=0,up=null,lw=J0=Lf=0,Mi=fp=null,cr!==null){for(m=0;m<cr.length;m++)if(S=cr[m],b=S.interleaved,b!==null){S.interleaved=null;var P=b.next,I=S.pending;if(I!==null){var K=I.next;I.next=P,b.next=K}S.pending=b}cr=null}return h}function VP(h,m){do{var S=tr;try{if(Mf(),E0.current=I0,T0){for(var b=Ln.memoizedState;b!==null;){var P=b.queue;P!==null&&(P.pending=null),b=b.next}T0=!1}if(Bf=0,xr=Hr=Ln=null,tp=!1,np=0,aw.current=null,S===null||S.return===null){ur=1,up=m,tr=null;break}e:{var I=h,K=S.return,ie=S,be=m;if(m=Dr,ie.flags|=32768,be!==null&&typeof be=="object"&&typeof be.then=="function"){var Ve=be,rt=ie,yt=rt.tag;if(!(rt.mode&1)&&(yt===0||yt===11||yt===15)){var ct=rt.alternate;ct?(rt.updateQueue=ct.updateQueue,rt.memoizedState=ct.memoizedState,rt.lanes=ct.lanes):(rt.updateQueue=null,rt.memoizedState=null)}var sn=uP(K);if(sn!==null){sn.flags&=-257,fP(sn,K,ie,I,m),sn.mode&1&&cP(I,Ve,m),m=sn,be=Ve;var at=m.updateQueue;if(at===null){var jr=new Set;jr.add(be),m.updateQueue=jr}else at.add(be);break e}else{if(!(m&1)){cP(I,Ve,m),gw();break e}be=Error(o(426))}}else if(vn&&ie.mode&1){var Es=uP(K);if(Es!==null){!(Es.flags&65536)&&(Es.flags|=256),fP(Es,K,ie,I,m),kx(be);break e}}I=be,ur!==4&&(ur=2),fp===null?fp=[I]:fp.push(I),be=$x(be,ie),ie=K;do{switch(ie.tag){case 3:ie.flags|=65536,m&=-m,ie.lanes|=m;var he=aP(ie,be,m);PT(ie,he);break e;case 1:I=be;var ae=ie.type,_e=ie.stateNode;if(!(ie.flags&128)&&(typeof ae.getDerivedStateFromError=="function"||_e!==null&&typeof _e.componentDidCatch=="function"&&(pl===null||!pl.has(_e)))){ie.flags|=65536,m&=-m,ie.lanes|=m;var Ye=lP(ie,I,m);PT(ie,Ye);break e}}ie=ie.return}while(ie!==null)}$P(S)}catch(ot){m=ot,tr===S&&S!==null&&(tr=S=S.return);continue}break}while(1)}function WP(){var h=X0.current;return X0.current=I0,h===null?I0:h}function gw(){(ur===0||ur===3||ur===2)&&(ur=4),er===null||!(Lf&268435455)&&!(J0&268435455)||vl(er,Dr)}function tv(h,m){var S=Tt;Tt|=2;var b=WP();er===h&&Dr===m||Hc(h,m);do try{t9();break}catch(P){VP(h,P)}while(1);if(Mf(),Tt=S,X0.current=b,tr!==null)throw Error(o(261));return er=null,Dr=0,ur}function t9(){for(;tr!==null;)jP(tr)}function n9(){for(;tr!==null&&!jh();)jP(tr)}function jP(h){var m=KP(h.alternate,h,Qi);h.memoizedProps=h.pendingProps,m===null?$P(h):tr=m,aw.current=null}function $P(h){var m=h;do{var S=m.alternate;if(h=m.return,m.flags&32768){if(S=J8(S,m),S!==null){S.flags&=32767,tr=S;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{ur=6,tr=null;return}}else if(S=j8(S,m,Qi),S!==null){tr=S;return}if(m=m.sibling,m!==null){tr=m;return}tr=m=h}while(m!==null);ur===0&&(ur=5)}function Vc(h,m){var S=Dt,b=jn.transition;try{jn.transition=null,Dt=1,r9(h,m,S)}finally{jn.transition=b,Dt=S}return null}function r9(h,m,S){do Wc();while(ml!==null);if(Tt&6)throw Error(o(327));var b=h.finishedWork,P=h.finishedLanes;if(b===null)return null;if(h.finishedWork=null,h.finishedLanes=0,b===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var I=b.lanes|b.childLanes;if(cl(h,I),h===er&&(tr=er=null,Dr=0),!(b.subtreeFlags&2064)&&!(b.flags&2064)||Y0||(Y0=!0,YP(ai,function(){return Wc(),null})),I=(b.flags&15990)!==0,b.subtreeFlags&15990||I){I=jn.transition,jn.transition=null;var K=Dt;Dt=1;var ie=Tt;Tt|=4,aw.current=null,Y8(h,b),Q8(h,b),V(h.containerInfo),h.current=b,Z8(b),v0(),Tt=ie,Dt=K,jn.transition=I}else h.current=b;if(Y0&&(Y0=!1,ml=h,Q0=P),I=h.pendingLanes,I===0&&(pl=null),Xh(b.stateNode),Ci(h,gn()),m!==null)for(S=h.onRecoverableError,b=0;b<m.length;b++)S(m[b]);if(K0)throw K0=!1,h=fw,fw=null,h;return Q0&1&&h.tag!==0&&Wc(),I=h.pendingLanes,I&1?h===dw?dp++:(dp=0,dw=h):dp=0,bi(),null}function Wc(){if(ml!==null){var h=Wh(Q0),m=jn.transition,S=Dt;try{if(jn.transition=null,Dt=16>h?16:h,ml===null)var b=!1;else{if(h=ml,ml=null,Q0=0,Tt&6)throw Error(o(331));var P=Tt;for(Tt|=4,Ke=h.current;Ke!==null;){var I=Ke,K=I.child;if(Ke.flags&16){var ie=I.deletions;if(ie!==null){for(var be=0;be<ie.length;be++){var Ve=ie[be];for(Ke=Ve;Ke!==null;){var rt=Ke;switch(rt.tag){case 0:case 11:case 15:Gc(8,rt,I)}var yt=rt.child;if(yt!==null)yt.return=rt,Ke=yt;else for(;Ke!==null;){rt=Ke;var ct=rt.sibling,sn=rt.return;if(RP(rt),rt===Ve){Ke=null;break}if(ct!==null){ct.return=sn,Ke=ct;break}Ke=sn}}}var at=I.alternate;if(at!==null){var jr=at.child;if(jr!==null){at.child=null;do{var Es=jr.sibling;jr.sibling=null,jr=Es}while(jr!==null)}}Ke=I}}if(I.subtreeFlags&2064&&K!==null)K.return=I,Ke=K;else e:for(;Ke!==null;){if(I=Ke,I.flags&2048)switch(I.tag){case 0:case 11:case 15:Gc(9,I,I.return)}var he=I.sibling;if(he!==null){he.return=I.return,Ke=he;break e}Ke=I.return}}var ae=h.current;for(Ke=ae;Ke!==null;){K=Ke;var _e=K.child;if(K.subtreeFlags&2064&&_e!==null)_e.return=K,Ke=_e;else e:for(K=ae;Ke!==null;){if(ie=Ke,ie.flags&2048)try{switch(ie.tag){case 0:case 11:case 15:lp(9,ie)}}catch(ot){Ei(ie,ie.return,ot)}if(ie===K){Ke=null;break e}var Ye=ie.sibling;if(Ye!==null){Ye.return=ie.return,Ke=Ye;break e}Ke=ie.return}}if(Tt=P,bi(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(fl,h)}catch{}b=!0}return b}finally{Dt=S,jn.transition=m}}return!1}function XP(h,m,S){m=$x(S,m),m=aP(h,m,1),hl(h,m),m=ui(),h=ev(h,1),h!==null&&(Bo(h,1,m),Ci(h,m))}function Ei(h,m,S){if(h.tag===3)XP(h,h,S);else for(;m!==null;){if(m.tag===3){XP(m,h,S);break}else if(m.tag===1){var b=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(pl===null||!pl.has(b))){h=$x(S,h),h=lP(m,h,1),hl(m,h),h=ui(),m=ev(m,1),m!==null&&(Bo(m,1,h),Ci(m,h));break}}m=m.return}}function i9(h,m,S){var b=h.pingCache;b!==null&&b.delete(m),m=ui(),h.pingedLanes|=h.suspendedLanes&S,er===h&&(Dr&S)===S&&(ur===4||ur===3&&(Dr&130023424)===Dr&&500>gn()-cw?Hc(h,0):lw|=S),Ci(h,m)}function JP(h,m){m===0&&(h.mode&1?(m=oa,oa<<=1,!(oa&130023424)&&(oa=4194304)):m=1);var S=ui();h=ev(h,m),h!==null&&(Bo(h,m,S),Ci(h,S))}function s9(h){var m=h.memoizedState,S=0;m!==null&&(S=m.retryLane),JP(h,S)}function o9(h,m){var S=0;switch(h.tag){case 13:var b=h.stateNode,P=h.memoizedState;P!==null&&(S=P.retryLane);break;case 19:b=h.stateNode;break;default:throw Error(o(314))}b!==null&&b.delete(m),JP(h,S)}var KP;KP=function(h,m,S){if(h!==null)if(h.memoizedProps!==m.pendingProps||Vn.current)Yi=!0;else{if(!(h.lanes&S)&&!(m.flags&128))return Yi=!1,X8(h,m,S);Yi=!!(h.flags&131072)}else Yi=!1,vn&&m.flags&1048576&&kT(m,b0,m.index);switch(m.lanes=0,m.tag){case 2:var b=m.type;h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),h=m.pendingProps;var P=ji(m,Ht.current);_r(m,S),P=Gx(null,m,b,h,P,S);var I=Hx();return m.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Wn(b)?(I=!0,Do(m)):I=!1,m.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Tx(m),P.updater=S0,m.stateNode=P,P._reactInternals=m,Rx(m,b,h,S),m=Kx(null,m,b,!0,I,S)):(m.tag=0,vn&&I&&Dx(m),ci(null,m,P,S),m=m.child),m;case 16:b=m.elementType;e:{switch(h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),h=m.pendingProps,P=b._init,b=P(b._payload),m.type=b,P=m.tag=l9(b),h=Gr(b,h),P){case 0:m=Jx(null,m,b,h,S);break e;case 1:m=_P(null,m,b,h,S);break e;case 11:m=pP(null,m,b,h,S);break e;case 14:m=mP(null,m,b,Gr(b.type,h),S);break e}throw Error(o(306,b,""))}return m;case 0:return b=m.type,P=m.pendingProps,P=m.elementType===b?P:Gr(b,P),Jx(h,m,b,P,S);case 1:return b=m.type,P=m.pendingProps,P=m.elementType===b?P:Gr(b,P),_P(h,m,b,P,S);case 3:e:{if(xP(m),h===null)throw Error(o(387));b=m.pendingProps,I=m.memoizedState,P=I.element,TT(h,m),w0(m,b,null,S);var K=m.memoizedState;if(b=K.element,le&&I.isDehydrated)if(I={element:b,isDehydrated:!1,cache:K.cache,transitions:K.transitions},m.updateQueue.baseState=I,m.memoizedState=I,m.flags&256){P=Error(o(423)),m=wP(h,m,b,S,P);break e}else if(b!==P){P=Error(o(424)),m=wP(h,m,b,S,P);break e}else for(le&&(Ki=ce(m.stateNode.containerInfo),Ji=m,vn=!0,io=null,Yh=!1),S=GT(m,null,b,S),m.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Tf(),b===P){m=pa(h,m,S);break e}ci(h,m,b,S)}m=m.child}return m;case 5:return HT(m),h===null&&Lx(m),b=m.type,P=m.pendingProps,I=h!==null?h.memoizedProps:null,K=P.children,se(b,P)?K=null:I!==null&&se(b,I)&&(m.flags|=32),yP(h,m),ci(h,m,K,S),m.child;case 6:return h===null&&Lx(m),null;case 13:return SP(h,m,S);case 4:return Ox(m,m.stateNode.containerInfo),b=m.pendingProps,h===null?m.child=Pf(m,null,b,S):ci(h,m,b,S),m.child;case 11:return b=m.type,P=m.pendingProps,P=m.elementType===b?P:Gr(b,P),pP(h,m,b,P,S);case 7:return ci(h,m,m.pendingProps,S),m.child;case 8:return ci(h,m,m.pendingProps.children,S),m.child;case 12:return ci(h,m,m.pendingProps.children,S),m.child;case 10:e:{if(b=m.type._context,P=m.pendingProps,I=m.memoizedProps,K=P.value,_0(m,b,K),I!==null)if(Xi(I.value,K)){if(I.children===P.children&&!Vn.current){m=pa(h,m,S);break e}}else for(I=m.child,I!==null&&(I.return=m);I!==null;){var ie=I.dependencies;if(ie!==null){K=I.child;for(var be=ie.firstContext;be!==null;){if(be.context===b){if(I.tag===1){be=ua(-1,S&-S),be.tag=2;var Ve=I.updateQueue;if(Ve!==null){Ve=Ve.shared;var rt=Ve.pending;rt===null?be.next=be:(be.next=rt.next,rt.next=be),Ve.pending=be}}I.lanes|=S,be=I.alternate,be!==null&&(be.lanes|=S),qn(I.return,S,m),ie.lanes|=S;break}be=be.next}}else if(I.tag===10)K=I.type===m.type?null:I.child;else if(I.tag===18){if(K=I.return,K===null)throw Error(o(341));K.lanes|=S,ie=K.alternate,ie!==null&&(ie.lanes|=S),qn(K,S,m),K=I.sibling}else K=I.child;if(K!==null)K.return=I;else for(K=I;K!==null;){if(K===m){K=null;break}if(I=K.sibling,I!==null){I.return=K.return,K=I;break}K=K.return}I=K}ci(h,m,P.children,S),m=m.child}return m;case 9:return P=m.type,b=m.pendingProps.children,_r(m,S),P=rn(P),b=b(P),m.flags|=1,ci(h,m,b,S),m.child;case 14:return b=m.type,P=Gr(b,m.pendingProps),P=Gr(b.type,P),mP(h,m,b,P,S);case 15:return gP(h,m,m.type,m.pendingProps,S);case 17:return b=m.type,P=m.pendingProps,P=m.elementType===b?P:Gr(b,P),h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,Wn(b)?(h=!0,Do(m)):h=!1,_r(m,S),IT(m,b,P),Rx(m,b,P,S),Kx(null,m,b,!0,h,S);case 19:return CP(h,m,S);case 22:return vP(h,m,S)}throw Error(o(156,m.tag))};function YP(h,m){return ca(h,m)}function a9(h,m,S,b){this.tag=h,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cs(h,m,S,b){return new a9(h,m,S,b)}function vw(h){return h=h.prototype,!(!h||!h.isReactComponent)}function l9(h){if(typeof h=="function")return vw(h)?1:0;if(h!=null){if(h=h.$$typeof,h===v)return 11;if(h===_)return 14}return 2}function yl(h,m){var S=h.alternate;return S===null?(S=Cs(h.tag,m,h.key,h.mode),S.elementType=h.elementType,S.type=h.type,S.stateNode=h.stateNode,S.alternate=h,h.alternate=S):(S.pendingProps=m,S.type=h.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=h.flags&14680064,S.childLanes=h.childLanes,S.lanes=h.lanes,S.child=h.child,S.memoizedProps=h.memoizedProps,S.memoizedState=h.memoizedState,S.updateQueue=h.updateQueue,m=h.dependencies,S.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},S.sibling=h.sibling,S.index=h.index,S.ref=h.ref,S}function nv(h,m,S,b,P,I){var K=2;if(b=h,typeof h=="function")vw(h)&&(K=1);else if(typeof h=="string")K=5;else e:switch(h){case u:return jc(S.children,P,I,m);case f:K=8,P|=8;break;case d:return h=Cs(12,S,m,P|2),h.elementType=d,h.lanes=I,h;case y:return h=Cs(13,S,m,P),h.elementType=y,h.lanes=I,h;case x:return h=Cs(19,S,m,P),h.elementType=x,h.lanes=I,h;case A:return rv(S,P,I,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case p:K=10;break e;case g:K=9;break e;case v:K=11;break e;case _:K=14;break e;case w:K=16,b=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return m=Cs(K,S,m,P),m.elementType=h,m.type=b,m.lanes=I,m}function jc(h,m,S,b){return h=Cs(7,h,b,m),h.lanes=S,h}function rv(h,m,S,b){return h=Cs(22,h,b,m),h.elementType=A,h.lanes=S,h.stateNode={},h}function yw(h,m,S){return h=Cs(6,h,null,m),h.lanes=S,h}function _w(h,m,S){return m=Cs(4,h.children!==null?h.children:[],h.key,m),m.lanes=S,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function c9(h,m,S,b,P){this.tag=m,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Te,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wf(0),this.expirationTimes=wf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wf(0),this.identifierPrefix=b,this.onRecoverableError=P,le&&(this.mutableSourceEagerHydrationData=null)}function QP(h,m,S,b,P,I,K,ie,be){return h=new c9(h,m,S,ie,be),m===1?(m=1,I===!0&&(m|=8)):m=0,I=Cs(3,null,null,m),h.current=I,I.stateNode=h,I.memoizedState={element:b,isDehydrated:S,cache:null,transitions:null},Tx(I),h}function ZP(h){if(!h)return si;h=h._reactInternals;e:{if(T(h)!==h||h.tag!==1)throw Error(o(170));var m=h;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Wn(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(o(171))}if(h.tag===1){var S=h.type;if(Wn(S))return _f(h,S,m)}return m}function qP(h){var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=F(m),h===null?null:h.stateNode}function e3(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var S=h.retryLane;h.retryLane=S!==0&&S<m?S:m}}function xw(h,m){e3(h,m),(h=h.alternate)&&e3(h,m)}function u9(h){return h=F(h),h===null?null:h.stateNode}function f9(){return null}return t.attemptContinuousHydration=function(h){if(h.tag===13){var m=ui();Ms(h,134217728,m),xw(h,134217728)}},t.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var m=ui(),S=gl(h);Ms(h,S,m),xw(h,S)}},t.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var m=h.stateNode;if(m.current.memoizedState.isDehydrated){var S=aa(m.pendingLanes);S!==0&&(Io(m,S|1),Ci(m,gn()),!(Tt&6)&&(kf(),bi()))}break;case 13:var b=ui();HP(function(){return Ms(h,1,b)}),xw(h,1)}},t.batchedUpdates=function(h,m){var S=Tt;Tt|=1;try{return h(m)}finally{Tt=S,Tt===0&&(kf(),Lo&&bi())}},t.createComponentSelector=function(h){return{$$typeof:H0,value:h}},t.createContainer=function(h,m,S,b,P,I,K){return QP(h,m,!1,null,S,b,P,I,K)},t.createHasPseudoClassSelector=function(h){return{$$typeof:V0,value:h}},t.createHydrationContainer=function(h,m,S,b,P,I,K,ie,be){return h=QP(S,b,!0,h,P,I,K,ie,be),h.context=ZP(null),S=h.current,b=ui(),P=gl(S),I=ua(b,P),I.callback=m??null,hl(S,I),h.current.lanes=P,Bo(h,P,b),Ci(h,b),h},t.createPortal=function(h,m,S){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:h,containerInfo:m,implementation:S}},t.createRoleSelector=function(h){return{$$typeof:W0,value:h}},t.createTestNameSelector=function(h){return{$$typeof:j0,value:h}},t.createTextSelector=function(h){return{$$typeof:$0,value:h}},t.deferredUpdates=function(h){var m=Dt,S=jn.transition;try{return jn.transition=null,Dt=16,h()}finally{Dt=m,jn.transition=S}},t.discreteUpdates=function(h,m,S,b,P){var I=Dt,K=jn.transition;try{return jn.transition=null,Dt=1,h(m,S,b,P)}finally{Dt=I,jn.transition=K,Tt===0&&kf()}},t.findAllNodes=ow,t.findBoundingRects=function(h,m){if(!Oe)throw Error(o(363));m=ow(h,m),h=[];for(var S=0;S<m.length;S++)h.push(j(m[S]));for(m=h.length-1;0<m;m--){S=h[m];for(var b=S.x,P=b+S.width,I=S.y,K=I+S.height,ie=m-1;0<=ie;ie--)if(m!==ie){var be=h[ie],Ve=be.x,rt=Ve+be.width,yt=be.y,ct=yt+be.height;if(b>=Ve&&I>=yt&&P<=rt&&K<=ct){h.splice(m,1);break}else if(b!==Ve||S.width!==be.width||ct<I||yt>K){if(!(I!==yt||S.height!==be.height||rt<b||Ve>P)){Ve>b&&(be.width+=Ve-b,be.x=b),rt<P&&(be.width=P-Ve),h.splice(m,1);break}}else{yt>I&&(be.height+=yt-I,be.y=I),ct<K&&(be.height=K-yt),h.splice(m,1);break}}}return h},t.findHostInstance=qP,t.findHostInstanceWithNoPortals=function(h){return h=L(h),h=h!==null?k(h):null,h===null?null:h.stateNode},t.findHostInstanceWithWarning=function(h){return qP(h)},t.flushControlled=function(h){var m=Tt;Tt|=1;var S=jn.transition,b=Dt;try{jn.transition=null,Dt=1,h()}finally{Dt=b,jn.transition=S,Tt=m,Tt===0&&(kf(),bi())}},t.flushPassiveEffects=Wc,t.flushSync=HP,t.focusWithin=function(h,m){if(!Oe)throw Error(o(363));for(h=rw(h),m=UP(h,m),m=Array.from(m),h=0;h<m.length;){var S=m[h++];if(!Z(S)){if(S.tag===5&&Ce(S.stateNode))return!0;for(S=S.child;S!==null;)m.push(S),S=S.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Dt},t.getFindAllNodesFailureDescription=function(h,m){if(!Oe)throw Error(o(363));var S=0,b=[];h=[rw(h),0];for(var P=0;P<h.length;){var I=h[P++],K=h[P++],ie=m[K];if((I.tag!==5||!Z(I))&&(iw(I,ie)&&(b.push(sw(ie)),K++,K>S&&(S=K)),K<m.length))for(I=I.child;I!==null;)h.push(I,K),I=I.sibling}if(S<m.length){for(h=[];S<m.length;S++)h.push(sw(m[S]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},t.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return W(h.child.stateNode);default:return h.child.stateNode}},t.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:u9,findFiberByHostInstance:h.findFiberByHostInstance||f9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)h=!0;else{try{fl=m.inject(h),$i=m}catch{}h=!!m.checkDCE}}return h},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(h,m,S,b){if(!Oe)throw Error(o(363));h=ow(h,m);var P=Re(h,S,b).disconnect;return{disconnect:function(){P()}}},t.registerMutableSourceForHydration=function(h,m){var S=m._getVersion;S=S(m._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[m,S]:h.mutableSourceEagerHydrationData.push(m,S)},t.runWithPriority=function(h,m){var S=Dt;try{return Dt=h,m()}finally{Dt=S}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(h,m,S,b){var P=m.current,I=ui(),K=gl(P);return S=ZP(S),m.context===null?m.context=S:m.pendingContext=S,m=ua(I,K),m.payload={element:h},b=b===void 0?null:b,b!==null&&(m.callback=b),hl(P,m),h=Ms(P,K,I),h!==null&&x0(h,P,K),K},t};(function(n){n.exports=JY})($Y);const KY=TC(fM),YY=n=>typeof n=="object"&&typeof n.then=="function",Au=[];function hU(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function pU(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of Au)if(hU(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Au.indexOf(i);s!==-1&&Au.splice(s,1)},promise:(YY(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Au.push(i),!t)throw i.promise}const a2=(n,e,t)=>pU(n,e,!1,t),QY=(n,e,t)=>void pU(n,e,!0,t),ZY=n=>{if(n===void 0||n.length===0)Au.splice(0,Au.length);else{const e=Au.find(t=>hU(n,t.keys,t.equal));e&&e.remove()}},l2={},mU=n=>void Object.assign(l2,n);function qY(n,e){function t(u,{args:f=[],attach:d,...p},g){let v=`${u[0].toUpperCase()}${u.slice(1)}`,y;if(u==="primitive"){if(p.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=p.object;y=dd(x,{type:u,root:g,attach:d,primitive:!0})}else{const x=l2[v];if(!x)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=dd(new x(...f),{type:u,root:g,attach:d,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y instanceof pt?y.__r3f.attach="geometry":y instanceof or&&(y.__r3f.attach="material")),v!=="inject"&&RS(y,p),y}function r(u,f){let d=!1;if(f){var p,g;(p=f.__r3f)!=null&&p.attach?PS(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),d=!0),d||(g=u.__r3f)==null||g.objects.push(f),f.__r3f||dd(f,{}),f.__r3f.parent=u,hM(f),hd(f)}}function i(u,f,d){let p=!1;if(f){var g,v;if((g=f.__r3f)!=null&&g.attach)PS(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"});const y=u.children.filter(_=>_!==f),x=y.indexOf(d);u.children=[...y.slice(0,x),f,...y.slice(x)],p=!0}p||(v=u.__r3f)==null||v.objects.push(f),f.__r3f||dd(f,{}),f.__r3f.parent=u,hM(f),hd(f)}}function s(u,f,d=!1){u&&[...u].forEach(p=>o(f,p,d))}function o(u,f,d){if(f){var p,g,v;if(f.__r3f&&(f.__r3f.parent=null),(p=u.__r3f)!=null&&p.objects&&(u.__r3f.objects=u.__r3f.objects.filter(A=>A!==f)),(g=f.__r3f)!=null&&g.attach)kD(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var y;u.remove(f),(y=f.__r3f)!=null&&y.root&&aQ(f.__r3f.root,f)}const _=(v=f.__r3f)==null?void 0:v.primitive,w=d===void 0?f.dispose!==null&&!_:d;if(!_){var x;s((x=f.__r3f)==null?void 0:x.objects,f,w),s(f.children,f,w)}delete f.__r3f,w&&f.dispose&&f.type!=="Scene"&&lg.unstable_scheduleCallback(lg.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),hd(u)}}function a(u,f,d,p){var g;const v=(g=u.__r3f)==null?void 0:g.parent;if(!v)return;const y=t(f,d,u.__r3f.root);if(u.children){for(const x of u.children)x.__r3f&&r(y,x);u.children=u.children.filter(x=>!x.__r3f)}u.__r3f.objects.forEach(x=>r(y,x)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(v,u),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(v,y),y.raycast&&y.__r3f.eventCount&&y.__r3f.root.getState().internal.interaction.push(y),[p,p.alternate].forEach(x=>{x!==null&&(x.stateNode=y,x.ref&&(typeof x.ref=="function"?x.ref(y):x.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:KY({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const d=u.getState().scene;d.__r3f&&(d.__r3f.root=u,r(d,f))},removeChildFromContainer:(u,f)=>{f&&o(u.getState().scene,f)},insertInContainerBefore:(u,f,d)=>{if(!f||!d)return;const p=u.getState().scene;p.__r3f&&i(p,f,d)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;const d=(f=u==null?void 0:u.__r3f)!=null?f:{};return Boolean(d.handlers)},prepareUpdate(u,f,d,p){if(u.__r3f.primitive&&p.object&&p.object!==u)return[!0];{const{args:g=[],children:v,...y}=p,{args:x=[],children:_,...w}=d;if(!Array.isArray(g))throw new Error("R3F: the args prop must be an array!");if(g.some((M,E)=>M!==x[E]))return[!0];const A=SU(u,y,w,!0);return A.changes.length?[!1,A]:null}},commitUpdate(u,[f,d],p,g,v,y){f?a(u,p,v,y):RS(u,d)},commitMount(u,f,d,p){var g;const v=(g=u.__r3f)!=null?g:{};u.raycast&&v.handlers&&v.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>dd(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:d,parent:p}=(f=u.__r3f)!=null?f:{};d&&p&&kD(p,u,d),u.isObject3D&&(u.visible=!1),hd(u)},unhideInstance(u,f){var d;const{attach:p,parent:g}=(d=u.__r3f)!=null?d:{};p&&g&&PS(g,u,p),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),hd(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Wl.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&fn.fun(performance.now)?performance.now:fn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:fn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:fn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:RS}}var DD,BD;const TS=n=>"colorSpace"in n||"outputColorSpace"in n,gU=()=>{var n;return(n=l2.ColorManagement)!=null?n:null},vU=n=>n&&n.isOrthographicCamera,eQ=n=>n&&n.hasOwnProperty("current"),Yg=typeof window<"u"&&((DD=window.document)!=null&&DD.createElement||((BD=window.navigator)==null?void 0:BD.product)==="ReactNative")?B.useLayoutEffect:B.useEffect;function yU(n){const e=B.useRef(n);return Yg(()=>void(e.current=n),[n]),e}function tQ({set:n}){return Yg(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class _U extends B.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}_U.getDerivedStateFromError=()=>({error:!0});const xU="__default",ID=new Map,nQ=n=>n&&!!n.memoized&&!!n.changes;function wU(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Rp=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},fn={obj:n=>n===Object(n)&&!fn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(fn.str(n)||fn.num(n))return n===e;const s=fn.obj(n);if(s&&r==="reference")return n===e;const o=fn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!fn.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(fn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function rQ(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function iQ(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function dd(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function dM(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const LD=/-\d+$/;function PS(n,e,t){if(fn.str(t)){if(LD.test(t)){const s=t.replace(LD,""),{target:o,key:a}=dM(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=dM(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function kD(n,e,t){var r,i;if(fn.str(t)){const{target:s,key:o}=dM(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function SU(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const f=(u=n==null?void 0:n.__r3f)!=null?u:{},d=Object.entries(i),p=[];if(c){const v=Object.keys(l);for(let y=0;y<v.length;y++)i.hasOwnProperty(v[y])||d.unshift([v[y],xU+"remove"])}d.forEach(([v,y])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&v==="object"||fn.equ(y,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return p.push([v,y,!0,[]]);let _=[];v.includes("-")&&(_=v.split("-")),p.push([v,y,!1,_]);for(const w in i){const A=i[w];w.startsWith(`${v}-`)&&p.push([w,A,!1,w.split("-")])}});const g={...i};return f.memoizedProps&&f.memoizedProps.args&&(g.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(g.attach=f.memoizedProps.attach),{memoized:g,changes:p}}function RS(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=nQ(e)?e:SU(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let d=0;d<c.length;d++){let[p,g,v,y]=c[d];if(TS(n)){const A="srgb",M="srgb-linear";p==="encoding"?(p="colorSpace",g=g===3001?A:M):p==="outputEncoding"&&(p="outputColorSpace",g=g===3001?A:M)}let x=n,_=x[p];if(y.length&&(_=y.reduce((w,A)=>w[A],n),!(_&&_.set))){const[w,...A]=y.reverse();x=A.reverse().reduce((M,E)=>M[E],n),p=w}if(g===xU+"remove")if(x.constructor){let w=ID.get(x.constructor);w||(w=new x.constructor,ID.set(x.constructor,w)),g=w[p]}else g=0;if(v)g?s.handlers[p]=g:delete s.handlers[p],s.eventCount=Object.keys(s.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Iu)){if(Array.isArray(g))_.fromArray?_.fromArray(g):_.set(...g);else if(_.copy&&g&&g.constructor&&_.constructor===g.constructor)_.copy(g);else if(g!==void 0){const w=_ instanceof He;!w&&_.setScalar?_.setScalar(g):_ instanceof Iu&&g instanceof Iu?_.mask=g.mask:_.set(g),!gU()&&!a.linear&&w&&_.convertSRGBToLinear()}}else if(x[p]=g,x[p]instanceof mn&&x[p].format===Di&&x[p].type===ja){const w=x[p];TS(w)&&TS(a.gl)?w.colorSpace=a.gl.outputColorSpace:w.encoding=a.gl.outputEncoding}hd(n)}if(s.parent&&a.internal&&n.raycast&&u!==s.eventCount){const d=a.internal.interaction.indexOf(n);d>-1&&a.internal.interaction.splice(d,1),s.eventCount&&a.internal.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&hM(n),n}function hd(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function hM(n){n.onUpdate==null||n.onUpdate(n)}function sQ(n,e){n.manual||(vU(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function ay(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function oQ(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Wl.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Wl.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Wl.ContinuousEventPriority;default:return Wl.DefaultEventPriority}}function AU(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function aQ(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{AU(t.capturedMap,e,r,i)})}function lQ(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),f=new Set,d=[],p=c?c(u.internal.interaction):u.internal.interaction;for(let x=0;x<p.length;x++){const _=Rp(p[x]);_&&(_.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(x){const _=Rp(x);if(!_||!_.events.enabled||_.raycaster.camera===null)return[];if(_.raycaster.camera===void 0){var w;_.events.compute==null||_.events.compute(l,_,(w=_.previousRoot)==null?void 0:w.getState()),_.raycaster.camera===void 0&&(_.raycaster.camera=null)}return _.raycaster.camera?_.raycaster.intersectObject(x,!0):[]}let v=p.flatMap(g).sort((x,_)=>{const w=Rp(x.object),A=Rp(_.object);return!w||!A?x.distance-_.distance:A.events.priority-w.events.priority||x.distance-_.distance}).filter(x=>{const _=ay(x);return f.has(_)?!1:(f.add(_),!0)});u.events.filter&&(v=u.events.filter(v,u));for(const x of v){let _=x.object;for(;_;){var y;(y=_.__r3f)!=null&&y.eventCount&&d.push({...x,eventObject:_}),_=_.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let x of u.internal.capturedMap.get(l.pointerId).values())f.has(ay(x.intersection))||d.push(x.intersection);return d}function i(l,c,u,f){const d=n.getState();if(l.length){const p={stopped:!1};for(const g of l){const v=Rp(g.object)||d,{raycaster:y,pointer:x,camera:_,internal:w}=v,A=new $(x.x,x.y,0).unproject(_),M=D=>{var L,F;return(L=(F=w.capturedMap.get(D))==null?void 0:F.has(g.eventObject))!=null?L:!1},E=D=>{const L={intersection:g,target:c.target};w.capturedMap.has(D)?w.capturedMap.get(D).set(g.eventObject,L):w.capturedMap.set(D,new Map([[g.eventObject,L]])),c.target.setPointerCapture(D)},R=D=>{const L=w.capturedMap.get(D);L&&AU(w.capturedMap,g.eventObject,L,D)};let C={};for(let D in c){let L=c[D];typeof L!="function"&&(C[D]=L)}let T={...g,...C,pointer:x,intersections:l,stopped:p.stopped,delta:u,unprojectedPoint:A,ray:y.ray,camera:_,stopPropagation(){const D="pointerId"in c&&w.capturedMap.get(c.pointerId);if((!D||D.has(g.eventObject))&&(T.stopped=p.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(L=>L.eventObject===g.eventObject))){const L=l.slice(0,l.indexOf(g));s([...L,g])}},target:{hasPointerCapture:M,setPointerCapture:E,releasePointerCapture:R},currentTarget:{hasPointerCapture:M,setPointerCapture:E,releasePointerCapture:R},nativeEvent:c};if(f(T),p.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const d=u.eventObject.__r3f,p=d==null?void 0:d.handlers;if(c.hovered.delete(ay(u)),d!=null&&d.eventCount){const g={...u,intersections:l};p.onPointerOut==null||p.onPointerOut(g),p.onPointerLeave==null||p.onPointerLeave(g)}}}function o(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:f,internal:d}=n.getState();d.lastEvent.current=u;const p=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(u,p?t:void 0),x=g?e(u):0;l==="onPointerDown"&&(d.initialClick=[u.offsetX,u.offsetY],d.initialHits=y.map(w=>w.eventObject)),g&&!y.length&&x<=2&&(o(u,d.interaction),f&&f(u)),p&&s(y);function _(w){const A=w.eventObject,M=A.__r3f,E=M==null?void 0:M.handlers;if(M!=null&&M.eventCount)if(p){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const R=ay(w),C=d.hovered.get(R);C?C.stopped&&w.stopPropagation():(d.hovered.set(R,w),E.onPointerOver==null||E.onPointerOver(w),E.onPointerEnter==null||E.onPointerEnter(w))}E.onPointerMove==null||E.onPointerMove(w)}else{const R=E[l];R?(!g||d.initialHits.includes(A))&&(o(u,d.interaction.filter(C=>!d.initialHits.includes(C))),R(w)):g&&d.initialHits.includes(A)&&o(u,d.interaction.filter(C=>!d.initialHits.includes(C)))}}i(y,u,x,_)}}return{handlePointer:a}}const bU=n=>!!(n!=null&&n.render),z1=B.createContext(null),cQ=(n,e)=>{const t=o2((a,l)=>{const c=new $,u=new $,f=new $;function d(x=l().camera,_=u,w=l().size){const{width:A,height:M,top:E,left:R}=w,C=A/M;_ instanceof $?f.copy(_):f.set(..._);const T=x.getWorldPosition(c).distanceTo(f);if(vU(x))return{width:A/x.zoom,height:M/x.zoom,top:E,left:R,factor:1,distance:T,aspect:C};{const D=x.fov*Math.PI/180,L=2*Math.tan(D/2)*T,F=L*(A/M);return{width:F,height:L,top:E,left:R,factor:A/F,distance:T,aspect:C}}}let p;const g=x=>a(_=>({performance:{..._.performance,current:x}})),v=new De;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(x=1)=>n(l(),x),advance:(x,_)=>e(x,_,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new n2,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();p&&clearTimeout(p),x.performance.current!==x.performance.min&&g(x.performance.min),p=setTimeout(()=>g(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:x=>a(_=>({..._,events:{..._.events,...x}})),setSize:(x,_,w,A,M)=>{const E=l().camera,R={width:x,height:_,top:A||0,left:M||0,updateStyle:w};a(C=>({size:R,viewport:{...C.viewport,...d(E,u,R)}}))},setDpr:x=>a(_=>{const w=wU(x);return{viewport:{..._.viewport,dpr:w,initialDpr:_.viewport.initialDpr||w}}}),setFrameloop:(x="always")=>{const _=l().clock;_.stop(),_.elapsedTime=0,x!=="never"&&(_.start(),_.elapsedTime=0),a(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:B.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,_,w)=>{const A=l().internal;return A.priority=A.priority+(_>0?1:0),A.subscribers.push({ref:x,priority:_,store:w}),A.subscribers=A.subscribers.sort((M,E)=>M.priority-E.priority),()=>{const M=l().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(_>0?1:0),M.subscribers=M.subscribers.filter(E=>E.ref!==x))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:f}=t.getState();if(l!==i||c.dpr!==s){var d;i=l,s=c.dpr,sQ(a,l),u.setPixelRatio(c.dpr);const p=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,p)}a!==o&&(o=a,f(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let ly,uQ=new Set,fQ=new Set,dQ=new Set;function DS(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function Dp(n,e){switch(n){case"before":return DS(uQ,e);case"after":return DS(fQ,e);case"tail":return DS(dQ,e)}}let BS,IS;function LS(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),BS=e.internal.subscribers,ly=0;ly<BS.length;ly++)IS=BS[ly],IS.ref.current(IS.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function hQ(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,Dp("before",l);for(const u of n.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=LS(l,i))}if(Dp("after",l),t===0)return Dp("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return n.forEach(f=>o(f.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,f){if(c&&Dp("before",l),u)LS(l,u,f);else for(const d of n.values())LS(l,d.store.getState());c&&Dp("after",l)}return{loop:s,invalidate:o,advance:a}}function MU(){const n=B.useContext(z1);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Pc(n=t=>t,e){return MU()(n,e)}function gs(n,e=0){const t=MU(),r=t.getState().internal.subscribe,i=yU(n);return Yg(()=>r(i,e,t),[e,r,t]),null}function CU(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,rQ(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function Po(n,e,t,r){const i=Array.isArray(e)?e:[e],s=a2(CU(t,r),[n,...i],{equal:fn.equ});return Array.isArray(e)?s:s[0]}Po.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return QY(CU(t),[n,...r])};Po.clear=function(n,e){const t=Array.isArray(e)?e:[e];return ZY([n,...t])};const dh=new Map,{invalidate:OD,advance:FD}=hQ(dh),{reconciler:G1,applyProps:td}=qY(dh,oQ),nd={objects:"shallow",strict:!1},pQ=(n,e)=>{const t=typeof n=="function"?n(e):n;return bU(t)?t:new LE({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function mQ(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function gQ(n){const e=dh.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||cQ(OD,FD),o=t||G1.createContainer(s,Wl.ConcurrentRoot,null,!1,null,"",i,null);e||dh.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:f,size:d,scene:p,events:g,onCreated:v,shadows:y=!1,linear:x=!1,flat:_=!1,legacy:w=!1,orthographic:A=!1,frameloop:M="always",dpr:E=[1,2],performance:R,raycaster:C,camera:T,onPointerMissed:D}=u,L=s.getState(),F=L.gl;L.gl||L.set({gl:F=pQ(f,n)});let N=L.raycaster;N||L.set({raycaster:N=new cU});const{params:k,...H}=C||{};if(fn.equ(H,N,nd)||td(N,{...H}),fn.equ(k,N.params,nd)||td(N,{params:{...N.params,...k}}),!L.camera||L.camera===c&&!fn.equ(c,T,nd)){c=T;const G=T instanceof kg,X=G?T:A?new cf(0,0,0,0,.1,1e3):new ir(75,0,.1,1e3);G||(X.position.z=5,T&&td(X,T),!L.camera&&!(T!=null&&T.rotation)&&X.lookAt(0,0,0)),L.set({camera:X})}if(!L.scene){let G;p instanceof U1?G=p:(G=new U1,p&&td(G,p)),L.set({scene:dd(G)})}if(!L.xr){const G=(re,se)=>{const q=s.getState();q.frameloop!=="never"&&FD(re,!0,q,se)},X=()=>{const re=s.getState();re.gl.xr.enabled=re.gl.xr.isPresenting,re.gl.xr.setAnimationLoop(re.gl.xr.isPresenting?G:null),re.gl.xr.isPresenting||OD(re)},te={connect(){const re=s.getState().gl;re.xr.addEventListener("sessionstart",X),re.xr.addEventListener("sessionend",X)},disconnect(){const re=s.getState().gl;re.xr.removeEventListener("sessionstart",X),re.xr.removeEventListener("sessionend",X)}};F.xr&&te.connect(),L.set({xr:te})}if(F.shadowMap){const G=F.shadowMap.enabled,X=F.shadowMap.type;if(F.shadowMap.enabled=!!y,fn.boo(y))F.shadowMap.type=um;else if(fn.str(y)){var W;const te={basic:A4,percentage:U_,soft:um,variance:yu};F.shadowMap.type=(W=te[y])!=null?W:um}else fn.obj(y)&&Object.assign(F.shadowMap,y);(G!==F.shadowMap.enabled||X!==F.shadowMap.type)&&(F.shadowMap.needsUpdate=!0)}const Y=gU();Y&&("enabled"in Y?Y.enabled=!w:"legacyMode"in Y&&(Y.legacyMode=w)),td(F,{outputEncoding:x?3e3:3001,toneMapping:_?_o:ME}),L.legacy!==w&&L.set(()=>({legacy:w})),L.linear!==x&&L.set(()=>({linear:x})),L.flat!==_&&L.set(()=>({flat:_})),f&&!fn.fun(f)&&!bU(f)&&!fn.equ(f,F,nd)&&td(F,f),g&&!L.events.handlers&&L.set({events:g(s)});const V=mQ(n,d);return fn.equ(V,L.size,nd)||L.setSize(V.width,V.height,V.updateStyle,V.top,V.left),E&&L.viewport.dpr!==wU(E)&&L.setDpr(E),L.frameloop!==M&&L.setFrameloop(M),L.onPointerMissed||L.set({onPointerMissed:D}),R&&!fn.equ(R,L.performance,nd)&&L.set(G=>({performance:{...G.performance,...R}})),a=v,l=!0,this},render(u){return l||this.configure(),G1.updateContainer(B.createElement(vQ,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){EU(n)}}}function vQ({store:n,children:e,onCreated:t,rootElement:r}){return Yg(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),B.createElement(z1.Provider,{value:n},e)}function EU(n,e){const t=dh.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),G1.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),iQ(i),dh.delete(n),e&&e(n)}catch{}},500)})}}G1.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:B.version});function pM(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}pM.debounce=pM;var ND=pM;function yQ(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=B.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=B.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,f=B.useRef(!1);B.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[d,p,g]=B.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:w,top:A,width:M,height:E,bottom:R,right:C,x:T,y:D}=l.current.element.getBoundingClientRect(),L={left:w,top:A,width:M,height:E,bottom:R,right:C,x:T,y:D};l.current.element instanceof HTMLElement&&i&&(L.height=l.current.element.offsetHeight,L.width=l.current.element.offsetWidth),Object.freeze(L),f.current&&!SQ(l.current.lastBounds,L)&&a(l.current.lastBounds=L)};return[_,u?ND(_,u):_,c?ND(_,c):_]},[a,i,c,u]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",g,{capture:!0,passive:!0})))}const x=_=>{!_||_===l.current.element||(v(),l.current.element=_,l.current.scrollContainers=TU(_),y())};return xQ(g,Boolean(t)),_Q(p),B.useEffect(()=>{v(),y()},[t,g,p]),B.useEffect(()=>v,[]),[x,o,d]}function _Q(n){B.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function xQ(n,e){B.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function TU(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...TU(n.parentElement)]}const wQ=["x","y","top","bottom","left","right","width","height"],SQ=(n,e)=>wQ.every(t=>n[t]===e[t]);var AQ=Object.defineProperty,bQ=Object.defineProperties,MQ=Object.getOwnPropertyDescriptors,UD=Object.getOwnPropertySymbols,CQ=Object.prototype.hasOwnProperty,EQ=Object.prototype.propertyIsEnumerable,zD=(n,e,t)=>e in n?AQ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,GD=(n,e)=>{for(var t in e||(e={}))CQ.call(e,t)&&zD(n,t,e[t]);if(UD)for(var t of UD(e))EQ.call(e,t)&&zD(n,t,e[t]);return n},TQ=(n,e)=>bQ(n,MQ(e));function PU(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=PU(r,e,t);if(i)return i;r=e?null:r.sibling}}function RU(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const c2=RU(B.createContext(null));class DU extends B.Component{render(){return B.createElement(c2.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:HD,ReactCurrentDispatcher:VD}=B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function PQ(){const n=B.useContext(c2);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=B.useId();return B.useMemo(()=>{for(const r of[HD==null?void 0:HD.current,n,n==null?void 0:n.alternate]){if(!r)continue;const i=PU(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function RQ(){var n,e;const t=PQ(),[r]=B.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==c2&&!r.has(s)&&r.set(s,(e=VD==null?void 0:VD.current)==null?void 0:e.readContext(RU(s))),i=i.return}return r}function DQ(){const n=RQ();return B.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>B.createElement(e,null,B.createElement(t.Provider,TQ(GD({},r),{value:n.get(t)}))),e=>B.createElement(DU,GD({},e))),[n])}const kS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function BQ(n){const{handlePointer:e}=lQ(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(kS).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=kS[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=kS[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const IQ=B.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=BQ,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:d,orthographic:p,frameloop:g,dpr:v,performance:y,raycaster:x,camera:_,onPointerMissed:w,onCreated:A,...M},E){B.useMemo(()=>mU(HY),[]);const R=DQ(),[C,T]=yQ({scroll:!0,debounce:{scroll:50,resize:0},...r}),D=B.useRef(null),L=B.useRef(null);B.useImperativeHandle(E,()=>D.current);const F=yU(w),[N,k]=B.useState(!1),[H,W]=B.useState(!1);if(N)throw N;if(H)throw H;const Y=B.useRef(null);Yg(()=>{const U=D.current;T.width>0&&T.height>0&&U&&(Y.current||(Y.current=gQ(U)),Y.current.configure({gl:s,events:o,shadows:c,linear:u,flat:f,legacy:d,orthographic:p,frameloop:g,dpr:v,performance:y,raycaster:x,camera:_,size:T,onPointerMissed:(...V)=>F.current==null?void 0:F.current(...V),onCreated:V=>{V.events.connect==null||V.events.connect(a?eQ(a)?a.current:a:L.current),l&&V.setEvents({compute:(G,X)=>{const te=G[l+"X"],re=G[l+"Y"];X.pointer.set(te/X.size.width*2-1,-(re/X.size.height)*2+1),X.raycaster.setFromCamera(X.pointer,X.camera)}}),A==null||A(V)}}),Y.current.render(B.createElement(R,null,B.createElement(_U,{set:W},B.createElement(B.Suspense,{fallback:B.createElement(tQ,{set:k})},e)))))}),B.useEffect(()=>{const U=D.current;if(U)return()=>EU(U)},[]);const z=a?"none":"auto";return B.createElement("div",Qt({ref:L,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:z,...i}},M),B.createElement("div",{ref:C,style:{width:"100%",height:"100%"}},B.createElement("canvas",{ref:D,style:{display:"block"}},t)))}),LQ=B.forwardRef(function(e,t){return B.createElement(DU,null,B.createElement(IQ,Qt({},e,{ref:t})))});let Bp=0;const kQ=o2(n=>(Pd.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-Bp)/(r-Bp)*100})},Pd.onLoad=()=>{n({active:!1})},Pd.onError=e=>n(t=>({errors:[...t.errors,e]})),Pd.onProgress=(e,t,r)=>{t===r&&(Bp=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-Bp)/(r-Bp)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function u2(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function mm(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function mM(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function OQ(n,e){if(n){if(typeof n=="string")return mM(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mM(n,e)}}function FQ(n){if(Array.isArray(n))return mM(n)}function NQ(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function UQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zQ(n){return FQ(n)||NQ(n)||OQ(n)||UQ()}new De;new De;function GQ(n,e,t){return Math.max(e,Math.min(t,n))}function HQ(n,e){return GQ(n-Math.floor(n/e)*e,0,e)}function VQ(n,e){var t=HQ(e-n,Math.PI*2);return t>Math.PI&&(t-=Math.PI*2),t}function BU(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var Ps=function n(e,t,r){var i=this;BU(this,n),mm(this,"dot2",function(s,o){return i.x*s+i.y*o}),mm(this,"dot3",function(s,o,a){return i.x*s+i.y*o+i.z*a}),this.x=e,this.y=t,this.z=r},WQ=[new Ps(1,1,0),new Ps(-1,1,0),new Ps(1,-1,0),new Ps(-1,-1,0),new Ps(1,0,1),new Ps(-1,0,1),new Ps(1,0,-1),new Ps(-1,0,-1),new Ps(0,1,1),new Ps(0,-1,1),new Ps(0,1,-1),new Ps(0,-1,-1)],WD=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],jD=new Array(512),$D=new Array(512),jQ=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var r;t&1?r=WD[t]^e&255:r=WD[t]^e>>8&255,jD[t]=jD[t+256]=r,$D[t]=$D[t+256]=WQ[r%12]}};jQ(0);function $Q(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function XD(n){var e=$Q(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var XQ=function n(e){var t=this;BU(this,n),mm(this,"seed",0),mm(this,"init",function(r){t.seed=r,t.value=XD(r)}),mm(this,"value",XD(this.seed)),this.init(e)};new XQ(Math.random());var JQ=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*e*i)/t)},IU=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)};function mr(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:IU,a=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,l="velocity_"+e;if(n.__damp===void 0&&(n.__damp={}),n.__damp[l]===void 0&&(n.__damp[l]=0),Math.abs(n[e]-t)<=a)return n[e]=t,!1;r=Math.max(1e-4,r);var c=2/r,u=o(c*i),f=n[e]-t,d=t,p=s*r;f=Math.min(Math.max(f,-p),p),t=n[e]-f;var g=(n.__damp[l]+c*f)*i;n.__damp[l]=(n.__damp[l]-c*g)*u;var v=t+(f+g)*u;return d-n[e]>0==v>d&&(v=d,n.__damp[l]=(v-d)/i),n[e]=v,!0}function jd(n,e,t,r,i,s,o,a){return mr(n,e,n[e]+VQ(n[e],t),r,i,s,o,a)}var Ip=new De,JD,KD;function KQ(n,e,t,r,i,s,o){return typeof e=="number"?Ip.setScalar(e):Array.isArray(e)?Ip.set(e[0],e[1]):Ip.copy(e),JD=mr(n,"x",Ip.x,t,r,i,s,o),KD=mr(n,"y",Ip.y,t,r,i,s,o),JD||KD}var rd=new $,YD,QD,ZD;function gM(n,e,t,r,i,s,o){return typeof e=="number"?rd.setScalar(e):Array.isArray(e)?rd.set(e[0],e[1],e[2]):rd.copy(e),YD=mr(n,"x",rd.x,t,r,i,s,o),QD=mr(n,"y",rd.y,t,r,i,s,o),ZD=mr(n,"z",rd.z,t,r,i,s,o),YD||QD||ZD}var eu=new Pt,qD,eB,tB,nB;function YQ(n,e,t,r,i,s,o){return typeof e=="number"?eu.setScalar(e):Array.isArray(e)?eu.set(e[0],e[1],e[2],e[3]):eu.copy(e),qD=mr(n,"x",eu.x,t,r,i,s,o),eB=mr(n,"y",eu.y,t,r,i,s,o),tB=mr(n,"z",eu.z,t,r,i,s,o),nB=mr(n,"w",eu.w,t,r,i,s,o),qD||eB||tB||nB}var Lp=new ss,rB,iB,sB;function QQ(n,e,t,r,i,s,o){return Array.isArray(e)?Lp.set(e[0],e[1],e[2],e[3]):Lp.copy(e),rB=jd(n,"x",Lp.x,t,r,i,s,o),iB=jd(n,"y",Lp.y,t,r,i,s,o),sB=jd(n,"z",Lp.z,t,r,i,s,o),rB||iB||sB}var id=new He,oB,aB,lB;function ZQ(n,e,t,r,i,s,o){return e instanceof He?id.copy(e):Array.isArray(e)?id.setRGB(e[0],e[1],e[2]):id.set(e),oB=mr(n,"r",id.r,t,r,i,s,o),aB=mr(n,"g",id.g,t,r,i,s,o),lB=mr(n,"b",id.b,t,r,i,s,o),oB||aB||lB}var co=new Rn,wa=new Pt,cB=new Pt,kp=new Pt,uB,fB,dB,hB;function LU(n,e,t,r,i,s,o){var a=n;Array.isArray(e)?co.set(e[0],e[1],e[2],e[3]):co.copy(e);var l=n.dot(co)>0?1:-1;return co.x*=l,co.y*=l,co.z*=l,co.w*=l,uB=mr(n,"x",co.x,t,r,i,s,o),fB=mr(n,"y",co.y,t,r,i,s,o),dB=mr(n,"z",co.z,t,r,i,s,o),hB=mr(n,"w",co.w,t,r,i,s,o),wa.set(n.x,n.y,n.z,n.w).normalize(),cB.set(a.__damp.velocity_x,a.__damp.velocity_y,a.__damp.velocity_z,a.__damp.velocity_w),kp.copy(wa).multiplyScalar(cB.dot(wa)/wa.dot(wa)),a.__damp.velocity_x-=kp.x,a.__damp.velocity_y-=kp.y,a.__damp.velocity_z-=kp.z,a.__damp.velocity_w-=kp.w,n.set(wa.x,wa.y,wa.z,wa.w),uB||fB||dB||hB}var Op=new uU,pB,mB,gB;function qQ(n,e,t,r,i,s,o){return Array.isArray(e)?Op.set(e[0],e[1],e[2]):Op.copy(e),pB=mr(n,"radius",Op.radius,t,r,i,s,o),mB=jd(n,"phi",Op.phi,t,r,i,s,o),gB=jd(n,"theta",Op.theta,t,r,i,s,o),pB||mB||gB}var cy=new Ze,vB=new $,yB=new Rn,_B=new $,xB,wB,SB;function eZ(n,e,t,r,i,s,o){var a=n;return a.__damp===void 0&&(a.__damp={position:new $,rotation:new Rn,scale:new $},n.decompose(a.__damp.position,a.__damp.rotation,a.__damp.scale)),Array.isArray(e)?cy.set.apply(cy,zQ(e)):cy.copy(e),cy.decompose(vB,yB,_B),xB=gM(a.__damp.position,vB,t,r,i,s,o),wB=LU(a.__damp.rotation,yB,t,r,i,s,o),SB=gM(a.__damp.scale,_B,t,r,i,s,o),n.compose(a.__damp.position,a.__damp.rotation,a.__damp.scale),xB||wB||SB}var AB=Object.freeze({__proto__:null,rsqw:JQ,exp:IU,damp:mr,dampAngle:jd,damp2:KQ,damp3:gM,damp4:YQ,dampE:QQ,dampC:ZQ,dampQ:LU,dampS:qQ,dampM:eZ});const f2=B.createContext(null);function Qg(){return B.useContext(f2)}function tZ({eps:n=1e-5,enabled:e=!0,infinite:t,horizontal:r,pages:i=1,distance:s=1,damping:o=.25,maxSpeed:a=1/0,style:l={},children:c}){const{get:u,setEvents:f,gl:d,size:p,invalidate:g,events:v}=Pc(),[y]=B.useState(()=>document.createElement("div")),[x]=B.useState(()=>document.createElement("div")),[_]=B.useState(()=>document.createElement("div")),w=d.domElement.parentNode,A=B.useRef(0),M=B.useMemo(()=>({el:y,eps:n,fill:x,fixed:_,horizontal:r,damping:o,offset:0,delta:0,scroll:A,pages:i,range(C,T,D=0){const L=C-D,F=L+T+D*2;return this.offset<L?0:this.offset>F?1:(this.offset-L)/(F-L)},curve(C,T,D=0){return Math.sin(this.range(C,T,D)*Math.PI)},visible(C,T,D=0){const L=C-D,F=L+T+D*2;return this.offset>=L&&this.offset<=F}}),[n,o,r,i]);B.useEffect(()=>{y.style.position="absolute",y.style.width="100%",y.style.height="100%",y.style[r?"overflowX":"overflowY"]="auto",y.style[r?"overflowY":"overflowX"]="hidden",y.style.top="0px",y.style.left="0px";for(const T in l)y.style[T]=l[T];_.style.position="sticky",_.style.top="0px",_.style.left="0px",_.style.width="100%",_.style.height="100%",_.style.overflow="hidden",y.appendChild(_),x.style.height=r?"100%":`${i*s*100}%`,x.style.width=r?`${i*s*100}%`:"100%",x.style.pointerEvents="none",y.appendChild(x),w.appendChild(y),y[r?"scrollLeft":"scrollTop"]=1;const R=v.connected||d.domElement;requestAnimationFrame(()=>v.connect==null?void 0:v.connect(y));const C=u().events.compute;return f({compute(T,D){const{left:L,top:F}=w.getBoundingClientRect(),N=T.clientX-L,k=T.clientY-F;D.pointer.set(N/D.size.width*2-1,-(k/D.size.height)*2+1),D.raycaster.setFromCamera(D.pointer,D.camera)}}),()=>{w.removeChild(y),f({compute:C}),v.connect==null||v.connect(R)}},[i,s,r,y,x,_,w]),B.useEffect(()=>{if(v.connected===y){const R=p[r?"width":"height"],C=y[r?"scrollWidth":"scrollHeight"],T=C-R;let D=0,L=!0,F=!0;const N=()=>{if(!(!e||F)&&(g(),D=y[r?"scrollLeft":"scrollTop"],A.current=D/T,t)){if(!L){if(D>=T){const H=1-M.offset;y[r?"scrollLeft":"scrollTop"]=1,A.current=M.offset=-H,L=!0}else if(D<=0){const H=1+M.offset;y[r?"scrollLeft":"scrollTop"]=C,A.current=M.offset=H,L=!0}}L&&setTimeout(()=>L=!1,40)}};y.addEventListener("scroll",N,{passive:!0}),requestAnimationFrame(()=>F=!1);const k=H=>y.scrollLeft+=H.deltaY/2;return r&&y.addEventListener("wheel",k,{passive:!0}),()=>{y.removeEventListener("scroll",N),r&&y.removeEventListener("wheel",k)}}},[y,v,p,t,M,g,r,e]);let E=0;return gs((R,C)=>{E=M.offset,AB.damp(M,"offset",A.current,o,C,a,void 0,n),AB.damp(M,"delta",Math.abs(E-M.offset),o,C,a,void 0,n),M.delta>n&&g()}),B.createElement(f2.Provider,{value:M},c)}const nZ=B.forwardRef(({children:n},e)=>{const t=B.useRef(null),r=Qg(),{width:i,height:s}=Pc(o=>o.viewport);return gs(()=>{t.current.position.x=r.horizontal?-i*(r.pages-1)*r.offset:0,t.current.position.y=r.horizontal?0:s*(r.pages-1)*r.offset}),B.createElement("group",{ref:u2([e,t])},n)}),rZ=B.forwardRef(({children:n,style:e,...t},r)=>{const i=Qg(),s=B.useRef(null),{width:o,height:a}=Pc(u=>u.size),l=B.useContext(z1),c=B.useMemo(()=>x4(i.fixed),[i.fixed]);return gs(()=>{i.delta>i.eps&&(s.current.style.transform=`translate3d(${i.horizontal?-o*(i.pages-1)*i.offset:0}px,${i.horizontal?0:a*(i.pages-1)*-i.offset}px,0)`)}),c.render(B.createElement("div",Qt({ref:u2([r,s]),style:{...e,position:"absolute",top:0,left:0,willChange:"transform"}},t),B.createElement(f2.Provider,{value:i},B.createElement(z1.Provider,{value:l},n)))),null}),bB=B.forwardRef(({html:n,...e},t)=>{const r=n?rZ:nZ;return B.createElement(r,Qt({ref:t},e))});function iZ(n,e,t){return Math.max(e,Math.min(n,t))}const qr={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function MB(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function CB(n,e,t,r=.15){return r===0?iZ(n,e,t):n<e?-MB(e-n,t-e,r)+e:n>t?+MB(n-t,t-e,r)+t:n}function sZ(n,[e,t],[r,i]){const[[s,o],[a,l]]=n;return[CB(e,s,o,r),CB(t,a,l,i)]}function oZ(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function aZ(n){var e=oZ(n,"string");return typeof e=="symbol"?e:String(e)}function Pi(n,e,t){return e=aZ(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function EB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Dn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?EB(Object(t),!0).forEach(function(r){Pi(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):EB(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const kU={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function TB(n){return n?n[0].toUpperCase()+n.slice(1):""}const lZ=["enter","leave"];function cZ(n=!1,e){return n&&!lZ.includes(e)}function uZ(n,e="",t=!1){const r=kU[n],i=r&&r[e]||e;return"on"+TB(n)+TB(i)+(cZ(t,i)?"Capture":"")}const fZ=["gotpointercapture","lostpointercapture"];function dZ(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const r=fZ.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function hZ(n,e=""){const t=kU[n],r=t&&t[e]||e;return n+r}function ax(n){return"touches"in n}function OU(n){return ax(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function pZ(n){return Array.from(n.touches).filter(e=>{var t,r;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(r=t.contains)===null||r===void 0?void 0:r.call(t,e.target))})}function mZ(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function FU(n){return ax(n)?mZ(n)[0]:n}function gZ(n){return pZ(n).map(e=>e.identifier)}function OS(n){const e=FU(n);return ax(n)?e.identifier:e.pointerId}function PB(n){const e=FU(n);return[e.clientX,e.clientY]}function vZ(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s})}return e}function H1(n,...e){return typeof n=="function"?n(...e):n}function yZ(){}function _Z(...n){return n.length===0?yZ:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function RB(n,e){return Object.assign({},e,n||{})}const xZ=32;class wZ{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?H1(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:i}=this;t.args=this.args;let s=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,vZ(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const E=t._delta.map(Math.abs);qr.addTo(t._distance,E)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[l,c]=r.threshold,{_step:u,values:f}=t;if(r.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(o)>=l&&f[0]),u[1]===!1&&(u[1]=Math.abs(a)>=c&&f[1])):(u[0]===!1&&(u[0]=Math.abs(o)>=l&&Math.sign(o)*l),u[1]===!1&&(u[1]=Math.abs(a)>=c&&Math.sign(a)*c)),t.intentional=u[0]!==!1||u[1]!==!1,!t.intentional)return;const d=[0,0];if(r.hasCustomTransform){const[E,R]=f;d[0]=u[0]!==!1?E-u[0]:0,d[1]=u[1]!==!1?R-u[1]:0}else d[0]=u[0]!==!1?o-u[0]:0,d[1]=u[1]!==!1?a-u[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(d);const p=t.offset,g=t._active&&!t._blocked||t.active;g&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=H1(r.bounds,t)),this.setup&&this.setup()),t.movement=d,this.computeOffset()));const[v,y]=t.offset,[[x,_],[w,A]]=t._bounds;t.overflow=[v<x?-1:v>_?1:0,y<w?-1:y>A?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const M=t._active?r.rubberband||[0,0]:[0,0];if(t.offset=sZ(t._bounds,t.offset,M),t.delta=qr.sub(t.offset,p),this.computeMovement(),g&&(!t.last||s>xZ)){t.delta=qr.sub(t.offset,p);const E=t.delta.map(Math.abs);qr.addTo(t.distance,E),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[E[0]/s,E[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(Dn(Dn(Dn({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function SZ([n,e],t){const r=Math.abs(n),i=Math.abs(e);if(r>i&&r>t)return"x";if(i>r&&i>t)return"y"}class AZ extends wZ{constructor(...e){super(...e),Pi(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=qr.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=qr.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,r=this.config;if(!t.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[OU(e)]:r.axisThreshold;t.axis=SZ(t._movement,i)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const bZ=n=>n,DB=.15,NU={enabled(n=!0){return n},eventOptions(n,e,t){return Dn(Dn({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[DB,DB];case!1:return[0,0];default:return qr.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return qr.toVector(n)},transform(n,e,t){const r=n||t.shared.transform;return this.hasCustomTransform=!!r,r||bZ},threshold(n){return qr.toVector(n,0)}},MZ=0,Zg=Dn(Dn({},NU),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=MZ){return n},bounds(n={}){if(typeof n=="function")return s=>Zg.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[e,t],[r,i]]}}),BB={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class CZ extends AZ{constructor(...e){super(...e),Pi(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=Zg.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=OS(e),r._pointerActive=!0,this.computeValues(PB(e)),this.computeInitial(),t.preventScrollAxis&&OU(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive)return;const i=OS(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const s=PB(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=qr.sub(s,t._values),this.computeValues(s)),qr.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;const i=OS(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{const[a,l]=t._delta,[c,u]=t._movement,[f,d]=r.swipe.velocity,[p,g]=r.swipe.distance,v=r.swipe.duration;if(t.elapsedTime<v){const y=Math.abs(a/t.timeDelta),x=Math.abs(l/t.timeDelta);y>f&&Math.abs(c)>p&&(t.swipe[0]=Math.sign(a)),x>d&&Math.abs(u)>g&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,EZ(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=BB[e.key];if(t){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,i),r._keyboardActive=!0,qr.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in BB&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function EZ(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const qg=typeof window<"u"&&window.document&&window.document.createElement;function TZ(){return qg&&"ontouchstart"in window}function IB(){return TZ()||qg&&window.navigator.maxTouchPoints>1}function PZ(){return qg&&"onpointerdown"in window}function RZ(){return qg&&"exitPointerLock"in window.document}function DZ(){try{return"constructor"in GestureEvent}catch{return!1}}const Us={isBrowser:qg,gesture:DZ(),touch:IB(),touchscreen:IB(),pointer:PZ(),pointerLock:RZ()},BZ=250,IZ=180,LZ=.5,kZ=50,OZ=250,FZ=10,LB={mouse:0,touch:0,pen:8},NZ=Dn(Dn({},Zg),{},{device(n,e,{pointer:{touch:t=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&Us.pointerLock,Us.touch&&t?"touch":this.pointerLock?"mouse":Us.pointer&&!i?"pointer":Us.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?BZ:void 0,!(!Us.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:r=3,axis:i=void 0}){const s=qr.toVector(n,t?r:i?1:0);return this.filterTaps=t,this.tapsThreshold=r,s},swipe({velocity:n=LZ,distance:e=kZ,duration:t=OZ}={}){return{velocity:this.transform(qr.toVector(n)),distance:this.transform(qr.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return IZ;case!1:return 0;default:return n}},axisThreshold(n){return n?Dn(Dn({},LB),n):LB},keyboardDisplacement(n=FZ){return n}});Dn(Dn({},NU),{},{device(n,e,{shared:t,pointer:{touch:r=!1}={}}){if(t.target&&!Us.touch&&Us.gesture)return"gesture";if(Us.touch&&r)return"touch";if(Us.touchscreen){if(Us.pointer)return"pointer";if(Us.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:r={}}){const i=o=>{const a=RB(H1(t,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=RB(H1(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",qr.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});Dn(Dn({},Zg),{},{mouseOnly:(n=!0)=>n});Dn(Dn({},Zg),{},{mouseOnly:(n=!0)=>n});const UU=new Map,vM=new Map;function UZ(n){UU.set(n.key,n.engine),vM.set(n.key,n.resolver)}const zZ={key:"drag",engine:CZ,resolver:NZ};function GZ(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function HZ(n,e){if(n==null)return{};var t=GZ(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}const VZ={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=Us.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},WZ=["target","eventOptions","window","enabled","transform"];function qy(n={},e){const t={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":t[r]=i.call(t,n[r],r,n);break;case"object":t[r]=qy(n[r],i);break;case"boolean":i&&(t[r]=n[r]);break}return t}function jZ(n,e,t={}){const r=n,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,c=HZ(r,WZ);if(t.shared=qy({target:i,eventOptions:s,window:o,enabled:a,transform:l},VZ),e){const u=vM.get(e);t[e]=qy(Dn({shared:t.shared},c),u)}else for(const u in c){const f=vM.get(u);f&&(t[u]=qy(Dn({shared:t.shared},c[u]),f))}return t}class zU{constructor(e,t){Pi(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,i,s){const o=this._listeners,a=hZ(t,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=Dn(Dn({},l),s);e.addEventListener(a,i,c);const u=()=>{e.removeEventListener(a,i,c),o.delete(u)};return o.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class $Z{constructor(){Pi(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class XZ{constructor(e){Pi(this,"gestures",new Set),Pi(this,"_targetEventStore",new zU(this)),Pi(this,"gestureEventStores",{}),Pi(this,"gestureTimeoutStores",{}),Pi(this,"handlers",{}),Pi(this,"config",{}),Pi(this,"pointerIds",new Set),Pi(this,"touchIds",new Set),Pi(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),JZ(this,e)}setEventIds(e){if(ax(e))return this.touchIds=new Set(gZ(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=jZ(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const o of this.gestures){const a=this.config[o],l=kB(r,a.eventOptions,!!i);if(a.enabled){const c=UU.get(o);new c(this,e,o).bind(l)}}const s=kB(r,t.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](Dn(Dn({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=_Z(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=dZ(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function sd(n,e){n.gestures.add(e),n.gestureEventStores[e]=new zU(n,e),n.gestureTimeoutStores[e]=new $Z}function JZ(n,e){e.drag&&sd(n,"drag"),e.wheel&&sd(n,"wheel"),e.scroll&&sd(n,"scroll"),e.move&&sd(n,"move"),e.pinch&&sd(n,"pinch"),e.hover&&sd(n,"hover")}const kB=(n,e,t)=>(r,i,s,o={},a=!1)=>{var l,c;const u=(l=o.capture)!==null&&l!==void 0?l:e.capture,f=(c=o.passive)!==null&&c!==void 0?c:e.passive;let d=a?r:uZ(r,i,u);t&&f&&(d+="Passive"),n[d]=n[d]||[],n[d].push(s)};function KZ(n,e={},t,r){const i=Q.useMemo(()=>new XZ(n),[]);if(i.applyHandlers(n,r),i.applyConfig(e,t),Q.useEffect(i.effect.bind(i)),Q.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function YZ(n,e){return UZ(zZ),KZ({drag:n},e||{},"drag")}const QZ=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let c=o;if(a){const u=(l==null?void 0:l.equalityFn)||Object.is;let f=o(r.getState());c=d=>{const p=o(d);if(!u(f,p)){const g=f;a(f=p,g)}},l!=null&&l.fireImmediately&&a(f,f)}return i(c)},n(e,t,r)};function OB(n,e){if(e===hN)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===O1||e===TE){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===O1)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}var Gs=Uint8Array,jl=Uint16Array,yM=Uint32Array,GU=new Gs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),HU=new Gs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ZZ=new Gs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),VU=function(n,e){for(var t=new jl(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new yM(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},WU=VU(GU,2),jU=WU[0],qZ=WU[1];jU[28]=258,qZ[258]=28;var eq=VU(HU,0),tq=eq[0],_M=new jl(32768);for(var hn=0;hn<32768;++hn){var Pl=(hn&43690)>>>1|(hn&21845)<<1;Pl=(Pl&52428)>>>2|(Pl&13107)<<2,Pl=(Pl&61680)>>>4|(Pl&3855)<<4,_M[hn]=((Pl&65280)>>>8|(Pl&255)<<8)>>>1}var gm=function(n,e,t){for(var r=n.length,i=0,s=new jl(e);i<r;++i)++s[n[i]-1];var o=new jl(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(t){a=new jl(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],f=o[n[i]-1]++<<u,d=f|(1<<u)-1;f<=d;++f)a[_M[f]>>>l]=c}else for(a=new jl(r),i=0;i<r;++i)n[i]&&(a[i]=_M[o[n[i]-1]++]>>>15-n[i]);return a},e0=new Gs(288);for(var hn=0;hn<144;++hn)e0[hn]=8;for(var hn=144;hn<256;++hn)e0[hn]=9;for(var hn=256;hn<280;++hn)e0[hn]=7;for(var hn=280;hn<288;++hn)e0[hn]=8;var $U=new Gs(32);for(var hn=0;hn<32;++hn)$U[hn]=5;var nq=gm(e0,9,1),rq=gm($U,5,1),FS=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},uo=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},NS=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},iq=function(n){return(n/8|0)+(n&7&&1)},sq=function(n,e,t){(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof jl?jl:n instanceof yM?yM:Gs)(t-e);return r.set(n.subarray(e,t)),r},oq=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new Gs(0);var i=!e||t,s=!t||t.i;t||(t={}),e||(e=new Gs(r*3));var o=function(q){var oe=e.length;if(q>oe){var de=new Gs(Math.max(oe*2,q));de.set(e),e=de}},a=t.f||0,l=t.p||0,c=t.b||0,u=t.l,f=t.d,d=t.m,p=t.n,g=r*8;do{if(!u){t.f=a=uo(n,l,1);var v=uo(n,l+1,3);if(l+=3,v)if(v==1)u=nq,f=rq,d=9,p=5;else if(v==2){var w=uo(n,l,31)+257,A=uo(n,l+10,15)+4,M=w+uo(n,l+5,31)+1;l+=14;for(var E=new Gs(M),R=new Gs(19),C=0;C<A;++C)R[ZZ[C]]=uo(n,l+C*3,7);l+=A*3;for(var T=FS(R),D=(1<<T)-1,L=gm(R,T,1),C=0;C<M;){var F=L[uo(n,l,D)];l+=F&15;var y=F>>>4;if(y<16)E[C++]=y;else{var N=0,k=0;for(y==16?(k=3+uo(n,l,3),l+=2,N=E[C-1]):y==17?(k=3+uo(n,l,7),l+=3):y==18&&(k=11+uo(n,l,127),l+=7);k--;)E[C++]=N}}var H=E.subarray(0,w),W=E.subarray(w);d=FS(H),p=FS(W),u=gm(H,d,1),f=gm(W,p,1)}else throw"invalid block type";else{var y=iq(l)+4,x=n[y-4]|n[y-3]<<8,_=y+x;if(_>r){if(s)throw"unexpected EOF";break}i&&o(c+x),e.set(n.subarray(y,_),c),t.b=c+=x,t.p=l=_*8;continue}if(l>g){if(s)throw"unexpected EOF";break}}i&&o(c+131072);for(var Y=(1<<d)-1,z=(1<<p)-1,U=l;;U=l){var N=u[NS(n,l)&Y],V=N>>>4;if(l+=N&15,l>g){if(s)throw"unexpected EOF";break}if(!N)throw"invalid length/literal";if(V<256)e[c++]=V;else if(V==256){U=l,u=null;break}else{var G=V-254;if(V>264){var C=V-257,X=GU[C];G=uo(n,l,(1<<X)-1)+jU[C],l+=X}var te=f[NS(n,l)&z],re=te>>>4;if(!te)throw"invalid distance";l+=te&15;var W=tq[re];if(re>3){var X=HU[re];W+=NS(n,l)&(1<<X)-1,l+=X}if(l>g){if(s)throw"unexpected EOF";break}i&&o(c+131072);for(var se=c+G;c<se;c+=4)e[c]=e[c-W],e[c+1]=e[c+1-W],e[c+2]=e[c+2-W],e[c+3]=e[c+3-W];c=se}}t.l=u,t.p=U,t.b=c,u&&(a=1,t.m=d,t.d=f,t.n=p)}while(!a);return c==e.length?e:sq(e,0,c)},aq=new Gs(0),lq=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function cq(n,e){return oq((lq(n),n.subarray(2,-4)),e)}var uq=typeof TextDecoder<"u"&&new TextDecoder,fq=0;try{uq.decode(aq,{stream:!0}),fq=1}catch{}class d2 extends ri{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new gq(t)}),this.register(function(t){return new bq(t)}),this.register(function(t){return new Mq(t)}),this.register(function(t){return new Cq(t)}),this.register(function(t){return new yq(t)}),this.register(function(t){return new _q(t)}),this.register(function(t){return new xq(t)}),this.register(function(t){return new wq(t)}),this.register(function(t){return new mq(t)}),this.register(function(t){return new Sq(t)}),this.register(function(t){return new vq(t)}),this.register(function(t){return new Aq(t)}),this.register(function(t){return new hq(t)}),this.register(function(t){return new Eq(t)}),this.register(function(t){return new Tq(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=ls.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Vi(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(ls.decodeText(new Uint8Array(e.slice(0,4)))===XU){try{o[Nt.KHR_BINARY_GLTF]=new Pq(e)}catch(u){i&&i(u);return}s=JSON.parse(o[Nt.KHR_BINARY_GLTF].content)}else s=JSON.parse(ls.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new Hq(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],f=s.extensionsRequired||[];switch(u){case Nt.KHR_MATERIALS_UNLIT:o[u]=new pq;break;case Nt.KHR_DRACO_MESH_COMPRESSION:o[u]=new Rq(s,this.dracoLoader);break;case Nt.KHR_TEXTURE_TRANSFORM:o[u]=new Dq;break;case Nt.KHR_MESH_QUANTIZATION:o[u]=new Bq;break;default:f.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function dq(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Nt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class hq{constructor(e){this.parser=e,this.name=Nt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new He(16777215);l.color!==void 0&&u.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new ix(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new ag(u),c.distance=f;break;case"spot":c=new rx(u),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Ol(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class pq{constructor(){this.name=Nt.KHR_MATERIALS_UNLIT}getMaterialType(){return ki}extendParams(e,t,r){const i=[];e.color=new He(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class mq{constructor(e){this.parser=e,this.name=Nt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class gq{constructor(e){this.parser=e,this.name=Nt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Eo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new De(a,a)}return Promise.all(s)}}class vq{constructor(e){this.parser=e,this.name=Nt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Eo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class yq{constructor(e){this.parser=e,this.name=Nt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Eo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new He(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class _q{constructor(e){this.parser=e,this.name=Nt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Eo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class xq{constructor(e){this.parser=e,this.name=Nt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Eo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new He(a[0],a[1],a[2]),Promise.all(s)}}class wq{constructor(e){this.parser=e,this.name=Nt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Eo}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Sq{constructor(e){this.parser=e,this.name=Nt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Eo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new He(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class Aq{constructor(e){this.parser=e,this.name=Nt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Eo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class bq{constructor(e){this.parser=e,this.name=Nt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class Mq{constructor(e){this.parser=e,this.name=Nt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Cq{constructor(e){this.parser=e,this.name=Nt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Eq{constructor(e){this.name=Nt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,f=i.byteStride,d=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,f,d,i.mode,i.filter).then(function(p){return p.buffer}):o.ready.then(function(){const p=new ArrayBuffer(u*f);return o.decodeGltfBuffer(new Uint8Array(p),u,f,d,i.mode,i.filter),p})})}else return null}}class Tq{constructor(e){this.name=Nt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==Is.TRIANGLES&&c.mode!==Is.TRIANGLE_STRIP&&c.mode!==Is.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),f=u.isGroup?u.children:[u],d=c[0].count,p=[];for(const g of f){const v=new Ze,y=new $,x=new Rn,_=new $(1,1,1),w=new OE(g.geometry,g.material,d);for(let A=0;A<d;A++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,A),l.ROTATION&&x.fromBufferAttribute(l.ROTATION,A),l.SCALE&&_.fromBufferAttribute(l.SCALE,A),w.setMatrixAt(A,v.compose(y,x,_));for(const A in l)A!=="TRANSLATION"&&A!=="ROTATION"&&A!=="SCALE"&&g.geometry.setAttribute(A,l[A]);It.prototype.copy.call(w,g),this.parser.assignFinalMaterial(w),p.push(w)}return u.isGroup?(u.clear(),u.add(...p),u):p[0]}))}}const XU="glTF",Fp=12,FB={JSON:1313821514,BIN:5130562};class Pq{constructor(e){this.name=Nt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Fp);if(this.header={magic:ls.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==XU)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Fp,i=new DataView(e,Fp);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===FB.JSON){const l=new Uint8Array(e,Fp+s,o);this.content=ls.decodeText(l)}else if(a===FB.BIN){const l=Fp+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Rq{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Nt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const f=xM[u]||u.toLowerCase();a[f]=o[u]}for(const u in e.attributes){const f=xM[u]||u.toLowerCase();if(o[u]!==void 0){const d=r.accessors[e.attributes[u]],p=$d[d.componentType];c[f]=p.name,l[f]=d.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(f){i.decodeDracoFile(u,function(d){for(const p in d.attributes){const g=d.attributes[p],v=l[p];v!==void 0&&(g.normalized=v)}f(d)},a,c)})})}}class Dq{constructor(){this.name=Nt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Bq{constructor(){this.name=Nt.KHR_MESH_QUANTIZATION}}class JU extends Bh{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-t,f=(r-t)/u,d=f*f,p=d*f,g=e*c,v=g-c,y=-2*p+3*d,x=p-d,_=1-y,w=x-d+f;for(let A=0;A!==a;A++){const M=o[v+A+a],E=o[v+A+l]*u,R=o[g+A+a],C=o[g+A]*u;s[A]=_*M+w*E+y*R+x*C}return s}}const Iq=new Rn;class Lq extends JU{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return Iq.fromArray(s).normalize().toArray(s),s}}const Is={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},$d={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},NB={9728:Qn,9729:dn,9984:Ym,9985:G_,9986:Qm,9987:el},UB={33071:hr,33648:ah,10497:qo},US={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},xM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Dg.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Rl={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},kq={CUBICSPLINE:void 0,LINEAR:Ku,STEP:ch},zS={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Oq(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new pc({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Wa})),n.DefaultMaterial}function tu(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Ol(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Fq(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const f=e[c];if(r){const d=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(d)}if(i){const d=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(d)}if(s){const d=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(d)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],d=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=d),n.morphTargetsRelative=!0,n})}function Nq(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Uq(n){let e;const t=n.extensions&&n.extensions[Nt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+GS(t.attributes):e=n.indices+":"+GS(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+GS(n.targets[r]);return e}function GS(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function wM(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function zq(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Gq=new Ze;class Hq{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new dq,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new Ih(this.options.manager):this.textureLoader=new sU(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Vi(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};tu(s,a,i),Ol(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Nt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(ls.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=US[i.type],a=$d[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new Yt(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=US[i.type],c=$d[i.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,d=i.byteOffset||0,p=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let v,y;if(p&&p!==f){const x=Math.floor(d/p),_="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+x+":"+i.count;let w=t.cache.get(_);w||(v=new c(a,x*p,i.count*p/u),w=new Fg(v,p/u),t.cache.add(_,w)),y=new hc(w,l,d%p/u,g)}else a===null?v=new c(i.count*l):v=new c(a,d,i.count*l),y=new Yt(v,l,g);if(i.sparse!==void 0){const x=US.SCALAR,_=$d[i.sparse.indices.componentType],w=i.sparse.indices.byteOffset||0,A=i.sparse.values.byteOffset||0,M=new _(o[1],w,i.sparse.count*x),E=new c(o[2],A,i.sparse.count*l);a!==null&&(y=new Yt(y.array.slice(),y.itemSize,y.normalized));for(let R=0,C=M.length;R<C;R++){const T=M[R];if(y.setX(T,E[R*l]),l>=2&&y.setY(T,E[R*l+1]),l>=3&&y.setZ(T,E[R*l+2]),l>=4&&y.setW(T,E[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const d=(s.samplers||{})[o.sampler]||{};return u.magFilter=NB[d.magFilter]||dn,u.minFilter=NB[d.minFilter]||el,u.wrapS=UB[d.wrapS]||qo,u.wrapT=UB[d.wrapT]||qo,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){c=!0;const d=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(d),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(f){return new Promise(function(d,p){let g=d;t.isImageBitmapLoader===!0&&(g=function(v){const y=new mn(v);y.needsUpdate=!0,d(y)}),t.load(ls.resolveURL(f,s.path),g,void 0,p)})}).then(function(f){return c===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||zq(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[Nt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Nt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Nt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new q_,or.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Fr,or.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return pc}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Nt.KHR_MATERIALS_UNLIT]){const f=i[Nt.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),c.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new He(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const d=f.baseColorFactor;a.color.fromArray(d),a.opacity=d[3]}f.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",f.baseColorTexture,3001)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Vs);const u=s.alphaMode||zS.OPAQUE;if(u===zS.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===zS.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==ki&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new De(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==ki&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==ki&&(a.emissive=new He().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==ki&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const f=new o(a);return s.name&&(f.name=s.name),Ol(f,s),t.associations.set(f,{materials:e}),s.extensions&&tu(i,f,s),f})}createUniqueName(e){const t=Bt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Nt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return zB(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=Uq(c),f=i[u];if(f)o.push(f.promise);else{let d;c.extensions&&c.extensions[Nt.KHR_DRACO_MESH_COMPRESSION]?d=s(c):d=zB(new pt,c,t),i[u]={primitive:c,promise:d},o.push(d)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?Oq(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],f=[];for(let p=0,g=u.length;p<g;p++){const v=u[p],y=o[p];let x;const _=c[p];if(y.mode===Is.TRIANGLES||y.mode===Is.TRIANGLE_STRIP||y.mode===Is.TRIANGLE_FAN||y.mode===void 0)x=s.isSkinnedMesh===!0?new Z_(v,_):new Un(v,_),x.isSkinnedMesh===!0&&x.normalizeSkinWeights(),y.mode===Is.TRIANGLE_STRIP?x.geometry=OB(x.geometry,TE):y.mode===Is.TRIANGLE_FAN&&(x.geometry=OB(x.geometry,O1));else if(y.mode===Is.LINES)x=new Co(v,_);else if(y.mode===Is.LINE_STRIP)x=new ea(v,_);else if(y.mode===Is.LINE_LOOP)x=new FE(v,_);else if(y.mode===Is.POINTS)x=new NE(v,_);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(x.geometry.morphAttributes).length>0&&Nq(x,s),x.name=t.createUniqueName(s.name||"mesh_"+e),Ol(x,s),y.extensions&&tu(i,x,y),t.assignFinalMaterial(x),f.push(x)}for(let p=0,g=f.length;p<g;p++)t.associations.set(f[p],{meshes:e,primitives:p});if(f.length===1)return s.extensions&&tu(i,f[0],s),f[0];const d=new go;s.extensions&&tu(i,d,s),t.associations.set(d,{meshes:e});for(let p=0,g=f.length;p<g;p++)d.add(f[p]);return d})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new ir(Bi.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new cf(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Ol(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const f=o[c];if(f){a.push(f);const d=new Ze;s!==null&&d.fromArray(s.array,c*16),l.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new Th(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let u=0,f=r.channels.length;u<f;u++){const d=r.channels[u],p=r.samplers[d.sampler],g=d.target,v=g.node,y=r.parameters!==void 0?r.parameters[p.input]:p.input,x=r.parameters!==void 0?r.parameters[p.output]:p.output;g.node!==void 0&&(s.push(this.getDependency("node",v)),o.push(this.getDependency("accessor",y)),a.push(this.getDependency("accessor",x)),l.push(p),c.push(g))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const f=u[0],d=u[1],p=u[2],g=u[3],v=u[4],y=[];for(let x=0,_=f.length;x<_;x++){const w=f[x],A=d[x],M=p[x],E=g[x],R=v[x];if(w===void 0)continue;w.updateMatrix();let C;switch(Rl[R.path]){case Rl.weights:C=Zu;break;case Rl.rotation:C=$a;break;case Rl.position:case Rl.scale:default:C=qu;break}const T=w.name?w.name:w.uuid,D=E.interpolation!==void 0?kq[E.interpolation]:Ku,L=[];Rl[R.path]===Rl.weights?w.traverse(function(N){N.morphTargetInfluences&&L.push(N.name?N.name:N.uuid)}):L.push(T);let F=M.array;if(M.normalized){const N=wM(F.constructor),k=new Float32Array(F.length);for(let H=0,W=F.length;H<W;H++)k[H]=F[H]*N;F=k}for(let N=0,k=L.length;N<k;N++){const H=new C(L[N]+"."+Rl[R.path],A.array,F,D);E.interpolation==="CUBICSPLINE"&&(H.createInterpolant=function(Y){const z=this instanceof $a?Lq:JU;return new z(this.times,this.values,this.getValueSize()/3,Y)},H.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),y.push(H)}}return new ef(i,void 0,y)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],f=c[1],d=c[2];d!==null&&u.traverse(function(p){p.isSkinnedMesh&&p.bind(d,Gq)});for(let p=0,g=f.length;p<g;p++)u.add(f[p]);return u})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new fh:c.length>1?u=new go:c.length===1?u=c[0]:u=new It,u!==c[0])for(let f=0,d=c.length;f<d;f++)u.add(c[f]);if(s.name&&(u.userData.name=s.name,u.name=o),Ol(u,s),s.extensions&&tu(r,u,s),s.matrix!==void 0){const f=new Ze;f.fromArray(s.matrix),u.applyMatrix4(f)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new go;r.name&&(s.name=i.createUniqueName(r.name)),Ol(s,r),r.extensions&&tu(t,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,f=l.length;u<f;u++)s.add(l[u]);const c=u=>{const f=new Map;for(const[d,p]of i.associations)(d instanceof or||d instanceof mn)&&f.set(d,p);return u.traverse(d=>{const p=i.associations.get(d);p!=null&&f.set(d,p)}),f};return i.associations=c(s),s})}}function Vq(n,e,t){const r=e.attributes,i=new nl;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new $(l[0],l[1],l[2]),new $(c[0],c[1],c[2])),a.normalized){const u=wM($d[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new $,l=new $;for(let c=0,u=s.length;c<u;c++){const f=s[c];if(f.POSITION!==void 0){const d=t.json.accessors[f.POSITION],p=d.min,g=d.max;if(p!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(p[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(p[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(p[2]),Math.abs(g[2]))),d.normalized){const v=wM($d[d.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new rl;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function zB(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=xM[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Ol(n,e),Vq(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?Fq(n,e.targets,t):n})}function KU(n,e,t){const r=t.length-n-1;if(e>=t[r])return r-1;if(e<=t[n])return n;let i=n,s=r,o=Math.floor((i+s)/2);for(;e<t[o]||e>=t[o+1];)e<t[o]?s=o:i=o,o=Math.floor((i+s)/2);return o}function Wq(n,e,t,r){const i=[],s=[],o=[];i[0]=1;for(let a=1;a<=t;++a){s[a]=e-r[n+1-a],o[a]=r[n+a]-e;let l=0;for(let c=0;c<a;++c){const u=o[c+1],f=s[a-c],d=i[c]/(u+f);i[c]=l+u*d,l=f*d}i[a]=l}return i}function jq(n,e,t,r){const i=KU(n,r,e),s=Wq(i,r,n,e),o=new Pt(0,0,0,0);for(let a=0;a<=n;++a){const l=t[i-n+a],c=s[a],u=l.w*c;o.x+=l.x*u,o.y+=l.y*u,o.z+=l.z*u,o.w+=l.w*c}return o}function $q(n,e,t,r,i){const s=[];for(let f=0;f<=t;++f)s[f]=0;const o=[];for(let f=0;f<=r;++f)o[f]=s.slice(0);const a=[];for(let f=0;f<=t;++f)a[f]=s.slice(0);a[0][0]=1;const l=s.slice(0),c=s.slice(0);for(let f=1;f<=t;++f){l[f]=e-i[n+1-f],c[f]=i[n+f]-e;let d=0;for(let p=0;p<f;++p){const g=c[p+1],v=l[f-p];a[f][p]=g+v;const y=a[p][f-1]/a[f][p];a[p][f]=d+g*y,d=v*y}a[f][f]=d}for(let f=0;f<=t;++f)o[0][f]=a[f][t];for(let f=0;f<=t;++f){let d=0,p=1;const g=[];for(let v=0;v<=t;++v)g[v]=s.slice(0);g[0][0]=1;for(let v=1;v<=r;++v){let y=0;const x=f-v,_=t-v;f>=v&&(g[p][0]=g[d][0]/a[_+1][x],y=g[p][0]*a[x][_]);const w=x>=-1?1:-x,A=f-1<=_?v-1:t-f;for(let E=w;E<=A;++E)g[p][E]=(g[d][E]-g[d][E-1])/a[_+1][x+E],y+=g[p][E]*a[x+E][_];f<=_&&(g[p][v]=-g[d][v-1]/a[_+1][f],y+=g[p][v]*a[f][_]),o[v][f]=y;const M=d;d=p,p=M}}let u=t;for(let f=1;f<=r;++f){for(let d=0;d<=t;++d)o[f][d]*=u;u*=t-f}return o}function Xq(n,e,t,r,i){const s=i<n?i:n,o=[],a=KU(n,r,e),l=$q(a,r,n,s,e),c=[];for(let u=0;u<t.length;++u){const f=t[u].clone(),d=f.w;f.x*=d,f.y*=d,f.z*=d,c[u]=f}for(let u=0;u<=s;++u){const f=c[a-n].clone().multiplyScalar(l[u][0]);for(let d=1;d<=n;++d)f.add(c[a-n+d].clone().multiplyScalar(l[u][d]));o[u]=f}for(let u=s+1;u<=i+1;++u)o[u]=new Pt(0,0,0);return o}function Jq(n,e){let t=1;for(let i=2;i<=n;++i)t*=i;let r=1;for(let i=2;i<=e;++i)r*=i;for(let i=2;i<=n-e;++i)r*=i;return t/r}function Kq(n){const e=n.length,t=[],r=[];for(let s=0;s<e;++s){const o=n[s];t[s]=new $(o.x,o.y,o.z),r[s]=o.w}const i=[];for(let s=0;s<e;++s){const o=t[s].clone();for(let a=1;a<=s;++a)o.sub(i[s-a].clone().multiplyScalar(Jq(s,a)*r[a]));i[s]=o.divideScalar(r[0])}return i}function Yq(n,e,t,r,i){const s=Xq(n,e,t,r,i);return Kq(s)}class GB extends eo{constructor(e,t,r,i,s){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=i||0,this.endKnot=s||this.knots.length-1;for(let o=0;o<r.length;++o){const a=r[o];this.controlPoints[o]=new Pt(a.x,a.y,a.z,a.w)}}getPoint(e,t){const r=t||new $,i=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),s=jq(this.degree,this.knots,this.controlPoints,i);return s.w!=1&&s.divideScalar(s.w),r.set(s.x,s.y,s.z)}getTangent(e,t){const r=t||new $,i=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),s=Yq(this.degree,this.knots,this.controlPoints,i,1);return r.copy(s[1]).normalize(),r}}let Ot,Jn,Ti;class h2 extends ri{constructor(e){super(e)}load(e,t,r,i){const s=this,o=s.path===""?ls.extractUrlBase(e):s.path,a=new Vi(this.manager);a.setPath(s.path),a.setResponseType("arraybuffer"),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{t(s.parse(l,o))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e,t){if(nee(e))Ot=new tee().parse(e);else{const i=qU(e);if(!ree(i))throw new Error("THREE.FBXLoader: Unknown format.");if(VB(i)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+VB(i));Ot=new eee().parse(i)}const r=new Ih(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new Qq(r,this.manager).parse(Ot)}}class Qq{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){Jn=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),r=this.parseMaterials(t),i=this.parseDeformers(),s=new Zq().parse(i);return this.parseScene(i,s,r),Ti}parseConnections(){const e=new Map;return"Connections"in Ot&&Ot.Connections.connections.forEach(function(r){const i=r[0],s=r[1],o=r[2];e.has(i)||e.set(i,{parents:[],children:[]});const a={ID:s,relationship:o};e.get(i).parents.push(a),e.has(s)||e.set(s,{parents:[],children:[]});const l={ID:i,relationship:o};e.get(s).children.push(l)}),e}parseImages(){const e={},t={};if("Video"in Ot.Objects){const r=Ot.Objects.Video;for(const i in r){const s=r[i],o=parseInt(i);if(e[o]=s.RelativeFilename||s.Filename,"Content"in s){const a=s.Content instanceof ArrayBuffer&&s.Content.byteLength>0,l=typeof s.Content=="string"&&s.Content!=="";if(a||l){const c=this.parseImage(r[i]);t[s.RelativeFilename||s.Filename]=c}}}}for(const r in e){const i=e[r];t[i]!==void 0?e[r]=t[i]:e[r]=e[r].split("\\").pop()}return e}parseImage(e){const t=e.Content,r=e.RelativeFilename||e.Filename,i=r.slice(r.lastIndexOf(".")+1).toLowerCase();let s;switch(i){case"bmp":s="image/bmp";break;case"jpg":case"jpeg":s="image/jpeg";break;case"png":s="image/png";break;case"tif":s="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",r),s="image/tga";break;default:console.warn('FBXLoader: Image type "'+i+'" is not supported.');return}if(typeof t=="string")return"data:"+s+";base64,"+t;{const o=new Uint8Array(t);return window.URL.createObjectURL(new Blob([o],{type:s}))}}parseTextures(e){const t=new Map;if("Texture"in Ot.Objects){const r=Ot.Objects.Texture;for(const i in r){const s=this.parseTexture(r[i],e);t.set(parseInt(i),s)}}return t}parseTexture(e,t){const r=this.loadTexture(e,t);r.ID=e.id,r.name=e.attrName;const i=e.WrapModeU,s=e.WrapModeV,o=i!==void 0?i.value:0,a=s!==void 0?s.value:0;if(r.wrapS=o===0?qo:hr,r.wrapT=a===0?qo:hr,"Scaling"in e){const l=e.Scaling.value;r.repeat.x=l[0],r.repeat.y=l[1]}return r}loadTexture(e,t){let r;const i=this.textureLoader.path,s=Jn.get(e.id).children;s!==void 0&&s.length>0&&t[s[0].ID]!==void 0&&(r=t[s[0].ID],(r.indexOf("blob:")===0||r.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let o;const a=e.FileName.slice(-3).toLowerCase();if(a==="tga"){const l=this.manager.getHandler(".tga");l===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),o=new mn):(l.setPath(this.textureLoader.path),o=l.load(r))}else a==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),o=new mn):o=this.textureLoader.load(r);return this.textureLoader.setPath(i),o}parseMaterials(e){const t=new Map;if("Material"in Ot.Objects){const r=Ot.Objects.Material;for(const i in r){const s=this.parseMaterial(r[i],e);s!==null&&t.set(parseInt(i),s)}}return t}parseMaterial(e,t){const r=e.id,i=e.attrName;let s=e.ShadingModel;if(typeof s=="object"&&(s=s.value),!Jn.has(r))return null;const o=this.parseParameters(e,t,r);let a;switch(s.toLowerCase()){case"phong":a=new pm;break;case"lambert":a=new $E;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',s),a=new pm;break}return a.setValues(o),a.name=i,a}parseParameters(e,t,r){const i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=new He().fromArray(e.Diffuse.value):e.DiffuseColor&&(e.DiffuseColor.type==="Color"||e.DiffuseColor.type==="ColorRGB")&&(i.color=new He().fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=new He().fromArray(e.Emissive.value):e.EmissiveColor&&(e.EmissiveColor.type==="Color"||e.EmissiveColor.type==="ColorRGB")&&(i.emissive=new He().fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=new He().fromArray(e.Specular.value):e.SpecularColor&&e.SpecularColor.type==="Color"&&(i.specular=new He().fromArray(e.SpecularColor.value));const s=this;return Jn.get(r).children.forEach(function(o){const a=o.relationship;switch(a){case"Bump":i.bumpMap=s.getTexture(t,o.ID);break;case"Maya|TEX_ao_map":i.aoMap=s.getTexture(t,o.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":i.map=s.getTexture(t,o.ID),i.map!==void 0&&("colorSpace"in i.map?i.map.colorSpace="srgb":i.map.encoding=3001);break;case"DisplacementColor":i.displacementMap=s.getTexture(t,o.ID);break;case"EmissiveColor":i.emissiveMap=s.getTexture(t,o.ID),i.emissiveMap!==void 0&&("colorSpace"in i.emissiveMap?i.emissiveMap.colorSpace="srgb":i.emissiveMap.encoding=3001);break;case"NormalMap":case"Maya|TEX_normal_map":i.normalMap=s.getTexture(t,o.ID);break;case"ReflectionColor":i.envMap=s.getTexture(t,o.ID),i.envMap!==void 0&&(i.envMap.mapping=oh,"colorSpace"in i.envMap?i.envMap.colorSpace="srgb":i.envMap.encoding=3001);break;case"SpecularColor":i.specularMap=s.getTexture(t,o.ID),i.specularMap!==void 0&&("colorSpace"in i.specularMap?i.specularMap.colorSpace="srgb":i.specularMap.encoding=3001);break;case"TransparentColor":case"TransparencyFactor":i.alphaMap=s.getTexture(t,o.ID),i.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",a);break}}),i}getTexture(e,t){return"LayeredTexture"in Ot.Objects&&t in Ot.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=Jn.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in Ot.Objects){const r=Ot.Objects.Deformer;for(const i in r){const s=r[i],o=Jn.get(parseInt(i));if(s.attrType==="Skin"){const a=this.parseSkeleton(o,r);a.ID=i,o.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),a.geometryID=o.parents[0].ID,e[i]=a}else if(s.attrType==="BlendShape"){const a={id:i};a.rawTargets=this.parseMorphTargets(o,r),a.id=i,o.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[i]=a}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const r=[];return e.children.forEach(function(i){const s=t[i.ID];if(s.attrType!=="Cluster")return;const o={ID:i.ID,indices:[],weights:[],transformLink:new Ze().fromArray(s.TransformLink.a)};"Indexes"in s&&(o.indices=s.Indexes.a,o.weights=s.Weights.a),r.push(o)}),{rawBones:r,bones:[]}}parseMorphTargets(e,t){const r=[];for(let i=0;i<e.children.length;i++){const s=e.children[i],o=t[s.ID],a={name:o.attrName,initialWeight:o.DeformPercent,id:o.id,fullWeights:o.FullWeights.a};if(o.attrType!=="BlendShapeChannel")return;a.geoID=Jn.get(parseInt(s.ID)).children.filter(function(l){return l.relationship===void 0})[0].ID,r.push(a)}return r}parseScene(e,t,r){Ti=new go;const i=this.parseModels(e.skeletons,t,r),s=Ot.Objects.Model,o=this;i.forEach(function(l){const c=s[l.ID];o.setLookAtProperties(l,c),Jn.get(l.ID).parents.forEach(function(f){const d=i.get(f.ID);d!==void 0&&d.add(l)}),l.parent===null&&Ti.add(l)}),this.bindSkeleton(e.skeletons,t,i),this.createAmbientLight(),Ti.traverse(function(l){if(l.userData.transformData){l.parent&&(l.userData.transformData.parentMatrix=l.parent.matrix,l.userData.transformData.parentMatrixWorld=l.parent.matrixWorld);const c=QU(l.userData.transformData);l.applyMatrix4(c),l.updateWorldMatrix()}});const a=new qq().parse();Ti.children.length===1&&Ti.children[0].isGroup&&(Ti.children[0].animations=a,Ti=Ti.children[0]),Ti.animations=a}parseModels(e,t,r){const i=new Map,s=Ot.Objects.Model;for(const o in s){const a=parseInt(o),l=s[o],c=Jn.get(a);let u=this.buildSkeleton(c,e,a,l.attrName);if(!u){switch(l.attrType){case"Camera":u=this.createCamera(c);break;case"Light":u=this.createLight(c);break;case"Mesh":u=this.createMesh(c,t,r);break;case"NurbsCurve":u=this.createCurve(c,t);break;case"LimbNode":case"Root":u=new fh;break;case"Null":default:u=new go;break}u.name=l.attrName?Bt.sanitizeNodeName(l.attrName):"",u.ID=a}this.getTransformData(u,l),i.set(a,u)}return i}buildSkeleton(e,t,r,i){let s=null;return e.parents.forEach(function(o){for(const a in t){const l=t[a];l.rawBones.forEach(function(c,u){if(c.ID===o.ID){const f=s;s=new fh,s.matrixWorld.copy(c.transformLink),s.name=i?Bt.sanitizeNodeName(i):"",s.ID=r,l.bones[u]=s,f!==null&&s.add(f)}})}}),s}createCamera(e){let t,r;if(e.children.forEach(function(i){const s=Ot.Objects.NodeAttribute[i.ID];s!==void 0&&(r=s)}),r===void 0)t=new It;else{let i=0;r.CameraProjectionType!==void 0&&r.CameraProjectionType.value===1&&(i=1);let s=1;r.NearPlane!==void 0&&(s=r.NearPlane.value/1e3);let o=1e3;r.FarPlane!==void 0&&(o=r.FarPlane.value/1e3);let a=window.innerWidth,l=window.innerHeight;r.AspectWidth!==void 0&&r.AspectHeight!==void 0&&(a=r.AspectWidth.value,l=r.AspectHeight.value);const c=a/l;let u=45;r.FieldOfView!==void 0&&(u=r.FieldOfView.value);const f=r.FocalLength?r.FocalLength.value:null;switch(i){case 0:t=new ir(u,c,s,o),f!==null&&t.setFocalLength(f);break;case 1:t=new cf(-a/2,a/2,l/2,-l/2,s,o);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+i+"."),t=new It;break}}return t}createLight(e){let t,r;if(e.children.forEach(function(i){const s=Ot.Objects.NodeAttribute[i.ID];s!==void 0&&(r=s)}),r===void 0)t=new It;else{let i;r.LightType===void 0?i=0:i=r.LightType.value;let s=16777215;r.Color!==void 0&&(s=new He().fromArray(r.Color.value));let o=r.Intensity===void 0?1:r.Intensity.value/100;r.CastLightOnObject!==void 0&&r.CastLightOnObject.value===0&&(o=0);let a=0;r.FarAttenuationEnd!==void 0&&(r.EnableFarAttenuation!==void 0&&r.EnableFarAttenuation.value===0?a=0:a=r.FarAttenuationEnd.value);const l=1;switch(i){case 0:t=new ag(s,o,a,l);break;case 1:t=new ix(s,o);break;case 2:let c=Math.PI/3;r.InnerAngle!==void 0&&(c=Bi.degToRad(r.InnerAngle.value));let u=0;r.OuterAngle!==void 0&&(u=Bi.degToRad(r.OuterAngle.value),u=Math.max(u,1)),t=new rx(s,o,a,c,u,l);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a PointLight."),t=new ag(s,o);break}r.CastShadows!==void 0&&r.CastShadows.value===1&&(t.castShadow=!0)}return t}createMesh(e,t,r){let i,s=null,o=null;const a=[];return e.children.forEach(function(l){t.has(l.ID)&&(s=t.get(l.ID)),r.has(l.ID)&&a.push(r.get(l.ID))}),a.length>1?o=a:a.length>0?o=a[0]:(o=new pm({color:13421772}),a.push(o)),"color"in s.attributes&&a.forEach(function(l){l.vertexColors=!0}),s.FBX_Deformer?(i=new Z_(s,o),i.normalizeSkinWeights()):i=new Un(s,o),i}createCurve(e,t){const r=e.children.reduce(function(s,o){return t.has(o.ID)&&(s=t.get(o.ID)),s},null),i=new Fr({color:3342591,linewidth:1});return new ea(r,i)}getTransformData(e,t){const r={};"InheritType"in t&&(r.inheritType=parseInt(t.InheritType.value)),"RotationOrder"in t?r.eulerOrder=ZU(t.RotationOrder.value):r.eulerOrder="ZYX","Lcl_Translation"in t&&(r.translation=t.Lcl_Translation.value),"PreRotation"in t&&(r.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(r.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(r.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(r.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(r.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(r.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(r.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(r.rotationPivot=t.RotationPivot.value),e.userData.transformData=r}setLookAtProperties(e,t){"LookAtProperty"in t&&Jn.get(e.ID).children.forEach(function(i){if(i.relationship==="LookAtProperty"){const s=Ot.Objects.Model[i.ID];if("Lcl_Translation"in s){const o=s.Lcl_Translation.value;e.target!==void 0?(e.target.position.fromArray(o),Ti.add(e.target)):e.lookAt(new $().fromArray(o))}}})}bindSkeleton(e,t,r){const i=this.parsePoseNodes();for(const s in e){const o=e[s];Jn.get(parseInt(o.ID)).parents.forEach(function(l){if(t.has(l.ID)){const c=l.ID;Jn.get(c).parents.forEach(function(f){r.has(f.ID)&&r.get(f.ID).bind(new Th(o.bones),i[f.ID])})}})}}parsePoseNodes(){const e={};if("Pose"in Ot.Objects){const t=Ot.Objects.Pose;for(const r in t)if(t[r].attrType==="BindPose"&&t[r].NbPoseNodes>0){const i=t[r].PoseNode;Array.isArray(i)?i.forEach(function(s){e[s.Node]=new Ze().fromArray(s.Matrix.a)}):e[i.Node]=new Ze().fromArray(i.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in Ot&&"AmbientColor"in Ot.GlobalSettings){const e=Ot.GlobalSettings.AmbientColor.value,t=e[0],r=e[1],i=e[2];if(t!==0||r!==0||i!==0){const s=new He(t,r,i);Ti.add(new qE(s,1))}}}}class Zq{parse(e){const t=new Map;if("Geometry"in Ot.Objects){const r=Ot.Objects.Geometry;for(const i in r){const s=Jn.get(parseInt(i)),o=this.parseGeometry(s,r[i],e);t.set(parseInt(i),o)}}return t}parseGeometry(e,t,r){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,r);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,r){const i=r.skeletons,s=[],o=e.parents.map(function(f){return Ot.Objects.Model[f.ID]});if(o.length===0)return;const a=e.children.reduce(function(f,d){return i[d.ID]!==void 0&&(f=i[d.ID]),f},null);e.children.forEach(function(f){r.morphTargets[f.ID]!==void 0&&s.push(r.morphTargets[f.ID])});const l=o[0],c={};"RotationOrder"in l&&(c.eulerOrder=ZU(l.RotationOrder.value)),"InheritType"in l&&(c.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(c.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(c.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(c.scale=l.GeometricScaling.value);const u=QU(c);return this.genGeometry(t,a,s,u)}genGeometry(e,t,r,i){const s=new pt;e.attrName&&(s.name=e.attrName);const o=this.parseGeoNode(e,t),a=this.genBuffers(o),l=new qe(a.vertex,3);if(l.applyMatrix4(i),s.setAttribute("position",l),a.colors.length>0&&s.setAttribute("color",new qe(a.colors,3)),t&&(s.setAttribute("skinIndex",new W_(a.weightsIndices,4)),s.setAttribute("skinWeight",new qe(a.vertexWeights,4)),s.FBX_Deformer=t),a.normal.length>0){const c=new Zr().getNormalMatrix(i),u=new qe(a.normal,3);u.applyNormalMatrix(c),s.setAttribute("normal",u)}if(a.uvs.forEach(function(c,u){let f="uv"+(u+1).toString();u===0&&(f="uv"),s.setAttribute(f,new qe(a.uvs[u],2))}),o.material&&o.material.mappingType!=="AllSame"){let c=a.materialIndex[0],u=0;if(a.materialIndex.forEach(function(f,d){f!==c&&(s.addGroup(u,d-u,c),c=f,u=d)}),s.groups.length>0){const f=s.groups[s.groups.length-1],d=f.start+f.count;d!==a.materialIndex.length&&s.addGroup(d,a.materialIndex.length-d,c)}s.groups.length===0&&s.addGroup(0,a.materialIndex.length,a.materialIndex[0])}return this.addMorphTargets(s,e,r,i),s}parseGeoNode(e,t){const r={};if(r.vertexPositions=e.Vertices!==void 0?e.Vertices.a:[],r.vertexIndices=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(r.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(r.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(r.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){r.uv=[];let i=0;for(;e.LayerElementUV[i];)e.LayerElementUV[i].UV&&r.uv.push(this.parseUVs(e.LayerElementUV[i])),i++}return r.weightTable={},t!==null&&(r.skeleton=t,t.rawBones.forEach(function(i,s){i.indices.forEach(function(o,a){r.weightTable[o]===void 0&&(r.weightTable[o]=[]),r.weightTable[o].push({id:s,weight:i.weights[a]})})})),r}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let r=0,i=0,s=!1,o=[],a=[],l=[],c=[],u=[],f=[];const d=this;return e.vertexIndices.forEach(function(p,g){let v,y=!1;p<0&&(p=p^-1,y=!0);let x=[],_=[];if(o.push(p*3,p*3+1,p*3+2),e.color){const w=uy(g,r,p,e.color);l.push(w[0],w[1],w[2])}if(e.skeleton){if(e.weightTable[p]!==void 0&&e.weightTable[p].forEach(function(w){_.push(w.weight),x.push(w.id)}),_.length>4){s||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),s=!0);const w=[0,0,0,0],A=[0,0,0,0];_.forEach(function(M,E){let R=M,C=x[E];A.forEach(function(T,D,L){if(R>T){L[D]=R,R=T;const F=w[D];w[D]=C,C=F}})}),x=w,_=A}for(;_.length<4;)_.push(0),x.push(0);for(let w=0;w<4;++w)u.push(_[w]),f.push(x[w])}if(e.normal){const w=uy(g,r,p,e.normal);a.push(w[0],w[1],w[2])}e.material&&e.material.mappingType!=="AllSame"&&(v=uy(g,r,p,e.material)[0]),e.uv&&e.uv.forEach(function(w,A){const M=uy(g,r,p,w);c[A]===void 0&&(c[A]=[]),c[A].push(M[0]),c[A].push(M[1])}),i++,y&&(d.genFace(t,e,o,v,a,l,c,u,f,i),r++,i=0,o=[],a=[],l=[],c=[],u=[],f=[])}),t}genFace(e,t,r,i,s,o,a,l,c,u){for(let f=2;f<u;f++)e.vertex.push(t.vertexPositions[r[0]]),e.vertex.push(t.vertexPositions[r[1]]),e.vertex.push(t.vertexPositions[r[2]]),e.vertex.push(t.vertexPositions[r[(f-1)*3]]),e.vertex.push(t.vertexPositions[r[(f-1)*3+1]]),e.vertex.push(t.vertexPositions[r[(f-1)*3+2]]),e.vertex.push(t.vertexPositions[r[f*3]]),e.vertex.push(t.vertexPositions[r[f*3+1]]),e.vertex.push(t.vertexPositions[r[f*3+2]]),t.skeleton&&(e.vertexWeights.push(l[0]),e.vertexWeights.push(l[1]),e.vertexWeights.push(l[2]),e.vertexWeights.push(l[3]),e.vertexWeights.push(l[(f-1)*4]),e.vertexWeights.push(l[(f-1)*4+1]),e.vertexWeights.push(l[(f-1)*4+2]),e.vertexWeights.push(l[(f-1)*4+3]),e.vertexWeights.push(l[f*4]),e.vertexWeights.push(l[f*4+1]),e.vertexWeights.push(l[f*4+2]),e.vertexWeights.push(l[f*4+3]),e.weightsIndices.push(c[0]),e.weightsIndices.push(c[1]),e.weightsIndices.push(c[2]),e.weightsIndices.push(c[3]),e.weightsIndices.push(c[(f-1)*4]),e.weightsIndices.push(c[(f-1)*4+1]),e.weightsIndices.push(c[(f-1)*4+2]),e.weightsIndices.push(c[(f-1)*4+3]),e.weightsIndices.push(c[f*4]),e.weightsIndices.push(c[f*4+1]),e.weightsIndices.push(c[f*4+2]),e.weightsIndices.push(c[f*4+3])),t.color&&(e.colors.push(o[0]),e.colors.push(o[1]),e.colors.push(o[2]),e.colors.push(o[(f-1)*3]),e.colors.push(o[(f-1)*3+1]),e.colors.push(o[(f-1)*3+2]),e.colors.push(o[f*3]),e.colors.push(o[f*3+1]),e.colors.push(o[f*3+2])),t.material&&t.material.mappingType!=="AllSame"&&(e.materialIndex.push(i),e.materialIndex.push(i),e.materialIndex.push(i)),t.normal&&(e.normal.push(s[0]),e.normal.push(s[1]),e.normal.push(s[2]),e.normal.push(s[(f-1)*3]),e.normal.push(s[(f-1)*3+1]),e.normal.push(s[(f-1)*3+2]),e.normal.push(s[f*3]),e.normal.push(s[f*3+1]),e.normal.push(s[f*3+2])),t.uv&&t.uv.forEach(function(d,p){e.uvs[p]===void 0&&(e.uvs[p]=[]),e.uvs[p].push(a[p][0]),e.uvs[p].push(a[p][1]),e.uvs[p].push(a[p][(f-1)*2]),e.uvs[p].push(a[p][(f-1)*2+1]),e.uvs[p].push(a[p][f*2]),e.uvs[p].push(a[p][f*2+1])})}addMorphTargets(e,t,r,i){if(r.length===0)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const s=this;r.forEach(function(o){o.rawTargets.forEach(function(a){const l=Ot.Objects.Geometry[a.geoID];l!==void 0&&s.genMorphGeometry(e,t,l,i,a.name)})})}genMorphGeometry(e,t,r,i,s){const o=t.PolygonVertexIndex!==void 0?t.PolygonVertexIndex.a:[],a=r.Vertices!==void 0?r.Vertices.a:[],l=r.Indexes!==void 0?r.Indexes.a:[],c=e.attributes.position.count*3,u=new Float32Array(c);for(let g=0;g<l.length;g++){const v=l[g]*3;u[v]=a[g*3],u[v+1]=a[g*3+1],u[v+2]=a[g*3+2]}const f={vertexIndices:o,vertexPositions:u},d=this.genBuffers(f),p=new qe(d.vertex,3);p.name=s||r.attrName,p.applyMatrix4(i),e.morphAttributes.position.push(p)}parseNormals(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Normals.a;let s=[];return r==="IndexToDirect"&&("NormalIndex"in e?s=e.NormalIndex.a:"NormalsIndex"in e&&(s=e.NormalsIndex.a)),{dataSize:3,buffer:i,indices:s,mappingType:t,referenceType:r}}parseUVs(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.UV.a;let s=[];return r==="IndexToDirect"&&(s=e.UVIndex.a),{dataSize:2,buffer:i,indices:s,mappingType:t,referenceType:r}}parseVertexColors(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Colors.a;let s=[];return r==="IndexToDirect"&&(s=e.ColorIndex.a),{dataSize:4,buffer:i,indices:s,mappingType:t,referenceType:r}}parseMaterialIndices(e){const t=e.MappingInformationType,r=e.ReferenceInformationType;if(t==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:r};const i=e.Materials.a,s=[];for(let o=0;o<i.length;++o)s.push(o);return{dataSize:1,buffer:i,indices:s,mappingType:t,referenceType:r}}parseNurbsGeometry(e){if(GB===void 0)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new pt;const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new pt;const r=t-1,i=e.KnotVector.a,s=[],o=e.Points.a;for(let f=0,d=o.length;f<d;f+=4)s.push(new Pt().fromArray(o,f));let a,l;if(e.Form==="Closed")s.push(s[0]);else if(e.Form==="Periodic"){a=r,l=i.length-1-a;for(let f=0;f<r;++f)s.push(s[f])}const u=new GB(r,i,s,a,l).getPoints(s.length*12);return new pt().setFromPoints(u)}}class qq{parse(){const e=[],t=this.parseClips();if(t!==void 0)for(const r in t){const i=t[r],s=this.addClip(i);e.push(s)}return e}parseClips(){if(Ot.Objects.AnimationCurve===void 0)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=Ot.Objects.AnimationCurveNode,t=new Map;for(const r in e){const i=e[r];if(i.attrName.match(/S|R|T|DeformPercent/)!==null){const s={id:i.id,attr:i.attrName,curves:{}};t.set(s.id,s)}}return t}parseAnimationCurves(e){const t=Ot.Objects.AnimationCurve;for(const r in t){const i={id:t[r].id,times:t[r].KeyTime.a.map(iee),values:t[r].KeyValueFloat.a},s=Jn.get(i.id);if(s!==void 0){const o=s.parents[0].ID,a=s.parents[0].relationship;a.match(/X/)?e.get(o).curves.x=i:a.match(/Y/)?e.get(o).curves.y=i:a.match(/Z/)?e.get(o).curves.z=i:a.match(/d|DeformPercent/)&&e.has(o)&&(e.get(o).curves.morph=i)}}}parseAnimationLayers(e){const t=Ot.Objects.AnimationLayer,r=new Map;for(const i in t){const s=[],o=Jn.get(parseInt(i));o!==void 0&&(o.children.forEach(function(l,c){if(e.has(l.ID)){const u=e.get(l.ID);if(u.curves.x!==void 0||u.curves.y!==void 0||u.curves.z!==void 0){if(s[c]===void 0){const f=Jn.get(l.ID).parents.filter(function(d){return d.relationship!==void 0})[0].ID;if(f!==void 0){const d=Ot.Objects.Model[f.toString()];if(d===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",l);return}const p={modelName:d.attrName?Bt.sanitizeNodeName(d.attrName):"",ID:d.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};Ti.traverse(function(g){g.ID===d.id&&(p.transform=g.matrix,g.userData.transformData&&(p.eulerOrder=g.userData.transformData.eulerOrder))}),p.transform||(p.transform=new Ze),"PreRotation"in d&&(p.preRotation=d.PreRotation.value),"PostRotation"in d&&(p.postRotation=d.PostRotation.value),s[c]=p}}s[c]&&(s[c][u.attr]=u)}else if(u.curves.morph!==void 0){if(s[c]===void 0){const f=Jn.get(l.ID).parents.filter(function(x){return x.relationship!==void 0})[0].ID,d=Jn.get(f).parents[0].ID,p=Jn.get(d).parents[0].ID,g=Jn.get(p).parents[0].ID,v=Ot.Objects.Model[g],y={modelName:v.attrName?Bt.sanitizeNodeName(v.attrName):"",morphName:Ot.Objects.Deformer[f].attrName};s[c]=y}s[c][u.attr]=u}}}),r.set(parseInt(i),s))}return r}parseAnimStacks(e){const t=Ot.Objects.AnimationStack,r={};for(const i in t){const s=Jn.get(parseInt(i)).children;s.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const o=e.get(s[0].ID);r[i]={name:t[i].attrName,layer:o}}return r}addClip(e){let t=[];const r=this;return e.layer.forEach(function(i){t=t.concat(r.generateTracks(i))}),new ef(e.name,-1,t)}generateTracks(e){const t=[];let r=new $,i=new Rn,s=new $;if(e.transform&&e.transform.decompose(r,i,s),r=r.toArray(),i=new ss().setFromQuaternion(i,e.eulerOrder).toArray(),s=s.toArray(),e.T!==void 0&&Object.keys(e.T.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.T.curves,r,"position");o!==void 0&&t.push(o)}if(e.R!==void 0&&Object.keys(e.R.curves).length>0){const o=this.generateRotationTrack(e.modelName,e.R.curves,i,e.preRotation,e.postRotation,e.eulerOrder);o!==void 0&&t.push(o)}if(e.S!==void 0&&Object.keys(e.S.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.S.curves,s,"scale");o!==void 0&&t.push(o)}if(e.DeformPercent!==void 0){const o=this.generateMorphTrack(e);o!==void 0&&t.push(o)}return t}generateVectorTrack(e,t,r,i){const s=this.getTimesForAllAxes(t),o=this.getKeyframeTrackValues(s,t,r);return new qu(e+"."+i,s,o)}generateRotationTrack(e,t,r,i,s,o){t.x!==void 0&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(Bi.degToRad)),t.y!==void 0&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(Bi.degToRad)),t.z!==void 0&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(Bi.degToRad));const a=this.getTimesForAllAxes(t),l=this.getKeyframeTrackValues(a,t,r);i!==void 0&&(i=i.map(Bi.degToRad),i.push(o),i=new ss().fromArray(i),i=new Rn().setFromEuler(i)),s!==void 0&&(s=s.map(Bi.degToRad),s.push(o),s=new ss().fromArray(s),s=new Rn().setFromEuler(s).invert());const c=new Rn,u=new ss,f=[];for(let d=0;d<l.length;d+=3)u.set(l[d],l[d+1],l[d+2],o),c.setFromEuler(u),i!==void 0&&c.premultiply(i),s!==void 0&&c.multiply(s),c.toArray(f,d/3*4);return new $a(e+".quaternion",a,f)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,r=t.values.map(function(s){return s/100}),i=Ti.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new Zu(e.modelName+".morphTargetInfluences["+i+"]",t.times,r)}getTimesForAllAxes(e){let t=[];if(e.x!==void 0&&(t=t.concat(e.x.times)),e.y!==void 0&&(t=t.concat(e.y.times)),e.z!==void 0&&(t=t.concat(e.z.times)),t=t.sort(function(r,i){return r-i}),t.length>1){let r=1,i=t[0];for(let s=1;s<t.length;s++){const o=t[s];o!==i&&(t[r]=o,i=o,r++)}t=t.slice(0,r)}return t}getKeyframeTrackValues(e,t,r){const i=r,s=[];let o=-1,a=-1,l=-1;return e.forEach(function(c){if(t.x&&(o=t.x.times.indexOf(c)),t.y&&(a=t.y.times.indexOf(c)),t.z&&(l=t.z.times.indexOf(c)),o!==-1){const u=t.x.values[o];s.push(u),i[0]=u}else s.push(i[0]);if(a!==-1){const u=t.y.values[a];s.push(u),i[1]=u}else s.push(i[1]);if(l!==-1){const u=t.z.values[l];s.push(u),i[2]=u}else s.push(i[2])}),s}interpolateRotations(e){for(let t=1;t<e.values.length;t++){const r=e.values[t-1],i=e.values[t]-r,s=Math.abs(i);if(s>=180){const o=s/180,a=i/o;let l=r+a;const c=e.times[t-1],f=(e.times[t]-c)/o;let d=c+f;const p=[],g=[];for(;d<e.times[t];)p.push(d),d+=f,g.push(l),l+=a;e.times=WB(e.times,t,p),e.values=WB(e.values,t,g)}}}}class eee{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new YU,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,r=e.split(/[\r\n]+/);return r.forEach(function(i,s){const o=i.match(/^[\s\t]*;/),a=i.match(/^[\s\t]*$/);if(o||a)return;const l=i.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),c=i.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),u=i.match("^\\t{"+(t.currentIndent-1)+"}}");l?t.parseNodeBegin(i,l):c?t.parseNodeProperty(i,c,r[++s]):u?t.popStack():i.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(i)}),this.allNodes}parseNodeBegin(e,t){const r=t[1].trim().replace(/^"/,"").replace(/"$/,""),i=t[2].split(",").map(function(l){return l.trim().replace(/^"/,"").replace(/"$/,"")}),s={name:r},o=this.parseNodeAttr(i),a=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(r,s):r in a?(r==="PoseNode"?a.PoseNode.push(s):a[r].id!==void 0&&(a[r]={},a[r][a[r].id]=a[r]),o.id!==""&&(a[r][o.id]=s)):typeof o.id=="number"?(a[r]={},a[r][o.id]=s):r!=="Properties70"&&(r==="PoseNode"?a[r]=[s]:a[r]=s),typeof o.id=="number"&&(s.id=o.id),o.name!==""&&(s.attrName=o.name),o.type!==""&&(s.attrType=o.type),this.pushStack(s)}parseNodeAttr(e){let t=e[0];e[0]!==""&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let r="",i="";return e.length>1&&(r=e[1].replace(/^(\w+)::/,""),i=e[2]),{id:t,name:r,type:i}}parseNodeProperty(e,t,r){let i=t[1].replace(/^"/,"").replace(/"$/,"").trim(),s=t[2].replace(/^"/,"").replace(/"$/,"").trim();i==="Content"&&s===","&&(s=r.replace(/"/g,"").replace(/,$/,"").trim());const o=this.getCurrentNode();if(o.name==="Properties70"){this.parseNodeSpecialProperty(e,i,s);return}if(i==="C"){const l=s.split(",").slice(1),c=parseInt(l[0]),u=parseInt(l[1]);let f=s.split(",").slice(3);f=f.map(function(d){return d.trim().replace(/^"/,"")}),i="connections",s=[c,u],oee(s,f),o[i]===void 0&&(o[i]=[])}i==="Node"&&(o.id=s),i in o&&Array.isArray(o[i])?o[i].push(s):i!=="a"?o[i]=s:o.a=s,this.setCurrentProp(o,i),i==="a"&&s.slice(-1)!==","&&(o.a=VS(s))}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,e.slice(-1)!==","&&(t.a=VS(t.a))}parseNodeSpecialProperty(e,t,r){const i=r.split('",').map(function(u){return u.trim().replace(/^\"/,"").replace(/\s/,"_")}),s=i[0],o=i[1],a=i[2],l=i[3];let c=i[4];switch(o){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=VS(c);break}this.getPrevNode()[s]={type:o,type2:a,flag:l,value:c},this.setCurrentProp(this.getPrevNode(),s)}}class tee{parse(e){const t=new HB(e);t.skip(23);const r=t.getUint32();if(r<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+r);const i=new YU;for(;!this.endOfContent(t);){const s=this.parseNode(t,r);s!==null&&i.add(s.name,s)}return i}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const r={},i=t>=7500?e.getUint64():e.getUint32(),s=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const o=e.getUint8(),a=e.getString(o);if(i===0)return null;const l=[];for(let d=0;d<s;d++)l.push(this.parseProperty(e));const c=l.length>0?l[0]:"",u=l.length>1?l[1]:"",f=l.length>2?l[2]:"";for(r.singleProperty=s===1&&e.getOffset()===i;i>e.getOffset();){const d=this.parseNode(e,t);d!==null&&this.parseSubNode(a,r,d)}return r.propertyList=l,typeof c=="number"&&(r.id=c),u!==""&&(r.attrName=u),f!==""&&(r.attrType=f),a!==""&&(r.name=a),r}parseSubNode(e,t,r){if(r.singleProperty===!0){const i=r.propertyList[0];Array.isArray(i)?(t[r.name]=r,r.a=i):t[r.name]=i}else if(e==="Connections"&&r.name==="C"){const i=[];r.propertyList.forEach(function(s,o){o!==0&&i.push(s)}),t.connections===void 0&&(t.connections=[]),t.connections.push(i)}else if(r.name==="Properties70")Object.keys(r).forEach(function(s){t[s]=r[s]});else if(e==="Properties70"&&r.name==="P"){let i=r.propertyList[0],s=r.propertyList[1];const o=r.propertyList[2],a=r.propertyList[3];let l;i.indexOf("Lcl ")===0&&(i=i.replace("Lcl ","Lcl_")),s.indexOf("Lcl ")===0&&(s=s.replace("Lcl ","Lcl_")),s==="Color"||s==="ColorRGB"||s==="Vector"||s==="Vector3D"||s.indexOf("Lcl_")===0?l=[r.propertyList[4],r.propertyList[5],r.propertyList[6]]:l=r.propertyList[4],t[i]={type:s,type2:o,flag:a,value:l}}else t[r.name]===void 0?typeof r.id=="number"?(t[r.name]={},t[r.name][r.id]=r):t[r.name]=r:r.name==="PoseNode"?(Array.isArray(t[r.name])||(t[r.name]=[t[r.name]]),t[r.name].push(r)):t[r.name][r.id]===void 0&&(t[r.name][r.id]=r)}parseProperty(e){const t=e.getString(1);let r;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return r=e.getUint32(),e.getArrayBuffer(r);case"S":return r=e.getUint32(),e.getString(r);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const i=e.getUint32(),s=e.getUint32(),o=e.getUint32();if(s===0)switch(t){case"b":case"c":return e.getBooleanArray(i);case"d":return e.getFloat64Array(i);case"f":return e.getFloat32Array(i);case"i":return e.getInt32Array(i);case"l":return e.getInt64Array(i)}const a=cq(new Uint8Array(e.getArrayBuffer(o))),l=new HB(a.buffer);switch(t){case"b":case"c":return l.getBooleanArray(i);case"d":return l.getFloat64Array(i);case"f":return l.getFloat32Array(i);case"i":return l.getInt32Array(i);case"l":return l.getInt64Array(i)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class HB{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=t!==void 0?t:!0}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(e){const t=[];for(let r=0;r<e;r++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t&2147483648?(t=~t&4294967295,e=~e&4294967295,e===4294967295&&(t=t+1&4294967295),e=e+1&4294967295,-(t*4294967296+e)):t*4294967296+e}getInt64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t*4294967296+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){let t=[];for(let i=0;i<e;i++)t[i]=this.getUint8();const r=t.indexOf(0);return r>=0&&(t=t.slice(0,r)),ls.decodeText(new Uint8Array(t))}}class YU{add(e,t){this[e]=t}}function nee(n){const e="Kaydara FBX Binary  \0";return n.byteLength>=e.length&&e===qU(n,0,e.length)}function ree(n){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let t=0;function r(i){const s=n[i-1];return n=n.slice(t+i),t++,s}for(let i=0;i<e.length;++i)if(r(1)===e[i])return!1;return!0}function VB(n){const e=/FBXVersion: (\d+)/,t=n.match(e);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function iee(n){return n/46186158e3}const see=[];function uy(n,e,t,r){let i;switch(r.mappingType){case"ByPolygonVertex":i=n;break;case"ByPolygon":i=e;break;case"ByVertice":i=t;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}r.referenceType==="IndexToDirect"&&(i=r.indices[i]);const s=i*r.dataSize,o=s+r.dataSize;return aee(see,r.buffer,s,o)}const HS=new ss,od=new $;function QU(n){const e=new Ze,t=new Ze,r=new Ze,i=new Ze,s=new Ze,o=new Ze,a=new Ze,l=new Ze,c=new Ze,u=new Ze,f=new Ze,d=new Ze,p=n.inheritType?n.inheritType:0;if(n.translation&&e.setPosition(od.fromArray(n.translation)),n.preRotation){const D=n.preRotation.map(Bi.degToRad);D.push(n.eulerOrder),t.makeRotationFromEuler(HS.fromArray(D))}if(n.rotation){const D=n.rotation.map(Bi.degToRad);D.push(n.eulerOrder),r.makeRotationFromEuler(HS.fromArray(D))}if(n.postRotation){const D=n.postRotation.map(Bi.degToRad);D.push(n.eulerOrder),i.makeRotationFromEuler(HS.fromArray(D)),i.invert()}n.scale&&s.scale(od.fromArray(n.scale)),n.scalingOffset&&a.setPosition(od.fromArray(n.scalingOffset)),n.scalingPivot&&o.setPosition(od.fromArray(n.scalingPivot)),n.rotationOffset&&l.setPosition(od.fromArray(n.rotationOffset)),n.rotationPivot&&c.setPosition(od.fromArray(n.rotationPivot)),n.parentMatrixWorld&&(f.copy(n.parentMatrix),u.copy(n.parentMatrixWorld));const g=t.clone().multiply(r).multiply(i),v=new Ze;v.extractRotation(u);const y=new Ze;y.copyPosition(u);const x=y.clone().invert().multiply(u),_=v.clone().invert().multiply(x),w=s,A=new Ze;if(p===0)A.copy(v).multiply(g).multiply(_).multiply(w);else if(p===1)A.copy(v).multiply(_).multiply(g).multiply(w);else{const L=new Ze().scale(new $().setFromMatrixScale(f)).clone().invert(),F=_.clone().multiply(L);A.copy(v).multiply(g).multiply(F).multiply(w)}const M=c.clone().invert(),E=o.clone().invert();let R=e.clone().multiply(l).multiply(c).multiply(t).multiply(r).multiply(i).multiply(M).multiply(a).multiply(o).multiply(s).multiply(E);const C=new Ze().copyPosition(R),T=u.clone().multiply(C);return d.copyPosition(T),R=d.clone().multiply(A),R.premultiply(u.invert()),R}function ZU(n){n=n||0;const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return n===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[n]}function VS(n){return n.split(",").map(function(t){return parseFloat(t)})}function qU(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=n.byteLength),ls.decodeText(new Uint8Array(n,e,t))}function oee(n,e){for(let t=0,r=n.length,i=e.length;t<i;t++,r++)n[r]=e[t]}function aee(n,e,t,r){for(let i=t,s=0;i<r;i++,s++)n[s]=e[i];return n}function WB(n,e,t){return n.slice(0,e).concat(t).concat(n.slice(e))}const WS=new WeakMap;class lee extends ri{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new Vi(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(WS.has(e)){const l=WS.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),WS.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new pt;e.index&&t.setIndex(new Yt(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new Yt(o,a))}return t}_loadLibrary(e,t){const r=new Vi(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=cee.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function cee(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const f=u.draco,d=new f.Decoder,p=new f.DecoderBuffer;p.Init(new Int8Array(l),l.byteLength);try{const g=t(f,d,p,c),v=g.attributes.map(y=>y.array.buffer);g.index&&v.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},v)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{f.destroy(p),f.destroy(d)}});break}};function t(o,a,l,c){const u=c.attributeIDs,f=c.attributeTypes;let d,p;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)d=new o.Mesh,p=a.DecodeBufferToMesh(l,d);else if(g===o.POINT_CLOUD)d=new o.PointCloud,p=a.DecodeBufferToPointCloud(l,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!p.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+p.error_msg());const v={index:null,attributes:[]};for(const y in u){const x=self[f[y]];let _,w;if(c.useUniqueIDs)w=u[y],_=a.GetAttributeByUniqueId(d,w);else{if(w=a.GetAttributeId(d,o[u[y]]),w===-1)continue;_=a.GetAttribute(d,w)}v.attributes.push(i(o,a,d,y,x,_))}return g===o.TRIANGULAR_MESH&&(v.index=r(o,a,d)),o.destroy(d),v}function r(o,a,l){const u=l.num_faces()*3,f=u*4,d=o._malloc(f);a.GetTrianglesUInt32Array(l,f,d);const p=new Uint32Array(o.HEAPF32.buffer,d,u).slice();return o._free(d),{array:p,itemSize:1}}function i(o,a,l,c,u,f){const d=f.num_components(),g=l.num_points()*d,v=g*u.BYTES_PER_ELEMENT,y=s(o,u),x=o._malloc(v);a.GetAttributeDataArrayForAllPoints(l,f,y,v,x);const _=new u(o.HEAPF32.buffer,x,g).slice();return o._free(x),{name:c,array:_,itemSize:d}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let fy;const jS=()=>{if(fy)return fy;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const d=new Uint8Array(f.length);for(let g=0;g<f.length;++g){const v=f.charCodeAt(g);d[g]=v>96?v-71:v>64?v-65:v>47?v+4:v>46?63:62}let p=0;for(let g=0;g<f.length;++g)d[p++]=d[g]<60?r[d[g]]:(d[g]-60)*64+d[++g];return d.buffer.slice(0,p)}function l(f,d,p,g,v,y){const x=s.exports.sbrk,_=p+3&-4,w=x(_*g),A=x(v.length),M=new Uint8Array(s.exports.memory.buffer);M.set(v,A);const E=f(w,p,g,A,v.length);if(E===0&&y&&y(w,_,g),d.set(M.subarray(w,w+p*g)),x(w-x(0)),E!==0)throw new Error(`Malformed buffer data: ${E}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return fy={ready:o,supported:!0,decodeVertexBuffer(f,d,p,g,v){l(s.exports.meshopt_decodeVertexBuffer,f,d,p,g,s.exports[c[v]])},decodeIndexBuffer(f,d,p,g){l(s.exports.meshopt_decodeIndexBuffer,f,d,p,g)},decodeIndexSequence(f,d,p,g){l(s.exports.meshopt_decodeIndexSequence,f,d,p,g)},decodeGltfBuffer(f,d,p,g,v,y){l(s.exports[u[v]],f,d,p,g,s.exports[c[y]])}},fy};function t0(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}function uee(){var n=Object.create(null);function e(i,s){var o=i.id,a=i.name,l=i.dependencies;l===void 0&&(l=[]);var c=i.init;c===void 0&&(c=function(){});var u=i.getTransferables;if(u===void 0&&(u=null),!n[o])try{l=l.map(function(d){return d&&d.isWorkerModule&&(e(d,function(p){if(p instanceof Error)throw p}),d=n[d.id].value),d}),c=r("<"+a+">.init",c),u&&(u=r("<"+a+">.getTransferables",u));var f=null;typeof c=="function"?f=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),n[o]={id:o,value:f,getTransferables:u},s(f)}catch(d){d&&d.noLog||console.error(d),s(d)}}function t(i,s){var o,a=i.id,l=i.args;(!n[a]||typeof n[a].value!="function")&&s(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var c=(o=n[a]).value.apply(o,l);c&&typeof c.then=="function"?c.then(u,function(f){return s(f instanceof Error?f:new Error(""+f))}):u(c)}catch(f){s(f)}function u(f){try{var d=n[a].getTransferables&&n[a].getTransferables(f);(!d||!Array.isArray(d)||!d.length)&&(d=void 0),s(f,d)}catch(p){console.error(p),s(p)}}}function r(i,s){var o=void 0;self.troikaDefine=function(l){return o=l};var a=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(a)}catch(l){console.error(l)}return URL.revokeObjectURL(a),delete self.troikaDefine,o}self.addEventListener("message",function(i){var s=i.data,o=s.messageId,a=s.action,l=s.data;try{a==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof c=="function"}})}),a==="callModule"&&t(l,function(c,u){c instanceof Error?postMessage({messageId:o,success:!1,error:c.message}):postMessage({messageId:o,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:o,success:!1,error:c.stack})}})}function fee(n){var e=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var t=n.dependencies,r=n.init;t=Array.isArray(t)?t.map(function(s){return s&&s._getInitResult?s._getInitResult():s}):[];var i=Promise.all(t).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var e5=function(){var n=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),n=!0}catch(t){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return e5=function(){return n},n},dee=0,hee=0,$S=!1,vm=Object.create(null),ym=Object.create(null),SM=Object.create(null);function n0(n){if((!n||typeof n.init!="function")&&!$S)throw new Error("requires `options.init` function");var e=n.dependencies,t=n.init,r=n.getTransferables,i=n.workerId;if(!e5())return fee(n);i==null&&(i="#default");var s="workerModule"+ ++dee,o=n.name||s,a=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&($S=!0,c=n0({workerId:i,name:"<"+o+"> function dependency: "+c.name,init:`function(){return (
`+e1(c)+`
)}`}),$S=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function l(){for(var c=[],u=arguments.length;u--;)c[u]=arguments[u];if(!a){a=jB(i,"registerModule",l.workerModuleData);var f=function(){a=null,ym[i].delete(f)};(ym[i]||(ym[i]=new Set)).add(f)}return a.then(function(d){var p=d.isCallable;if(p)return jB(i,"callModule",{id:s,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return l.workerModuleData={isWorkerModule:!0,id:s,name:o,dependencies:e,init:e1(t),getTransferables:r&&e1(r)},l}function pee(n){ym[n]&&ym[n].forEach(function(e){e()}),vm[n]&&(vm[n].terminate(),delete vm[n])}function e1(n){var e=n.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function mee(n){var e=vm[n];if(!e){var t=e1(uee);e=vm[n]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+n.replace(/\*/g,"")+` **/

;(`+t+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,o=SM[s];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete SM[s],o(i)}}return e}function jB(n,e,t){return new Promise(function(r,i){var s=++hee;SM[s]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},mee(n).postMessage({messageId:s,action:e,data:t})})}function t5(){var n=function(e){function t(U,V,G,X,te,re,se,q){var oe=1-se;q.x=oe*oe*U+2*oe*se*G+se*se*te,q.y=oe*oe*V+2*oe*se*X+se*se*re}function r(U,V,G,X,te,re,se,q,oe,de){var Te=1-oe;de.x=Te*Te*Te*U+3*Te*Te*oe*G+3*Te*oe*oe*te+oe*oe*oe*se,de.y=Te*Te*Te*V+3*Te*Te*oe*X+3*Te*oe*oe*re+oe*oe*oe*q}function i(U,V){for(var G=/([MLQCZ])([^MLQCZ]*)/g,X,te,re,se,q;X=G.exec(U);){var oe=X[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(de){return parseFloat(de)});switch(X[1]){case"M":se=te=oe[0],q=re=oe[1];break;case"L":(oe[0]!==se||oe[1]!==q)&&V("L",se,q,se=oe[0],q=oe[1]);break;case"Q":{V("Q",se,q,se=oe[2],q=oe[3],oe[0],oe[1]);break}case"C":{V("C",se,q,se=oe[4],q=oe[5],oe[0],oe[1],oe[2],oe[3]);break}case"Z":(se!==te||q!==re)&&V("L",se,q,te,re);break}}}function s(U,V,G){G===void 0&&(G=16);var X={x:0,y:0};i(U,function(te,re,se,q,oe,de,Te,ye,Se){switch(te){case"L":V(re,se,q,oe);break;case"Q":{for(var ne=re,le=se,Me=1;Me<G;Me++)t(re,se,de,Te,q,oe,Me/(G-1),X),V(ne,le,X.x,X.y),ne=X.x,le=X.y;break}case"C":{for(var Pe=re,Ae=se,je=1;je<G;je++)r(re,se,de,Te,ye,Se,q,oe,je/(G-1),X),V(Pe,Ae,X.x,X.y),Pe=X.x,Ae=X.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",a="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(U,V){var G=U.getContext?U.getContext("webgl",c):U,X=l.get(G);if(!X){let Pe=function(xe){var j=re[xe];if(!j&&(j=re[xe]=G.getExtension(xe),!j))throw new Error(xe+" not supported");return j},Ae=function(xe,j){var O=G.createShader(j);return G.shaderSource(O,xe),G.compileShader(O),O},je=function(xe,j,O,Z){if(!se[xe]){var fe={},Ce={},Re=G.createProgram();G.attachShader(Re,Ae(j,G.VERTEX_SHADER)),G.attachShader(Re,Ae(O,G.FRAGMENT_SHADER)),G.linkProgram(Re),se[xe]={program:Re,transaction:function(Be){G.useProgram(Re),Be({setUniform:function(We,Ne){for(var ze=[],Ue=arguments.length-2;Ue-- >0;)ze[Ue]=arguments[Ue+2];var Ie=Ce[Ne]||(Ce[Ne]=G.getUniformLocation(Re,Ne));G["uniform"+We].apply(G,[Ie].concat(ze))},setAttribute:function(We,Ne,ze,Ue,Ie){var $e=fe[We];$e||($e=fe[We]={buf:G.createBuffer(),loc:G.getAttribLocation(Re,We),data:null}),G.bindBuffer(G.ARRAY_BUFFER,$e.buf),G.vertexAttribPointer($e.loc,Ne,G.FLOAT,!1,0,0),G.enableVertexAttribArray($e.loc),te?G.vertexAttribDivisor($e.loc,Ue):Pe("ANGLE_instanced_arrays").vertexAttribDivisorANGLE($e.loc,Ue),Ie!==$e.data&&(G.bufferData(G.ARRAY_BUFFER,Ie,ze),$e.data=Ie)}})}}}se[xe].transaction(Z)},we=function(xe,j){oe++;try{G.activeTexture(G.TEXTURE0+oe);var O=q[xe];O||(O=q[xe]=G.createTexture(),G.bindTexture(G.TEXTURE_2D,O),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,G.NEAREST),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,G.NEAREST)),G.bindTexture(G.TEXTURE_2D,O),j(O,oe)}finally{oe--}},Le=function(xe,j,O){var Z=G.createFramebuffer();de.push(Z),G.bindFramebuffer(G.FRAMEBUFFER,Z),G.activeTexture(G.TEXTURE0+j),G.bindTexture(G.TEXTURE_2D,xe),G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_2D,xe,0);try{O(Z)}finally{G.deleteFramebuffer(Z),G.bindFramebuffer(G.FRAMEBUFFER,de[--de.length-1]||null)}},Oe=function(){re={},se={},q={},oe=-1,de.length=0};var Te=Pe,ye=Ae,Se=je,ne=we,le=Le,Me=Oe,te=typeof WebGL2RenderingContext<"u"&&G instanceof WebGL2RenderingContext,re={},se={},q={},oe=-1,de=[];G.canvas.addEventListener("webglcontextlost",function(xe){Oe(),xe.preventDefault()},!1),l.set(G,X={gl:G,isWebGL2:te,getExtension:Pe,withProgram:je,withTexture:we,withTextureFramebuffer:Le,handleContextLoss:Oe})}V(X)}function f(U,V,G,X,te,re,se,q){se===void 0&&(se=15),q===void 0&&(q=null),u(U,function(oe){var de=oe.gl,Te=oe.withProgram,ye=oe.withTexture;ye("copy",function(Se,ne){de.texImage2D(de.TEXTURE_2D,0,de.RGBA,te,re,0,de.RGBA,de.UNSIGNED_BYTE,V),Te("copy",o,a,function(le){var Me=le.setUniform,Pe=le.setAttribute;Pe("aUV",2,de.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Me("1i","image",ne),de.bindFramebuffer(de.FRAMEBUFFER,q||null),de.disable(de.BLEND),de.colorMask(se&8,se&4,se&2,se&1),de.viewport(G,X,te,re),de.scissor(G,X,te,re),de.drawArrays(de.TRIANGLES,0,3)})})})}function d(U,V,G){var X=U.width,te=U.height;u(U,function(re){var se=re.gl,q=new Uint8Array(X*te*4);se.readPixels(0,0,X,te,se.RGBA,se.UNSIGNED_BYTE,q),U.width=V,U.height=G,f(se,q,0,0,X,te)})}var p=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:f,resizeWebGLCanvasWithoutClearing:d});function g(U,V,G,X,te,re){re===void 0&&(re=1);var se=new Uint8Array(U*V),q=X[2]-X[0],oe=X[3]-X[1],de=[];s(G,function(Pe,Ae,je,we){de.push({x1:Pe,y1:Ae,x2:je,y2:we,minX:Math.min(Pe,je),minY:Math.min(Ae,we),maxX:Math.max(Pe,je),maxY:Math.max(Ae,we)})}),de.sort(function(Pe,Ae){return Pe.maxX-Ae.maxX});for(var Te=0;Te<U;Te++)for(var ye=0;ye<V;ye++){var Se=le(X[0]+q*(Te+.5)/U,X[1]+oe*(ye+.5)/V),ne=Math.pow(1-Math.abs(Se)/te,re)/2;Se<0&&(ne=1-ne),ne=Math.max(0,Math.min(255,Math.round(ne*255))),se[ye*U+Te]=ne}return se;function le(Pe,Ae){for(var je=1/0,we=1/0,Le=de.length;Le--;){var Oe=de[Le];if(Oe.maxX+we<=Pe)break;if(Pe+we>Oe.minX&&Ae-we<Oe.maxY&&Ae+we>Oe.minY){var xe=x(Pe,Ae,Oe.x1,Oe.y1,Oe.x2,Oe.y2);xe<je&&(je=xe,we=Math.sqrt(je))}}return Me(Pe,Ae)&&(we=-we),we}function Me(Pe,Ae){for(var je=0,we=de.length;we--;){var Le=de[we];if(Le.maxX<=Pe)break;var Oe=Le.y1>Ae!=Le.y2>Ae&&Pe<(Le.x2-Le.x1)*(Ae-Le.y1)/(Le.y2-Le.y1)+Le.x1;Oe&&(je+=Le.y1<Le.y2?1:-1)}return je!==0}}function v(U,V,G,X,te,re,se,q,oe,de){re===void 0&&(re=1),q===void 0&&(q=0),oe===void 0&&(oe=0),de===void 0&&(de=0),y(U,V,G,X,te,re,se,null,q,oe,de)}function y(U,V,G,X,te,re,se,q,oe,de,Te){re===void 0&&(re=1),oe===void 0&&(oe=0),de===void 0&&(de=0),Te===void 0&&(Te=0);for(var ye=g(U,V,G,X,te,re),Se=new Uint8Array(ye.length*4),ne=0;ne<ye.length;ne++)Se[ne*4+Te]=ye[ne];f(se,Se,oe,de,U,V,1<<3-Te,q)}function x(U,V,G,X,te,re){var se=te-G,q=re-X,oe=se*se+q*q,de=oe?Math.max(0,Math.min(1,((U-G)*se+(V-X)*q)/oe)):0,Te=U-(G+de*se),ye=V-(X+de*q);return Te*Te+ye*ye}var _=Object.freeze({__proto__:null,generate:g,generateIntoCanvas:v,generateIntoFramebuffer:y}),w="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",A="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",M="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",E=new Float32Array([0,0,2,0,0,2]),R=null,C=!1,T={},D=new WeakMap;function L(U){if(!C&&!H(U))throw new Error("WebGL generation not supported")}function F(U,V,G,X,te,re,se){if(re===void 0&&(re=1),se===void 0&&(se=null),!se&&(se=R,!se)){var q=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!q)throw new Error("OffscreenCanvas or DOM canvas not supported");se=R=q.getContext("webgl",{depth:!1})}L(se);var oe=new Uint8Array(U*V*4);u(se,function(Se){var ne=Se.gl,le=Se.withTexture,Me=Se.withTextureFramebuffer;le("readable",function(Pe,Ae){ne.texImage2D(ne.TEXTURE_2D,0,ne.RGBA,U,V,0,ne.RGBA,ne.UNSIGNED_BYTE,null),Me(Pe,Ae,function(je){k(U,V,G,X,te,re,ne,je,0,0,0),ne.readPixels(0,0,U,V,ne.RGBA,ne.UNSIGNED_BYTE,oe)})})});for(var de=new Uint8Array(U*V),Te=0,ye=0;Te<oe.length;Te+=4)de[ye++]=oe[Te];return de}function N(U,V,G,X,te,re,se,q,oe,de){re===void 0&&(re=1),q===void 0&&(q=0),oe===void 0&&(oe=0),de===void 0&&(de=0),k(U,V,G,X,te,re,se,null,q,oe,de)}function k(U,V,G,X,te,re,se,q,oe,de,Te){re===void 0&&(re=1),oe===void 0&&(oe=0),de===void 0&&(de=0),Te===void 0&&(Te=0),L(se);var ye=[];s(G,function(Se,ne,le,Me){ye.push(Se,ne,le,Me)}),ye=new Float32Array(ye),u(se,function(Se){var ne=Se.gl,le=Se.isWebGL2,Me=Se.getExtension,Pe=Se.withProgram,Ae=Se.withTexture,je=Se.withTextureFramebuffer,we=Se.handleContextLoss;if(Ae("rawDistances",function(Le,Oe){(U!==Le._lastWidth||V!==Le._lastHeight)&&ne.texImage2D(ne.TEXTURE_2D,0,ne.RGBA,Le._lastWidth=U,Le._lastHeight=V,0,ne.RGBA,ne.UNSIGNED_BYTE,null),Pe("main",w,A,function(xe){var j=xe.setAttribute,O=xe.setUniform,Z=!le&&Me("ANGLE_instanced_arrays"),fe=!le&&Me("EXT_blend_minmax");j("aUV",2,ne.STATIC_DRAW,0,E),j("aLineSegment",4,ne.DYNAMIC_DRAW,1,ye),O.apply(void 0,["4f","uGlyphBounds"].concat(X)),O("1f","uMaxDistance",te),O("1f","uExponent",re),je(Le,Oe,function(Ce){ne.enable(ne.BLEND),ne.colorMask(!0,!0,!0,!0),ne.viewport(0,0,U,V),ne.scissor(0,0,U,V),ne.blendFunc(ne.ONE,ne.ONE),ne.blendEquationSeparate(ne.FUNC_ADD,le?ne.MAX:fe.MAX_EXT),ne.clear(ne.COLOR_BUFFER_BIT),le?ne.drawArraysInstanced(ne.TRIANGLES,0,3,ye.length/4):Z.drawArraysInstancedANGLE(ne.TRIANGLES,0,3,ye.length/4)})}),Pe("post",o,M,function(xe){xe.setAttribute("aUV",2,ne.STATIC_DRAW,0,E),xe.setUniform("1i","tex",Oe),ne.bindFramebuffer(ne.FRAMEBUFFER,q),ne.disable(ne.BLEND),ne.colorMask(Te===0,Te===1,Te===2,Te===3),ne.viewport(oe,de,U,V),ne.scissor(oe,de,U,V),ne.drawArrays(ne.TRIANGLES,0,3)})}),ne.isContextLost())throw we(),new Error("webgl context lost")})}function H(U){var V=!U||U===R?T:U.canvas||U,G=D.get(V);if(G===void 0){C=!0;var X=null;try{var te=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],re=F(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,U);G=re&&te.length===re.length&&re.every(function(se,q){return se===te[q]}),G||(X="bad trial run results",console.info(te,re))}catch(se){G=!1,X=se.message}X&&console.warn("WebGL SDF generation not supported:",X),C=!1,D.set(V,G)}return G}var W=Object.freeze({__proto__:null,generate:F,generateIntoCanvas:N,generateIntoFramebuffer:k,isSupported:H});function Y(U,V,G,X,te,re){te===void 0&&(te=Math.max(X[2]-X[0],X[3]-X[1])/2),re===void 0&&(re=1);try{return F.apply(W,arguments)}catch(se){return console.info("WebGL SDF generation failed, falling back to JS",se),g.apply(_,arguments)}}function z(U,V,G,X,te,re,se,q,oe,de){te===void 0&&(te=Math.max(X[2]-X[0],X[3]-X[1])/2),re===void 0&&(re=1),q===void 0&&(q=0),oe===void 0&&(oe=0),de===void 0&&(de=0);try{return N.apply(W,arguments)}catch(Te){return console.info("WebGL SDF generation failed, falling back to JS",Te),v.apply(_,arguments)}}return e.forEachPathCommand=i,e.generate=Y,e.generateIntoCanvas=z,e.javascript=_,e.pathToLineSegments=s,e.webgl=W,e.webglUtils=p,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}function gee(){var n=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(t).forEach(function(we,Le){r[we]=1<<Le+1,i[r[we]]=we}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,a=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,c=r.S|r.WS|r.B|s|r.PDI|l,u=null;function f(){if(!u){u=new Map;var we=function(Oe){if(t.hasOwnProperty(Oe)){var xe=0;t[Oe].split(",").forEach(function(j){var O=j.split("+"),Z=O[0],fe=O[1];Z=parseInt(Z,36),fe=fe?parseInt(fe,36):0,u.set(xe+=Z,r[Oe]);for(var Ce=0;Ce<fe;Ce++)u.set(++xe,r[Oe])})}};for(var Le in t)we(Le)}}function d(we){return f(),u.get(we.codePointAt(0))||r.L}function p(we){return i[d(we)]}var g={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function v(we,Le){var Oe=36,xe=0,j=new Map,O=Le&&new Map,Z;return we.split(",").forEach(function fe(Ce){if(Ce.indexOf("+")!==-1)for(var Re=+Ce;Re--;)fe(Z);else{Z=Ce;var Fe=Ce.split(">"),Be=Fe[0],ge=Fe[1];Be=String.fromCodePoint(xe+=parseInt(Be,Oe)),ge=String.fromCodePoint(xe+=parseInt(ge,Oe)),j.set(Be,ge),Le&&O.set(ge,Be)}}),{map:j,reverseMap:O}}var y,x,_;function w(){if(!y){var we=v(g.pairs,!0),Le=we.map,Oe=we.reverseMap;y=Le,x=Oe,_=v(g.canonical,!1).map}}function A(we){return w(),y.get(we)||null}function M(we){return w(),x.get(we)||null}function E(we){return w(),_.get(we)||null}var R=r.L,C=r.R,T=r.EN,D=r.ES,L=r.ET,F=r.AN,N=r.CS,k=r.B,H=r.S,W=r.ON,Y=r.BN,z=r.NSM,U=r.AL,V=r.LRO,G=r.RLO,X=r.LRE,te=r.RLE,re=r.PDF,se=r.LRI,q=r.RLI,oe=r.FSI,de=r.PDI;function Te(we,Le){for(var Oe=125,xe=new Uint32Array(we.length),j=0;j<we.length;j++)xe[j]=d(we[j]);var O=new Map;function Z(qn,_r){var rn=xe[qn];xe[qn]=_r,O.set(rn,O.get(rn)-1),rn&a&&O.set(a,O.get(a)-1),O.set(_r,(O.get(_r)||0)+1),_r&a&&O.set(a,(O.get(a)||0)+1)}for(var fe=new Uint8Array(we.length),Ce=new Map,Re=[],Fe=null,Be=0;Be<we.length;Be++)Fe||Re.push(Fe={start:Be,end:we.length-1,level:Le==="rtl"?1:Le==="ltr"?0:Mf(Be,!1)}),xe[Be]&k&&(Fe.end=Be,Fe=null);for(var ge=te|X|G|V|s|de|re|k,We=function(qn){return qn+(qn&1?1:2)},Ne=function(qn){return qn+(qn&1?2:1)},ze=0;ze<Re.length;ze++){Fe=Re[ze];var Ue=[{_level:Fe.level,_override:0,_isolate:0}],Ie=void 0,$e=0,st=0,vt=0;O.clear();for(var ee=Fe.start;ee<=Fe.end;ee++){var me=xe[ee];if(Ie=Ue[Ue.length-1],O.set(me,(O.get(me)||0)+1),me&a&&O.set(a,(O.get(a)||0)+1),me&ge)if(me&(te|X)){fe[ee]=Ie._level;var ke=(me===te?Ne:We)(Ie._level);ke<=Oe&&!$e&&!st?Ue.push({_level:ke,_override:0,_isolate:0}):$e||st++}else if(me&(G|V)){fe[ee]=Ie._level;var Xe=(me===G?Ne:We)(Ie._level);Xe<=Oe&&!$e&&!st?Ue.push({_level:Xe,_override:me&G?C:R,_isolate:0}):$e||st++}else if(me&s){me&oe&&(me=Mf(ee+1,!0)===1?q:se),fe[ee]=Ie._level,Ie._override&&Z(ee,Ie._override);var tt=(me===q?Ne:We)(Ie._level);tt<=Oe&&$e===0&&st===0?(vt++,Ue.push({_level:tt,_override:0,_isolate:1,_isolInitIndex:ee})):$e++}else if(me&de){if($e>0)$e--;else if(vt>0){for(st=0;!Ue[Ue.length-1]._isolate;)Ue.pop();var xt=Ue[Ue.length-1]._isolInitIndex;xt!=null&&(Ce.set(xt,ee),Ce.set(ee,xt)),Ue.pop(),vt--}Ie=Ue[Ue.length-1],fe[ee]=Ie._level,Ie._override&&Z(ee,Ie._override)}else me&re?($e===0&&(st>0?st--:!Ie._isolate&&Ue.length>1&&(Ue.pop(),Ie=Ue[Ue.length-1])),fe[ee]=Ie._level):me&k&&(fe[ee]=Fe.level);else fe[ee]=Ie._level,Ie._override&&me!==Y&&Z(ee,Ie._override)}for(var zt=[],$t=null,Vt=Fe.start;Vt<=Fe.end;Vt++){var Wt=xe[Vt];if(!(Wt&l)){var Gt=fe[Vt],Lt=Wt&s,Nr=Wt===de;$t&&Gt===$t._level?($t._end=Vt,$t._endsWithIsolInit=Lt):zt.push($t={_start:Vt,_end:Vt,_level:Gt,_startsWithPDI:Nr,_endsWithIsolInit:Lt})}}for(var Er=[],Xt=0;Xt<zt.length;Xt++){var Sn=zt[Xt];if(!Sn._startsWithPDI||Sn._startsWithPDI&&!Ce.has(Sn._start)){for(var J=[$t=Sn],ue=void 0;$t&&$t._endsWithIsolInit&&(ue=Ce.get($t._end))!=null;)for(var ve=Xt+1;ve<zt.length;ve++)if(zt[ve]._start===ue){J.push($t=zt[ve]);break}for(var ce=[],Ee=0;Ee<J.length;Ee++)for(var nt=J[Ee],lt=nt._start;lt<=nt._end;lt++)ce.push(lt);for(var wt=fe[ce[0]],mt=Fe.level,Rt=ce[0]-1;Rt>=0;Rt--)if(!(xe[Rt]&l)){mt=fe[Rt];break}var St=ce[ce.length-1],kt=fe[St],nn=Fe.level;if(!(xe[St]&s)){for(var Ai=St+1;Ai<=Fe.end;Ai++)if(!(xe[Ai]&l)){nn=fe[Ai];break}}Er.push({_seqIndices:ce,_sosType:Math.max(mt,wt)%2?C:R,_eosType:Math.max(nn,kt)%2?C:R})}}for(var vs=0;vs<Er.length;vs++){var ys=Er[vs],Qe=ys._seqIndices,At=ys._sosType,_s=ys._eosType;if(O.get(z))for(var Zt=0;Zt<Qe.length;Zt++){var Tr=Qe[Zt];if(xe[Tr]&z){for(var Ur=At,Pr=Zt-1;Pr>=0;Pr--)if(!(xe[Qe[Pr]]&l)){Ur=xe[Qe[Pr]];break}Z(Tr,Ur&(s|de)?W:Ur)}}if(O.get(T))for(var Rr=0;Rr<Qe.length;Rr++){var gt=Qe[Rr];if(xe[gt]&T)for(var Et=Rr-1;Et>=-1;Et--){var si=Et===-1?At:xe[Qe[Et]];if(si&o){si===U&&Z(gt,F);break}}}if(O.get(U))for(var Ht=0;Ht<Qe.length;Ht++){var Vn=Qe[Ht];xe[Vn]&U&&Z(Vn,C)}if(O.get(D)||O.get(N))for(var oi=1;oi<Qe.length-1;oi++){var ji=Qe[oi];if(xe[ji]&(D|N)){for(var Wn=0,ll=0,yf=oi-1;yf>=0&&(Wn=xe[Qe[yf]],!!(Wn&l));yf--);for(var _f=oi+1;_f<Qe.length&&(ll=xe[Qe[_f]],!!(ll&l));_f++);Wn===ll&&(xe[ji]===D?Wn===T:Wn&(T|F))&&Z(ji,Wn)}}if(O.get(T))for(var Do=0;Do<Qe.length;Do++){var p0=Qe[Do];if(xe[p0]&T){for(var zr=Do-1;zr>=0&&xe[Qe[zr]]&(L|l);zr--)Z(Qe[zr],T);for(var xf=Do+1;xf<Qe.length&&xe[Qe[xf]]&(L|l);xf++)Z(Qe[xf],T)}}if(O.get(L)||O.get(D)||O.get(N))for(var Bc=0;Bc<Qe.length;Bc++){var m0=Qe[Bc];if(xe[m0]&(L|D|N)){Z(m0,W);for(var sa=Bc-1;sa>=0&&xe[Qe[sa]]&l;sa--)Z(Qe[sa],W);for(var oa=Bc+1;oa<Qe.length&&xe[Qe[oa]]&l;oa++)Z(Qe[oa],W)}}if(O.get(T))for(var aa=0,Ic=At;aa<Qe.length;aa++){var g0=Qe[aa],Vh=xe[g0];Vh&T?Ic===R&&Z(g0,R):Vh&o&&(Ic=Vh)}if(O.get(a)){var la=C|T|F,wf=la|R,Bo=[];{for(var cl=[],Io=0;Io<Qe.length;Io++)if(xe[Qe[Io]]&a){var Dt=we[Qe[Io]],Wh=void 0;if(A(Dt)!==null)if(cl.length<63)cl.push({char:Dt,seqIndex:Io});else break;else if((Wh=M(Dt))!==null)for(var ca=cl.length-1;ca>=0;ca--){var Sf=cl[ca].char;if(Sf===Wh||Sf===M(E(Dt))||A(E(Sf))===Dt){Bo.push([cl[ca].seqIndex,Io]),cl.length=ca;break}}}Bo.sort(function(qn,_r){return qn[0]-_r[0]})}for(var jh=0;jh<Bo.length;jh++){for(var v0=Bo[jh],gn=v0[0],ul=v0[1],y0=!1,ai=0,$h=gn+1;$h<ul;$h++){var fl=Qe[$h];if(xe[fl]&wf){y0=!0;var $i=xe[fl]&la?C:R;if($i===ko(fl)){ai=$i;break}}}if(y0&&!ai){ai=At;for(var Xh=gn-1;Xh>=0;Xh--){var Af=Qe[Xh];if(xe[Af]&wf){var Xi=xe[Af]&la?C:R;Xi!==ko(Af)?ai=Xi:ai=ko(Af);break}}}if(ai){if(xe[Qe[gn]]=xe[Qe[ul]]=ai,ai!==ko(Qe[gn])){for(var li=gn+1;li<Qe.length;li++)if(!(xe[Qe[li]]&l)){d(we[Qe[li]])&z&&(xe[Qe[li]]=ai);break}}if(ai!==ko(Qe[ul])){for(var Lo=ul+1;Lo<Qe.length;Lo++)if(!(xe[Qe[Lo]]&l)){d(we[Qe[Lo]])&z&&(xe[Qe[Lo]]=ai);break}}}}for(var xs=0;xs<Qe.length;xs++)if(xe[Qe[xs]]&a){for(var Jh=xs,Kh=xs,bi=At,Lc=xs-1;Lc>=0;Lc--)if(xe[Qe[Lc]]&l)Jh=Lc;else{bi=xe[Qe[Lc]]&la?C:R;break}for(var kc=_s,Oc=xs+1;Oc<Qe.length;Oc++)if(xe[Qe[Oc]]&(a|l))Kh=Oc;else{kc=xe[Qe[Oc]]&la?C:R;break}for(var Gr=Jh;Gr<=Kh;Gr++)xe[Qe[Gr]]=bi===kc?bi:ko(Qe[Gr]);xs=Kh}}}for(var yr=Fe.start;yr<=Fe.end;yr++){var bf=fe[yr],no=xe[yr];if(bf&1?no&(R|T|F)&&fe[yr]++:no&C?fe[yr]++:no&(F|T)&&(fe[yr]+=2),no&l&&(fe[yr]=yr===0?Fe.level:fe[yr-1]),yr===Fe.end||d(we[yr])&(H|k))for(var dl=yr;dl>=0&&d(we[dl])&c;dl--)fe[dl]=Fe.level}}return{levels:fe,paragraphs:Re};function Mf(qn,_r){for(var rn=qn;rn<we.length;rn++){var cr=xe[rn];if(cr&(C|U))return 1;if(cr&(k|R)||_r&&cr===de)return 0;if(cr&s){var ro=_0(rn);rn=ro===-1?we.length:ro}}return 0}function _0(qn){for(var _r=1,rn=qn+1;rn<we.length;rn++){var cr=xe[rn];if(cr&k)break;if(cr&de){if(--_r===0)return rn}else cr&s&&_r++}return-1}function ko(qn){return fe[qn]&1?C:R}}var ye="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Se;function ne(){if(!Se){var we=v(ye,!0),Le=we.map,Oe=we.reverseMap;Oe.forEach(function(xe,j){Le.set(j,xe)}),Se=Le}}function le(we){return ne(),Se.get(we)||null}function Me(we,Le,Oe,xe){var j=we.length;Oe=Math.max(0,Oe==null?0:+Oe),xe=Math.min(j-1,xe==null?j-1:+xe);for(var O=new Map,Z=Oe;Z<=xe;Z++)if(Le[Z]&1){var fe=le(we[Z]);fe!==null&&O.set(Z,fe)}return O}function Pe(we,Le,Oe,xe){var j=we.length;Oe=Math.max(0,Oe==null?0:+Oe),xe=Math.min(j-1,xe==null?j-1:+xe);var O=[];return Le.paragraphs.forEach(function(Z){var fe=Math.max(Oe,Z.start),Ce=Math.min(xe,Z.end);if(fe<Ce){for(var Re=Le.levels.slice(fe,Ce+1),Fe=Ce;Fe>=fe&&d(we[Fe])&c;Fe--)Re[Fe]=Z.level;for(var Be=Z.level,ge=1/0,We=0;We<Re.length;We++){var Ne=Re[We];Ne>Be&&(Be=Ne),Ne<ge&&(ge=Ne|1)}for(var ze=Be;ze>=ge;ze--)for(var Ue=0;Ue<Re.length;Ue++)if(Re[Ue]>=ze){for(var Ie=Ue;Ue+1<Re.length&&Re[Ue+1]>=ze;)Ue++;Ue>Ie&&O.push([Ie+Oe,Ue+Oe])}}}),O}function Ae(we,Le,Oe,xe){var j=je(we,Le,Oe,xe),O=[].concat(we);return j.forEach(function(Z,fe){O[fe]=(Le.levels[Z]&1?le(we[Z]):null)||we[Z]}),O.join("")}function je(we,Le,Oe,xe){for(var j=Pe(we,Le,Oe,xe),O=[],Z=0;Z<we.length;Z++)O[Z]=Z;return j.forEach(function(fe){for(var Ce=fe[0],Re=fe[1],Fe=O.slice(Ce,Re+1),Be=Fe.length;Be--;)O[Re-Be]=Fe[Be]}),O}return e.closingToOpeningBracket=M,e.getBidiCharType=d,e.getBidiCharTypeName=p,e.getCanonicalBracket=E,e.getEmbeddingLevels=Te,e.getMirroredCharacter=le,e.getMirroredCharactersMap=Me,e.getReorderSegments=Pe,e.getReorderedIndices=je,e.getReorderedString=Ae,e.openingToClosingBracket=A,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return n}const n5=/\bvoid\s+main\s*\(\s*\)\s*{/g;function AM(n){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function t(r,i){let s=bt[i];return s?AM(s):r}return n.replace(e,t)}const Br=[];for(let n=0;n<256;n++)Br[n]=(n<16?"0":"")+n.toString(16);function vee(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Br[n&255]+Br[n>>8&255]+Br[n>>16&255]+Br[n>>24&255]+"-"+Br[e&255]+Br[e>>8&255]+"-"+Br[e>>16&15|64]+Br[e>>24&255]+"-"+Br[t&63|128]+Br[t>>8&255]+"-"+Br[t>>16&255]+Br[t>>24&255]+Br[r&255]+Br[r>>8&255]+Br[r>>16&255]+Br[r>>24&255]).toUpperCase()}const nu=Object.assign||function(){let n=arguments[0];for(let e=1,t=arguments.length;e<t;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},yee=Date.now(),$B=new WeakMap,XB=new Map;let _ee=1e10;function bM(n,e){const t=Aee(e);let r=$B.get(n);if(r||$B.set(n,r=Object.create(null)),r[t])return new r[t];const i=`_onBeforeCompile${t}`,s=function(c,u){n.onBeforeCompile.call(this,c,u);const f=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let d=XB[f];if(!d){const p=xee(this,c,e,t);d=XB[f]=p}c.vertexShader=d.vertexShader,c.fragmentShader=d.fragmentShader,nu(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-yee}}),this[i]&&this[i](c)},o=function(){return a(e.chained?n:n.clone())},a=function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:n}),Object.defineProperty(u,"id",{value:_ee++}),u.uuid=vee(),u.uniforms=nu({},c.uniforms,e.uniforms),u.defines=nu({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${t}`]="",u.extensions=nu({},c.extensions,e.extensions),u._listeners=void 0,u},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return n.customProgramCacheKey()+"|"+t}},onBeforeCompile:{get(){return s},set(c){this[i]=c}},copy:{writable:!0,configurable:!0,value:function(c){return n.copy.call(this,c),!n.isShaderMaterial&&!n.isDerivedMaterial&&(nu(this.extensions,c.extensions),nu(this.defines,c.defines),nu(this.uniforms,j_.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new n.constructor;return a(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=bM(n.isDerivedMaterial?n.getDepthMaterial():new J_({depthPacking:PE}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=bM(n.isDerivedMaterial?n.getDistanceMaterial():new K_,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),n.dispose.call(this)}}};return r[t]=o,new o}function xee(n,{vertexShader:e,fragmentShader:t},r,i){let{vertexDefs:s,vertexMainIntro:o,vertexMainOutro:a,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:f,fragmentColorTransform:d,customRewriter:p,timeUniform:g}=r;if(s=s||"",o=o||"",a=a||"",c=c||"",u=u||"",f=f||"",(l||p)&&(e=AM(e)),(d||p)&&(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),t=AM(t)),p){let v=p({vertexShader:e,fragmentShader:t});e=v.vertexShader,t=v.fragmentShader}if(d){let v=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,y=>(v.push(y),"")),f=`${d}
${v.join(`
`)}
${f}`}if(g){const v=`
uniform float ${g};
`;s=v+s,c=v+c}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(v,y,x,_)=>/\battribute\s+vec[23]\s+$/.test(_.substr(0,x))?y:`troika_${y}_${i}`),n.map&&n.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=JB(e,i,s,o,a),t=JB(t,i,c,u,f),{vertexShader:e,fragmentShader:t}}function JB(n,e,t,r,i){return(r||i||t)&&(n=n.replace(n5,`
${t}
void troikaOrigMain${e}() {`),n+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),n}function wee(n,e){return n==="uniforms"?void 0:typeof e=="function"?e.toString():e}let See=0;const KB=new Map;function Aee(n){const e=JSON.stringify(n,wee);let t=KB.get(e);return t==null&&KB.set(e,t=++See),t}function bee(n,e,t){const{defaultFontURL:r}=t,i=Object.create(null),s=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a="[^\\S\\u00A0]",l=new RegExp(`${a}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function c(_,w){function A(){const M=E=>{console.error(`Failure loading font ${_}${_===r?"":"; trying fallback"}`,E),_!==r&&(_=r,A())};try{const E=new XMLHttpRequest;E.open("get",_,!0),E.responseType="arraybuffer",E.onload=function(){if(E.status>=400)M(new Error(E.statusText));else if(E.status>0)try{const R=n(E.response);w(R)}catch(R){M(R)}},E.onerror=M,E.send()}catch(E){M(E)}}A()}function u(_,w){_||(_=r);let A=i[_];A?A.pending?A.pending.push(w):w(A):(i[_]={pending:[w]},c(_,M=>{let E=i[_].pending;i[_]=M,E.forEach(R=>R(M))}))}function f({text:_="",font:w=r,sdfGlyphSize:A=64,fontSize:M=1,letterSpacing:E=0,lineHeight:R="normal",maxWidth:C=s,direction:T,textAlign:D="left",textIndent:L=0,whiteSpace:F="normal",overflowWrap:N="normal",anchorX:k=0,anchorY:H=0,includeCaretPositions:W=!1,chunkedBoundsSize:Y=8192,colorRanges:z=null},U,V=!1){const G=v(),X={fontLoad:0,typesetting:0};_.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),_=_.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),M=+M,E=+E,C=+C,R=R||"normal",L=+L,u(w,te=>{const re=isFinite(C);let se=null,q=null,oe=null,de=null,Te=null,ye=null,Se=null,ne=0,le=0,Me=F!=="nowrap";const{ascender:Pe,descender:Ae,unitsPerEm:je,lineGap:we,capHeight:Le,xHeight:Oe}=te;X.fontLoad=v()-G;const xe=v(),j=M/je;R==="normal"&&(R=(Pe-Ae+we)/je),R=R*M;const O=(R-(Pe-Ae)*j)/2,Z=-(Pe*j+O),fe=Math.min(R,(Pe-Ae)*j),Ce=(Pe+Ae)/2*j-fe/2;let Re=L,Fe=new y;const Be=[Fe];te.forEachGlyph(_,M,E,(Ne,ze,Ue)=>{const Ie=_.charAt(Ue),$e=Ne.advanceWidth*j,st=Fe.count;let vt;if("isEmpty"in Ne||(Ne.isWhitespace=!!Ie&&new RegExp(a).test(Ie),Ne.canBreakAfter=!!Ie&&l.test(Ie),Ne.isEmpty=Ne.xMin===Ne.xMax||Ne.yMin===Ne.yMax||o.test(Ie)),!Ne.isWhitespace&&!Ne.isEmpty&&le++,Me&&re&&!Ne.isWhitespace&&ze+$e+Re>C&&st){if(Fe.glyphAt(st-1).glyphObj.canBreakAfter)vt=new y,Re=-ze;else for(let me=st;me--;)if(me===0&&N==="break-word"){vt=new y,Re=-ze;break}else if(Fe.glyphAt(me).glyphObj.canBreakAfter){vt=Fe.splitAt(me+1);const ke=vt.glyphAt(0).x;Re-=ke;for(let Xe=vt.count;Xe--;)vt.glyphAt(Xe).x-=ke;break}vt&&(Fe.isSoftWrapped=!0,Fe=vt,Be.push(Fe),ne=C)}let ee=Fe.glyphAt(Fe.count);ee.glyphObj=Ne,ee.x=ze+Re,ee.width=$e,ee.charIndex=Ue,Ie===`
`&&(Fe=new y,Be.push(Fe),Re=-(ze+$e+E*M)+L)}),Be.forEach(Ne=>{for(let ze=Ne.count;ze--;){let{glyphObj:Ue,x:Ie,width:$e}=Ne.glyphAt(ze);if(!Ue.isWhitespace){Ne.width=Ie+$e,Ne.width>ne&&(ne=Ne.width);return}}});let ge=0,We=0;if(k&&(typeof k=="number"?ge=-k:typeof k=="string"&&(ge=-ne*(k==="left"?0:k==="center"?.5:k==="right"?1:p(k)))),H){if(typeof H=="number")We=-H;else if(typeof H=="string"){let Ne=Be.length*R;We=H==="top"?0:H==="top-baseline"?-Z:H==="top-cap"?-Z-Le*j:H==="top-ex"?-Z-Oe*j:H==="middle"?Ne/2:H==="bottom"?Ne:H==="bottom-baseline"?Ne-O+Ae*j:p(H)*Ne}}if(!V){const Ne=e.getEmbeddingLevels(_,T);se=new Uint16Array(le),q=new Float32Array(le*2),oe={},ye=[s,s,-s,-s],Se=[];let ze=Z;W&&(Te=new Float32Array(_.length*3)),z&&(de=new Uint8Array(le*3));let Ue=0,Ie=-1,$e=-1,st,vt;if(Be.forEach((ee,me)=>{let{count:ke,width:Xe}=ee;if(ke>0){let tt=0;for(let Gt=ke;Gt--&&ee.glyphAt(Gt).glyphObj.isWhitespace;)tt++;let xt=0,zt=0;if(D==="center")xt=(ne-Xe)/2;else if(D==="right")xt=ne-Xe;else if(D==="justify"&&ee.isSoftWrapped){let Gt=0;for(let Lt=ke-tt;Lt--;)ee.glyphAt(Lt).glyphObj.isWhitespace&&Gt++;zt=(ne-Xe)/Gt}if(zt||xt){let Gt=0;for(let Lt=0;Lt<ke;Lt++){let Nr=ee.glyphAt(Lt);const Er=Nr.glyphObj;Nr.x+=xt+Gt,zt!==0&&Er.isWhitespace&&Lt<ke-tt&&(Gt+=zt,Nr.width+=zt)}}const $t=e.getReorderSegments(_,Ne,ee.glyphAt(0).charIndex,ee.glyphAt(ee.count-1).charIndex);for(let Gt=0;Gt<$t.length;Gt++){const[Lt,Nr]=$t[Gt];let Er=1/0,Xt=-1/0;for(let Sn=0;Sn<ke;Sn++)if(ee.glyphAt(Sn).charIndex>=Lt){let J=Sn,ue=Sn;for(;ue<ke;ue++){let ve=ee.glyphAt(ue);if(ve.charIndex>Nr)break;ue<ke-tt&&(Er=Math.min(Er,ve.x),Xt=Math.max(Xt,ve.x+ve.width))}for(let ve=J;ve<ue;ve++){const ce=ee.glyphAt(ve);ce.x=Xt-(ce.x+ce.width-Er)}break}}let Vt;const Wt=Gt=>Vt=Gt;for(let Gt=0;Gt<ke;Gt++){let Lt=ee.glyphAt(Gt);Vt=Lt.glyphObj;const Nr=Vt.index,Er=Ne.levels[Lt.charIndex]&1;if(Er){const Xt=e.getMirroredCharacter(_[Lt.charIndex]);Xt&&te.forEachGlyph(Xt,0,0,Wt)}if(W){const{charIndex:Xt}=Lt,Sn=Lt.x+ge,J=Lt.x+Lt.width+ge;Te[Xt*3]=Er?J:Sn,Te[Xt*3+1]=Er?Sn:J,Te[Xt*3+2]=ze+Ce+We;const ue=Xt-Ie;ue>1&&g(Te,Ie,ue),Ie=Xt}if(z){const{charIndex:Xt}=Lt;for(;Xt>$e;)$e++,z.hasOwnProperty($e)&&(vt=z[$e])}if(!Vt.isWhitespace&&!Vt.isEmpty){const Xt=Ue++;oe[Nr]||(oe[Nr]={path:Vt.path,pathBounds:[Vt.xMin,Vt.yMin,Vt.xMax,Vt.yMax]});const Sn=Lt.x+ge,J=ze+We;q[Xt*2]=Sn,q[Xt*2+1]=J;const ue=Sn+Vt.xMin*j,ve=J+Vt.yMin*j,ce=Sn+Vt.xMax*j,Ee=J+Vt.yMax*j;ue<ye[0]&&(ye[0]=ue),ve<ye[1]&&(ye[1]=ve),ce>ye[2]&&(ye[2]=ce),Ee>ye[3]&&(ye[3]=Ee),Xt%Y===0&&(st={start:Xt,end:Xt,rect:[s,s,-s,-s]},Se.push(st)),st.end++;const nt=st.rect;if(ue<nt[0]&&(nt[0]=ue),ve<nt[1]&&(nt[1]=ve),ce>nt[2]&&(nt[2]=ce),Ee>nt[3]&&(nt[3]=Ee),se[Xt]=Nr,z){const lt=Xt*3;de[lt]=vt>>16&255,de[lt+1]=vt>>8&255,de[lt+2]=vt&255}}}}ze-=R}),Te){const ee=_.length-Ie;ee>1&&g(Te,Ie,ee)}}X.typesetting=v()-xe,U({glyphIds:se,glyphPositions:q,glyphData:oe,caretPositions:Te,caretHeight:fe,glyphColors:de,chunkedBounds:Se,fontSize:M,unitsPerEm:je,ascender:Pe*j,descender:Ae*j,capHeight:Le*j,xHeight:Oe*j,lineHeight:R,topBaseline:Z,blockBounds:[ge,We-Be.length*R,ge+ne,We],visibleBounds:ye,timings:X})})}function d(_,w){f(_,A=>{const[M,E,R,C]=A.blockBounds;w({width:R-M,height:C-E})},{metricsOnly:!0})}function p(_){let w=_.match(/^([\d.]+)%$/),A=w?parseFloat(w[1]):NaN;return isNaN(A)?0:A/100}function g(_,w,A){const M=_[w*3],E=_[w*3+1],R=_[w*3+2],C=(E-M)/A;for(let T=0;T<A;T++){const D=(w+T)*3;_[D]=M+C*T,_[D+1]=M+C*(T+1),_[D+2]=R}}function v(){return(self.performance||Date).now()}function y(){this.data=[]}const x=["glyphObj","x","width","charIndex"];return y.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/x.length)},glyphAt(_){let w=y.flyweight;return w.data=this.data,w.index=_,w},splitAt(_){let w=new y;return w.data=this.data.splice(_*x.length),w}},y.flyweight=x.reduce((_,w,A,M)=>(Object.defineProperty(_,w,{get(){return this.data[this.index*x.length+A]},set(E){this.data[this.index*x.length+A]=E}}),_),{data:null,index:0}),{typeset:f,measure:d,loadFont:u}}const ku=()=>(self.performance||Date).now(),lx=t5();let YB;function Mee(n,e,t,r,i,s,o,a,l,c,u=!0){return u?Eee(n,e,t,r,i,s,o,a,l,c).then(null,f=>(YB||(console.warn("WebGL SDF generation failed, falling back to JS",f),YB=!0),ZB(n,e,t,r,i,s,o,a,l,c))):ZB(n,e,t,r,i,s,o,a,l,c)}const t1=[],Cee=5;let MM=0;function r5(){const n=ku();for(;t1.length&&ku()-n<Cee;)t1.shift()();MM=t1.length?setTimeout(r5,0):0}const Eee=(...n)=>new Promise((e,t)=>{t1.push(()=>{const r=ku();try{lx.webgl.generateIntoCanvas(...n),e({timing:ku()-r})}catch(i){t(i)}}),MM||(MM=setTimeout(r5,0))}),Tee=4,Pee=2e3,QB={};let Ree=0;function ZB(n,e,t,r,i,s,o,a,l,c){const u="TroikaTextSDFGenerator_JS_"+Ree++%Tee;let f=QB[u];return f||(f=QB[u]={workerModule:n0({name:u,workerId:u,dependencies:[t5,ku],init(d,p){const g=d().javascript.generate;return function(...v){const y=p();return{textureData:g(...v),timing:p()-y}}},getTransferables(d){return[d.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(n,e,t,r,i,s).then(({textureData:d,timing:p})=>{const g=ku(),v=new Uint8Array(d.length*4);for(let y=0;y<d.length;y++)v[y*4+c]=d[y];return lx.webglUtils.renderImageData(o,v,a,l,n,e,1<<3-c),p+=ku()-g,--f.requests===0&&(f.idleTimer=setTimeout(()=>{pee(u)},Pee)),{timing:p}})}function Dee(n){n._warm||(lx.webgl.isSupported(n),n._warm=!0)}const Bee=lx.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function Iee(){return typeof window>"u"&&(self.window=self),function(n){var e={parse:function(i){var s=e._bin,o=new Uint8Array(i);if(s.readASCII(o,0,4)=="ttcf"){var a=4;s.readUshort(o,a),a+=2,s.readUshort(o,a),a+=2;var l=s.readUint(o,a);a+=4;for(var c=[],u=0;u<l;u++){var f=s.readUint(o,a);a+=4,c.push(e._readFont(o,f))}return c}return[e._readFont(o,0)]},_readFont:function(i,s){var o=e._bin,a=s;o.readFixed(i,s),s+=4;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],u={_data:i,_offset:a},f={},d=0;d<l;d++){var p=o.readASCII(i,s,4);s+=4,o.readUint(i,s),s+=4;var g=o.readUint(i,s);s+=4;var v=o.readUint(i,s);s+=4,f[p]={offset:g,length:v}}for(d=0;d<c.length;d++){var y=c[d];f[y]&&(u[y.trim()]=e[y.trim()].parse(i,f[y].offset,f[y].length,u))}return u},_tabOffset:function(i,s,o){for(var a=e._bin,l=a.readUshort(i,o+4),c=o+12,u=0;u<l;u++){var f=a.readASCII(i,c,4);c+=4,a.readUint(i,c),c+=4;var d=a.readUint(i,c);if(c+=4,a.readUint(i,c),c+=4,f==s)return d}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(e._bin.readUshort(i,s+2*l));return a},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},readUnicode:function(i,s,o){for(var a="",l=0;l<o;l++){var c=i[s++]<<8|i[s++];a+=String.fromCharCode(c)}return a},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,o){var a=e._bin._tdec;return a&&s==0&&o==i.length?a.decode(i):e._bin.readASCII(i,s,o)},readBytes:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(i[s+l]);return a},readASCIIArray:function(i,s,o){for(var a=[],l=0;l<o;l++)a.push(String.fromCharCode(i[s+l]));return a},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,o,a,l){var c=e._bin,u={},f=s;c.readFixed(i,s),s+=4;var d=c.readUshort(i,s);s+=2;var p=c.readUshort(i,s);s+=2;var g=c.readUshort(i,s);return s+=2,u.scriptList=e._lctf.readScriptList(i,f+d),u.featureList=e._lctf.readFeatureList(i,f+p),u.lookupList=e._lctf.readLookupList(i,f+g,l),u},e._lctf.readLookupList=function(i,s,o){var a=e._bin,l=s,c=[],u=a.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var d=a.readUshort(i,s);s+=2;var p=e._lctf.readLookupTable(i,l+d,o);c.push(p)}return c},e._lctf.readLookupTable=function(i,s,o){var a=e._bin,l=s,c={tabs:[]};c.ltype=a.readUshort(i,s),s+=2,c.flag=a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2;for(var f=c.ltype,d=0;d<u;d++){var p=a.readUshort(i,s);s+=2;var g=o(i,f,l+p,c);c.tabs.push(g)}return c},e._lctf.numOfOnes=function(i){for(var s=0,o=0;o<32;o++)i>>>o&1&&s++;return s},e._lctf.readClassDef=function(i,s){var o=e._bin,a=[],l=o.readUshort(i,s);if(s+=2,l==1){var c=o.readUshort(i,s);s+=2;var u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++)a.push(c+f),a.push(c+f),a.push(o.readUshort(i,s)),s+=2}if(l==2){var d=o.readUshort(i,s);for(s+=2,f=0;f<d;f++)a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2,a.push(o.readUshort(i,s)),s+=2}return a},e._lctf.getInterval=function(i,s){for(var o=0;o<i.length;o+=3){var a=i[o],l=i[o+1];if(i[o+2],a<=s&&s<=l)return o}return-1},e._lctf.readCoverage=function(i,s){var o=e._bin,a={};a.fmt=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.fmt==1&&(a.tab=o.readUshorts(i,s,l)),a.fmt==2&&(a.tab=o.readUshorts(i,s,3*l)),a},e._lctf.coverageIndex=function(i,s){var o=i.tab;if(i.fmt==1)return o.indexOf(s);if(i.fmt==2){var a=e._lctf.getInterval(o,s);if(a!=-1)return o[a+2]+(s-o[a])}return-1},e._lctf.readFeatureList=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2;var p=e._lctf.readFeatureTable(i,a+d);p.tag=f.trim(),l.push(p)}return l},e._lctf.readFeatureTable=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2,c>0&&(l.featureParams=a+c);var u=o.readUshort(i,s);s+=2,l.tab=[];for(var f=0;f<u;f++)l.tab.push(o.readUshort(i,s+2*f));return l},e._lctf.readScriptList=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readASCII(i,s,4);s+=4;var d=o.readUshort(i,s);s+=2,l[f.trim()]=e._lctf.readScriptTable(i,a+d)}return l},e._lctf.readScriptTable=function(i,s){var o=e._bin,a=s,l={},c=o.readUshort(i,s);s+=2,l.default=e._lctf.readLangSysTable(i,a+c);var u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var d=o.readASCII(i,s,4);s+=4;var p=o.readUshort(i,s);s+=2,l[d.trim()]=e._lctf.readLangSysTable(i,a+p)}return l},e._lctf.readLangSysTable=function(i,s){var o=e._bin,a={};o.readUshort(i,s),s+=2,a.reqFeature=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);return s+=2,a.features=o.readUshorts(i,s,l),a},e.CFF={},e.CFF.parse=function(i,s,o){var a=e._bin;(i=new Uint8Array(i.buffer,s,o))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var c=[],u=0;u<l.length-1;u++)c.push(a.readASCII(i,s+l[u],l[u+1]-l[u]));s+=l[l.length-1];var f=[];s=e.CFF.readIndex(i,s,f);var d=[];for(u=0;u<f.length-1;u++)d.push(e.CFF.readDict(i,s+f[u],s+f[u+1]));s+=f[f.length-1];var p=d[0],g=[];s=e.CFF.readIndex(i,s,g);var v=[];for(u=0;u<g.length-1;u++)v.push(a.readASCII(i,s+g[u],g[u+1]-g[u]));if(s+=g[g.length-1],e.CFF.readSubrs(i,s,p),p.CharStrings){s=p.CharStrings,g=[],s=e.CFF.readIndex(i,s,g);var y=[];for(u=0;u<g.length-1;u++)y.push(a.readBytes(i,s+g[u],g[u+1]-g[u]));p.CharStrings=y}if(p.ROS){s=p.FDArray;var x=[];for(s=e.CFF.readIndex(i,s,x),p.FDArray=[],u=0;u<x.length-1;u++){var _=e.CFF.readDict(i,s+x[u],s+x[u+1]);e.CFF._readFDict(i,_,v),p.FDArray.push(_)}s+=x[x.length-1],s=p.FDSelect,p.FDSelect=[];var w=i[s];if(s++,w!=3)throw w;var A=a.readUshort(i,s);for(s+=2,u=0;u<A+1;u++)p.FDSelect.push(a.readUshort(i,s),i[s+2]),s+=3}return p.Encoding&&(p.Encoding=e.CFF.readEncoding(i,p.Encoding,p.CharStrings.length)),p.charset&&(p.charset=e.CFF.readCharset(i,p.charset,p.CharStrings.length)),e.CFF._readFDict(i,p,v),p},e.CFF._readFDict=function(i,s,o){var a;for(var l in s.Private&&(a=s.Private[1],s.Private=e.CFF.readDict(i,a,a+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,a+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=o[s[l]-426+35])},e.CFF.readSubrs=function(i,s,o){var a=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,o.Bias=c,o.Subrs=[];for(var f=0;f<l.length-1;f++)o.Subrs.push(a.readBytes(i,s+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==s)return o;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,o){e._bin;var a=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var c=i[s];s++;for(var u=0;u<c;u++)a.push(i[s+u]);return a},e.CFF.readCharset=function(i,s,o){var a=e._bin,l=[".notdef"],c=i[s];if(s++,c==0)for(var u=0;u<o;u++){var f=a.readUshort(i,s);s+=2,l.push(f)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<o;){f=a.readUshort(i,s),s+=2;var d=0;for(c==1?(d=i[s],s++):(d=a.readUshort(i,s),s+=2),u=0;u<=d;u++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,s,o){var a=e._bin,l=a.readUshort(i,s)+1,c=i[s+=2];if(s++,c==1)for(var u=0;u<l;u++)o.push(i[s+u]);else if(c==2)for(u=0;u<l;u++)o.push(a.readUshort(i,s+2*u));else if(c==3)for(u=0;u<l;u++)o.push(16777215&a.readUint(i,s+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(s+=l*c)-1},e.CFF.getCharString=function(i,s,o){var a=e._bin,l=i[s],c=i[s+1];i[s+2],i[s+3],i[s+4];var u=1,f=null,d=null;l<=20&&(f=l,u=1),l==12&&(f=100*l+c,u=2),21<=l&&l<=27&&(f=l,u=1),l==28&&(d=a.readShort(i,s+1),u=3),29<=l&&l<=31&&(f=l,u=1),32<=l&&l<=246&&(d=l-139,u=1),247<=l&&l<=250&&(d=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(d=256*-(l-251)-c-108,u=2),l==255&&(d=a.readInt(i,s+1)/65535,u=5),o.val=d??"o"+f,o.size=u},e.CFF.readCharString=function(i,s,o){for(var a=s+o,l=e._bin,c=[];s<a;){var u=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,p=null,g=null;u<=20&&(p=u,d=1),u==12&&(p=100*u+f,d=2),u!=19&&u!=20||(p=u,d=2),21<=u&&u<=27&&(p=u,d=1),u==28&&(g=l.readShort(i,s+1),d=3),29<=u&&u<=31&&(p=u,d=1),32<=u&&u<=246&&(g=u-139,d=1),247<=u&&u<=250&&(g=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(g=256*-(u-251)-f-108,d=2),u==255&&(g=l.readInt(i,s+1)/65535,d=5),c.push(g??"o"+p),s+=d}return c},e.CFF.readDict=function(i,s,o){for(var a=e._bin,l={},c=[];s<o;){var u=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,p=null,g=null;if(u==28&&(g=a.readShort(i,s+1),d=3),u==29&&(g=a.readInt(i,s+1),d=5),32<=u&&u<=246&&(g=u-139,d=1),247<=u&&u<=250&&(g=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(g=256*-(u-251)-f-108,d=2),u==255)throw g=a.readInt(i,s+1)/65535,d=5,"unknown number";if(u==30){var v=[];for(d=1;;){var y=i[s+d];d++;var x=y>>4,_=15&y;if(x!=15&&v.push(x),_!=15&&v.push(_),_==15)break}for(var w="",A=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],M=0;M<v.length;M++)w+=A[v[M]];g=parseFloat(w)}u<=21&&(p=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],d=1,u==12&&(p=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],d=2)),p!=null?(l[p]=c.length==1?c[0]:c,c=[]):c.push(g),s+=d}return l},e.cmap={},e.cmap.parse=function(i,s,o){i=new Uint8Array(i.buffer,s,o),s=0;var a=e._bin,l={};a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2;var u=[];l.tables=[];for(var f=0;f<c;f++){var d=a.readUshort(i,s);s+=2;var p=a.readUshort(i,s);s+=2;var g=a.readUint(i,s);s+=4;var v="p"+d+"e"+p,y=u.indexOf(g);if(y==-1){var x;y=l.tables.length,u.push(g);var _=a.readUshort(i,g);_==0?x=e.cmap.parse0(i,g):_==4?x=e.cmap.parse4(i,g):_==6?x=e.cmap.parse6(i,g):_==12?x=e.cmap.parse12(i,g):console.debug("unknown format: "+_,d,p,g),l.tables.push(x)}if(l[v]!=null)throw"multiple tables for one platform+encoding";l[v]=y}return l},e.cmap.parse0=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,a.map=[];for(var c=0;c<l-6;c++)a.map.push(i[s+c]);return a},e.cmap.parse4=function(i,s){var o=e._bin,a=s,l={};l.format=o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2;var u=o.readUshort(i,s);s+=2;var f=u/2;l.searchRange=o.readUshort(i,s),s+=2,l.entrySelector=o.readUshort(i,s),s+=2,l.rangeShift=o.readUshort(i,s),s+=2,l.endCount=o.readUshorts(i,s,f),s+=2*f,s+=2,l.startCount=o.readUshorts(i,s,f),s+=2*f,l.idDelta=[];for(var d=0;d<f;d++)l.idDelta.push(o.readShort(i,s)),s+=2;for(l.idRangeOffset=o.readUshorts(i,s,f),s+=2*f,l.glyphIdArray=[];s<a+c;)l.glyphIdArray.push(o.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,a.firstCode=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2,a.glyphIdArray=[];for(var c=0;c<l;c++)a.glyphIdArray.push(o.readUshort(i,s)),s+=2;return a},e.cmap.parse12=function(i,s){var o=e._bin,a={};a.format=o.readUshort(i,s),s+=2,s+=2,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4;var l=o.readUint(i,s);s+=4,a.groups=[];for(var c=0;c<l;c++){var u=s+12*c,f=o.readUint(i,u+0),d=o.readUint(i,u+4),p=o.readUint(i,u+8);a.groups.push([f,d,p])}return a},e.glyf={},e.glyf.parse=function(i,s,o,a){for(var l=[],c=0;c<a.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var o=e._bin,a=i._data,l=e._tabOffset(a,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var c={};if(c.noc=o.readShort(a,l),l+=2,c.xMin=o.readShort(a,l),l+=2,c.yMin=o.readShort(a,l),l+=2,c.xMax=o.readShort(a,l),l+=2,c.yMax=o.readShort(a,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(o.readUshort(a,l)),l+=2;var f=o.readUshort(a,l);if(l+=2,a.length-l<f)return null;c.instructions=o.readBytes(a,l,f),l+=f;var d=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<d;u++){var p=a[l];if(l++,c.flags.push(p),(8&p)!=0){var g=a[l];l++;for(var v=0;v<g;v++)c.flags.push(p),u++}}for(c.xs=[],u=0;u<d;u++){var y=(2&c.flags[u])!=0,x=(16&c.flags[u])!=0;y?(c.xs.push(x?a[l]:-a[l]),l++):x?c.xs.push(0):(c.xs.push(o.readShort(a,l)),l+=2)}for(c.ys=[],u=0;u<d;u++)y=(4&c.flags[u])!=0,x=(32&c.flags[u])!=0,y?(c.ys.push(x?a[l]:-a[l]),l++):x?c.ys.push(0):(c.ys.push(o.readShort(a,l)),l+=2);var _=0,w=0;for(u=0;u<d;u++)_+=c.xs[u],w+=c.ys[u],c.xs[u]=_,c.ys[u]=w}else{var A;c.parts=[];do{A=o.readUshort(a,l),l+=2;var M={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(M),M.glyphIndex=o.readUshort(a,l),l+=2,1&A){var E=o.readShort(a,l);l+=2;var R=o.readShort(a,l);l+=2}else E=o.readInt8(a,l),l++,R=o.readInt8(a,l),l++;2&A?(M.m.tx=E,M.m.ty=R):(M.p1=E,M.p2=R),8&A?(M.m.a=M.m.d=o.readF2dot14(a,l),l+=2):64&A?(M.m.a=o.readF2dot14(a,l),l+=2,M.m.d=o.readF2dot14(a,l),l+=2):128&A&&(M.m.a=o.readF2dot14(a,l),l+=2,M.m.b=o.readF2dot14(a,l),l+=2,M.m.c=o.readF2dot14(a,l),l+=2,M.m.d=o.readF2dot14(a,l),l+=2)}while(32&A);if(256&A){var C=o.readUshort(a,l);for(l+=2,c.instr=[],u=0;u<C;u++)c.instr.push(a[l]),l++}}return c},e.GPOS={},e.GPOS.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GPOS.subt)},e.GPOS.subt=function(i,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(i,o),o+=2,s==1||s==2||s==3||s==7||s==8&&u.fmt<=2){var f=l.readUshort(i,o);o+=2,u.coverage=e._lctf.readCoverage(i,f+c)}if(s==1&&u.fmt==1){var d=l.readUshort(i,o);o+=2;var p=e._lctf.numOfOnes(d);d!=0&&(u.pos=e.GPOS.readValueRecord(i,o,d))}else if(s==2&&u.fmt>=1&&u.fmt<=2){d=l.readUshort(i,o),o+=2;var g=l.readUshort(i,o);o+=2,p=e._lctf.numOfOnes(d);var v=e._lctf.numOfOnes(g);if(u.fmt==1){u.pairsets=[];var y=l.readUshort(i,o);o+=2;for(var x=0;x<y;x++){var _=c+l.readUshort(i,o);o+=2;var w=l.readUshort(i,_);_+=2;for(var A=[],M=0;M<w;M++){var E=l.readUshort(i,_);_+=2,d!=0&&(F=e.GPOS.readValueRecord(i,_,d),_+=2*p),g!=0&&(N=e.GPOS.readValueRecord(i,_,g),_+=2*v),A.push({gid2:E,val1:F,val2:N})}u.pairsets.push(A)}}if(u.fmt==2){var R=l.readUshort(i,o);o+=2;var C=l.readUshort(i,o);o+=2;var T=l.readUshort(i,o);o+=2;var D=l.readUshort(i,o);for(o+=2,u.classDef1=e._lctf.readClassDef(i,c+R),u.classDef2=e._lctf.readClassDef(i,c+C),u.matrix=[],x=0;x<T;x++){var L=[];for(M=0;M<D;M++){var F=null,N=null;d!=0&&(F=e.GPOS.readValueRecord(i,o,d),o+=2*p),g!=0&&(N=e.GPOS.readValueRecord(i,o,g),o+=2*v),L.push({val1:F,val2:N})}u.matrix.push(L)}}}else{if(s==9&&u.fmt==1){var k=l.readUshort(i,o);o+=2;var H=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=k;else if(a.ltype!=k)throw"invalid extension substitution";return e.GPOS.subt(i,a.ltype,c+H)}console.debug("unsupported GPOS table LookupType",s,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(i,s,o){var a=e._bin,l=[];return l.push(1&o?a.readShort(i,s):0),s+=1&o?2:0,l.push(2&o?a.readShort(i,s):0),s+=2&o?2:0,l.push(4&o?a.readShort(i,s):0),s+=4&o?2:0,l.push(8&o?a.readShort(i,s):0),s+=8&o?2:0,l},e.GSUB={},e.GSUB.parse=function(i,s,o,a){return e._lctf.parse(i,s,o,a,e.GSUB.subt)},e.GSUB.subt=function(i,s,o,a){var l=e._bin,c=o,u={};if(u.fmt=l.readUshort(i,o),o+=2,s!=1&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==4||s==5&&u.fmt<=2||s==6&&u.fmt<=2){var f=l.readUshort(i,o);o+=2,u.coverage=e._lctf.readCoverage(i,c+f)}if(s==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(i,o),o+=2;else if(u.fmt==2){var d=l.readUshort(i,o);o+=2,u.newg=l.readUshorts(i,o,d),o+=2*u.newg.length}}else if(s==4){u.vals=[],d=l.readUshort(i,o),o+=2;for(var p=0;p<d;p++){var g=l.readUshort(i,o);o+=2,u.vals.push(e.GSUB.readLigatureSet(i,c+g))}}else if(s==5&&u.fmt==2){if(u.fmt==2){var v=l.readUshort(i,o);o+=2,u.cDef=e._lctf.readClassDef(i,c+v),u.scset=[];var y=l.readUshort(i,o);for(o+=2,p=0;p<y;p++){var x=l.readUshort(i,o);o+=2,u.scset.push(x==0?null:e.GSUB.readSubClassSet(i,c+x))}}}else if(s==6&&u.fmt==3){if(u.fmt==3){for(p=0;p<3;p++){d=l.readUshort(i,o),o+=2;for(var _=[],w=0;w<d;w++)_.push(e._lctf.readCoverage(i,c+l.readUshort(i,o+2*w)));o+=2*d,p==0&&(u.backCvg=_),p==1&&(u.inptCvg=_),p==2&&(u.ahedCvg=_)}d=l.readUshort(i,o),o+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(i,o,d)}}else{if(s==7&&u.fmt==1){var A=l.readUshort(i,o);o+=2;var M=l.readUint(i,o);if(o+=4,a.ltype==9)a.ltype=A;else if(a.ltype!=A)throw"invalid extension substitution";return e.GSUB.subt(i,a.ltype,c+M)}console.debug("unsupported GSUB table LookupType",s,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(i,s){var o=e._bin.readUshort,a=s,l=[],c=o(i,s);s+=2;for(var u=0;u<c;u++){var f=o(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,a+f))}return l},e.GSUB.readSubClassRule=function(i,s){var o=e._bin.readUshort,a={},l=o(i,s),c=o(i,s+=2);s+=2,a.input=[];for(var u=0;u<l-1;u++)a.input.push(o(i,s)),s+=2;return a.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,c),a},e.GSUB.readSubstLookupRecords=function(i,s,o){for(var a=e._bin.readUshort,l=[],c=0;c<o;c++)l.push(a(i,s),a(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,a+f))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var o=e._bin,a={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=o.readUshort(i,s);s+=2,c==1&&u--,a[l[c]]=o.readUshorts(i,s,u),s+=2*a[l[c]].length}return u=o.readUshort(i,s),s+=2,a.subst=o.readUshorts(i,s,2*u),s+=2*a.subst.length,a},e.GSUB.readLigatureSet=function(i,s){var o=e._bin,a=s,l=[],c=o.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=o.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,a+f))}return l},e.GSUB.readLigature=function(i,s){var o=e._bin,a={chain:[]};a.nglyph=o.readUshort(i,s),s+=2;var l=o.readUshort(i,s);s+=2;for(var c=0;c<l-1;c++)a.chain.push(o.readUshort(i,s)),s+=2;return a},e.head={},e.head.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.fontRevision=a.readFixed(i,s),s+=4,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4,l.flags=a.readUshort(i,s),s+=2,l.unitsPerEm=a.readUshort(i,s),s+=2,l.created=a.readUint64(i,s),s+=8,l.modified=a.readUint64(i,s),s+=8,l.xMin=a.readShort(i,s),s+=2,l.yMin=a.readShort(i,s),s+=2,l.xMax=a.readShort(i,s),s+=2,l.yMax=a.readShort(i,s),s+=2,l.macStyle=a.readUshort(i,s),s+=2,l.lowestRecPPEM=a.readUshort(i,s),s+=2,l.fontDirectionHint=a.readShort(i,s),s+=2,l.indexToLocFormat=a.readShort(i,s),s+=2,l.glyphDataFormat=a.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,o){var a=e._bin,l={};return a.readFixed(i,s),s+=4,l.ascender=a.readShort(i,s),s+=2,l.descender=a.readShort(i,s),s+=2,l.lineGap=a.readShort(i,s),s+=2,l.advanceWidthMax=a.readUshort(i,s),s+=2,l.minLeftSideBearing=a.readShort(i,s),s+=2,l.minRightSideBearing=a.readShort(i,s),s+=2,l.xMaxExtent=a.readShort(i,s),s+=2,l.caretSlopeRise=a.readShort(i,s),s+=2,l.caretSlopeRun=a.readShort(i,s),s+=2,l.caretOffset=a.readShort(i,s),s+=2,s+=8,l.metricDataFormat=a.readShort(i,s),s+=2,l.numberOfHMetrics=a.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,o,a){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,f=0,d=0;d<a.maxp.numGlyphs;d++)d<a.hhea.numberOfHMetrics&&(u=l.readUshort(i,s),s+=2,f=l.readShort(i,s),s+=2),c.aWidth.push(u),c.lsBearing.push(f);return c},e.kern={},e.kern.parse=function(i,s,o,a){var l=e._bin,c=l.readUshort(i,s);if(s+=2,c==1)return e.kern.parseV1(i,s-2,o,a);var u=l.readUshort(i,s);s+=2;for(var f={glyph1:[],rval:[]},d=0;d<u;d++){s+=2,o=l.readUshort(i,s),s+=2;var p=l.readUshort(i,s);s+=2;var g=p>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;s=e.kern.readFormat0(i,s,f)}return f},e.kern.parseV1=function(i,s,o,a){var l=e._bin;l.readFixed(i,s),s+=4;var c=l.readUint(i,s);s+=4;for(var u={glyph1:[],rval:[]},f=0;f<c;f++){l.readUint(i,s),s+=4;var d=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var p=d>>>8;if((p&=15)!=0)throw"unknown kern table format: "+p;s=e.kern.readFormat0(i,s,u)}return u},e.kern.readFormat0=function(i,s,o){var a=e._bin,l=-1,c=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var u=0;u<c;u++){var f=a.readUshort(i,s);s+=2;var d=a.readUshort(i,s);s+=2;var p=a.readShort(i,s);s+=2,f!=l&&(o.glyph1.push(f),o.rval.push({glyph2:[],vals:[]}));var g=o.rval[o.rval.length-1];g.glyph2.push(d),g.vals.push(p),l=f}return s},e.loca={},e.loca.parse=function(i,s,o,a){var l=e._bin,c=[],u=a.head.indexToLocFormat,f=a.maxp.numGlyphs+1;if(u==0)for(var d=0;d<f;d++)c.push(l.readUshort(i,s+(d<<1))<<1);if(u==1)for(d=0;d<f;d++)c.push(l.readUint(i,s+(d<<2)));return c},e.maxp={},e.maxp.parse=function(i,s,o){var a=e._bin,l={},c=a.readUint(i,s);return s+=4,l.numGlyphs=a.readUshort(i,s),s+=2,c==65536&&(l.maxPoints=a.readUshort(i,s),s+=2,l.maxContours=a.readUshort(i,s),s+=2,l.maxCompositePoints=a.readUshort(i,s),s+=2,l.maxCompositeContours=a.readUshort(i,s),s+=2,l.maxZones=a.readUshort(i,s),s+=2,l.maxTwilightPoints=a.readUshort(i,s),s+=2,l.maxStorage=a.readUshort(i,s),s+=2,l.maxFunctionDefs=a.readUshort(i,s),s+=2,l.maxInstructionDefs=a.readUshort(i,s),s+=2,l.maxStackElements=a.readUshort(i,s),s+=2,l.maxSizeOfInstructions=a.readUshort(i,s),s+=2,l.maxComponentElements=a.readUshort(i,s),s+=2,l.maxComponentDepth=a.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,o){var a=e._bin,l={};a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2,a.readUshort(i,s);for(var u,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=s+=2,p=0;p<c;p++){var g=a.readUshort(i,s);s+=2;var v=a.readUshort(i,s);s+=2;var y=a.readUshort(i,s);s+=2;var x=a.readUshort(i,s);s+=2;var _=a.readUshort(i,s);s+=2;var w=a.readUshort(i,s);s+=2;var A,M=f[x],E=d+12*c+w;if(g==0)A=a.readUnicode(i,E,_/2);else if(g==3&&v==0)A=a.readUnicode(i,E,_/2);else if(v==0)A=a.readASCII(i,E,_);else if(v==1)A=a.readUnicode(i,E,_/2);else if(v==3)A=a.readUnicode(i,E,_/2);else{if(g!=1)throw"unknown encoding "+v+", platformID: "+g;A=a.readASCII(i,E,_),console.debug("reading unknown MAC encoding "+v+" as ASCII")}var R="p"+g+","+y.toString(16);l[R]==null&&(l[R]={}),l[R][M!==void 0?M:x]=A,l[R]._lang=y}for(var C in l)if(l[C].postScriptName!=null&&l[C]._lang==1033)return l[C];for(var C in l)if(l[C].postScriptName!=null&&l[C]._lang==0)return l[C];for(var C in l)if(l[C].postScriptName!=null&&l[C]._lang==3084)return l[C];for(var C in l)if(l[C].postScriptName!=null)return l[C];for(var C in l){u=C;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(i,s,o){var a=e._bin.readUshort(i,s);s+=2;var l={};if(a==0)e["OS/2"].version0(i,s,l);else if(a==1)e["OS/2"].version1(i,s,l);else if(a==2||a==3||a==4)e["OS/2"].version2(i,s,l);else{if(a!=5)throw"unknown OS/2 table version: "+a;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,o){var a=e._bin;return o.xAvgCharWidth=a.readShort(i,s),s+=2,o.usWeightClass=a.readUshort(i,s),s+=2,o.usWidthClass=a.readUshort(i,s),s+=2,o.fsType=a.readUshort(i,s),s+=2,o.ySubscriptXSize=a.readShort(i,s),s+=2,o.ySubscriptYSize=a.readShort(i,s),s+=2,o.ySubscriptXOffset=a.readShort(i,s),s+=2,o.ySubscriptYOffset=a.readShort(i,s),s+=2,o.ySuperscriptXSize=a.readShort(i,s),s+=2,o.ySuperscriptYSize=a.readShort(i,s),s+=2,o.ySuperscriptXOffset=a.readShort(i,s),s+=2,o.ySuperscriptYOffset=a.readShort(i,s),s+=2,o.yStrikeoutSize=a.readShort(i,s),s+=2,o.yStrikeoutPosition=a.readShort(i,s),s+=2,o.sFamilyClass=a.readShort(i,s),s+=2,o.panose=a.readBytes(i,s,10),s+=10,o.ulUnicodeRange1=a.readUint(i,s),s+=4,o.ulUnicodeRange2=a.readUint(i,s),s+=4,o.ulUnicodeRange3=a.readUint(i,s),s+=4,o.ulUnicodeRange4=a.readUint(i,s),s+=4,o.achVendID=[a.readInt8(i,s),a.readInt8(i,s+1),a.readInt8(i,s+2),a.readInt8(i,s+3)],s+=4,o.fsSelection=a.readUshort(i,s),s+=2,o.usFirstCharIndex=a.readUshort(i,s),s+=2,o.usLastCharIndex=a.readUshort(i,s),s+=2,o.sTypoAscender=a.readShort(i,s),s+=2,o.sTypoDescender=a.readShort(i,s),s+=2,o.sTypoLineGap=a.readShort(i,s),s+=2,o.usWinAscent=a.readUshort(i,s),s+=2,o.usWinDescent=a.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,o){var a=e._bin;return s=e["OS/2"].version0(i,s,o),o.ulCodePageRange1=a.readUint(i,s),s+=4,o.ulCodePageRange2=a.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,o){var a=e._bin;return s=e["OS/2"].version1(i,s,o),o.sxHeight=a.readShort(i,s),s+=2,o.sCapHeight=a.readShort(i,s),s+=2,o.usDefault=a.readUshort(i,s),s+=2,o.usBreak=a.readUshort(i,s),s+=2,o.usMaxContext=a.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,o){var a=e._bin;return s=e["OS/2"].version2(i,s,o),o.usLowerOpticalPointSize=a.readUshort(i,s),s+=2,o.usUpperOpticalPointSize=a.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,o){var a=e._bin,l={};return l.version=a.readFixed(i,s),s+=4,l.italicAngle=a.readFixed(i,s),s+=4,l.underlinePosition=a.readShort(i,s),s+=2,l.underlineThickness=a.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var o=i.cmap,a=-1;if(o.p0e4!=null?a=o.p0e4:o.p3e1!=null?a=o.p3e1:o.p1e0!=null?a=o.p1e0:o.p0e3!=null&&(a=o.p0e3),a==-1)throw"no familiar platform and encoding!";var l=o.tables[a];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(s<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>s?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[s-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:s+l.idDelta[c])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var f=l.groups[u];if(f[0]<=s&&s<=f[1])return f[2]+(s-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var a=i.SVG.entries[s];return a==null?o:(typeof a=="string"&&(a=e.SVG.toPath(a),i.SVG.entries[s]=a),a)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},c=i.CFF,u=i.CFF.Private;if(c.ROS){for(var f=0;c.FDSelect[f+2]<=s;)f+=2;u=c.FDArray[c.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,c,u,o)}else i.glyf&&e.U._drawGlyf(s,i,o);return o},e.U._drawGlyf=function(i,s,o){var a=s.glyf[i];a==null&&(a=s.glyf[i]=e.glyf._parseGlyf(s,i)),a!=null&&(a.noc>-1?e.U._simpleGlyph(a,o):e.U._compoGlyph(a,s,o))},e.U._simpleGlyph=function(i,s){for(var o=0;o<i.noc;o++){for(var a=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],c=a;c<=l;c++){var u=c==a?l:c-1,f=c==l?a:c+1,d=1&i.flags[c],p=1&i.flags[u],g=1&i.flags[f],v=i.xs[c],y=i.ys[c];if(c==a)if(d){if(!p){e.U.P.moveTo(s,v,y);continue}e.U.P.moveTo(s,i.xs[u],i.ys[u])}else p?e.U.P.moveTo(s,i.xs[u],i.ys[u]):e.U.P.moveTo(s,(i.xs[u]+v)/2,(i.ys[u]+y)/2);d?p&&e.U.P.lineTo(s,v,y):g?e.U.P.qcurveTo(s,v,y,i.xs[f],i.ys[f]):e.U.P.qcurveTo(s,v,y,(v+i.xs[f])/2,(y+i.ys[f])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,o){for(var a=0;a<i.parts.length;a++){var l={cmds:[],crds:[]},c=i.parts[a];e.U._drawGlyf(c.glyphIndex,s,l);for(var u=c.m,f=0;f<l.crds.length;f+=2){var d=l.crds[f],p=l.crds[f+1];o.crds.push(d*u.a+p*u.b+u.tx),o.crds.push(d*u.c+p*u.d+u.ty)}for(f=0;f<l.cmds.length;f++)o.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,s){var o=e._lctf.getInterval(s,i);return o==-1?0:s[o+2]},e.U.getPairAdjustment=function(i,s,o){var a=!1;if(i.GPOS)for(var l=i.GPOS,c=l.lookupList,u=l.featureList,f=[],d=0;d<u.length;d++){var p=u[d];if(p.tag=="kern"){a=!0;for(var g=0;g<p.tab.length;g++)if(!f[p.tab[g]]){f[p.tab[g]]=!0;for(var v=c[p.tab[g]],y=0;y<v.tabs.length;y++)if(v.tabs[y]!=null){var x,_=v.tabs[y];if((!_.coverage||(x=e._lctf.coverageIndex(_.coverage,s))!=-1)&&v.ltype!=1){if(v.ltype==2){var w=null;if(_.fmt==1){var A=_.pairsets[x];for(d=0;d<A.length;d++)A[d].gid2==o&&(w=A[d])}else if(_.fmt==2){var M=e.U._getGlyphClass(s,_.classDef1),E=e.U._getGlyphClass(o,_.classDef2);w=_.matrix[M][E]}if(w){var R=0;return w.val1&&w.val1[2]&&(R+=w.val1[2]),w.val2&&w.val2[0]&&(R+=w.val2[0]),R}}}}}}}if(i.kern&&!a){var C=i.kern.glyph1.indexOf(s);if(C!=-1){var T=i.kern.rval[C].glyph2.indexOf(o);if(T!=-1)return i.kern.rval[C].vals[T]}}return 0},e.U._applySubs=function(i,s,o,a){for(var l=i.length-s-1,c=0;c<o.tabs.length;c++)if(o.tabs[c]!=null){var u,f=o.tabs[c];if(!f.coverage||(u=e._lctf.coverageIndex(f.coverage,i[s]))!=-1){if(o.ltype==1)i[s],f.fmt==1?i[s]=i[s]+f.delta:i[s]=f.newg[u];else if(o.ltype==4)for(var d=f.vals[u],p=0;p<d.length;p++){var g=d[p],v=g.chain.length;if(!(v>l)){for(var y=!0,x=0,_=0;_<v;_++){for(;i[s+x+(1+_)]==-1;)x++;g.chain[_]!=i[s+x+(1+_)]&&(y=!1)}if(y){for(i[s]=g.nglyph,_=0;_<v+x;_++)i[s+_+1]=-1;break}}}else if(o.ltype==5&&f.fmt==2)for(var w=e._lctf.getInterval(f.cDef,i[s]),A=f.cDef[w+2],M=f.scset[A],E=0;E<M.length;E++){var R=M[E],C=R.input;if(!(C.length>l)){for(y=!0,_=0;_<C.length;_++){var T=e._lctf.getInterval(f.cDef,i[s+1+_]);if(w==-1&&f.cDef[T+2]!=C[_]){y=!1;break}}if(y){var D=R.substLookupRecords;for(p=0;p<D.length;p+=2)D[p],D[p+1]}}}else if(o.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,s-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,s)||!e.U._glsCovered(i,f.ahedCvg,s+f.inptCvg.length))continue;var L=f.lookupRec;for(E=0;E<L.length;E+=2){w=L[E];var F=a[L[E+1]];e.U._applySubs(i,s+w,F,a)}}}}},e.U._glsCovered=function(i,s,o){for(var a=0;a<s.length;a++)if(e._lctf.coverageIndex(s[a],i[o+a])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,o){for(var a={cmds:[],crds:[]},l=0,c=0;c<s.length;c++){var u=s[c];if(u!=-1){for(var f=c<s.length-1&&s[c+1]!=-1?s[c+1]:0,d=e.U.glyphToPath(i,u),p=0;p<d.crds.length;p+=2)a.crds.push(d.crds[p]+l),a.crds.push(d.crds[p+1]);for(o&&a.cmds.push(o),p=0;p<d.cmds.length;p++)a.cmds.push(d.cmds[p]);o&&a.cmds.push("X"),l+=i.hmtx.aWidth[u],c<s.length-1&&(l+=e.U.getPairAdjustment(i,u,f))}}return a},e.U.P={},e.U.P.moveTo=function(i,s,o){i.cmds.push("M"),i.crds.push(s,o)},e.U.P.lineTo=function(i,s,o){i.cmds.push("L"),i.crds.push(s,o)},e.U.P.curveTo=function(i,s,o,a,l,c,u){i.cmds.push("C"),i.crds.push(s,o,a,l,c,u)},e.U.P.qcurveTo=function(i,s,o,a,l){i.cmds.push("Q"),i.crds.push(s,o,a,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,o,a,l){for(var c=s.stack,u=s.nStems,f=s.haveWidth,d=s.width,p=s.open,g=0,v=s.x,y=s.y,x=0,_=0,w=0,A=0,M=0,E=0,R=0,C=0,T=0,D=0,L={val:0,size:0};g<i.length;){e.CFF.getCharString(i,g,L);var F=L.val;if(g+=L.size,F=="o1"||F=="o18")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(F=="o3"||F=="o23")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(F=="o4")c.length>1&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),p&&e.U.P.closePath(l),y+=c.pop(),e.U.P.moveTo(l,v,y),p=!0;else if(F=="o5")for(;c.length>0;)v+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,v,y);else if(F=="o6"||F=="o7")for(var N=c.length,k=F=="o6",H=0;H<N;H++){var W=c.shift();k?v+=W:y+=W,k=!k,e.U.P.lineTo(l,v,y)}else if(F=="o8"||F=="o24"){N=c.length;for(var Y=0;Y+6<=N;)x=v+c.shift(),_=y+c.shift(),w=x+c.shift(),A=_+c.shift(),v=w+c.shift(),y=A+c.shift(),e.U.P.curveTo(l,x,_,w,A,v,y),Y+=6;F=="o24"&&(v+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,v,y))}else{if(F=="o11")break;if(F=="o1234"||F=="o1235"||F=="o1236"||F=="o1237")F=="o1234"&&(_=y,w=(x=v+c.shift())+c.shift(),D=A=_+c.shift(),E=A,C=y,v=(R=(M=(T=w+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,x,_,w,A,T,D),e.U.P.curveTo(l,M,E,R,C,v,y)),F=="o1235"&&(x=v+c.shift(),_=y+c.shift(),w=x+c.shift(),A=_+c.shift(),T=w+c.shift(),D=A+c.shift(),M=T+c.shift(),E=D+c.shift(),R=M+c.shift(),C=E+c.shift(),v=R+c.shift(),y=C+c.shift(),c.shift(),e.U.P.curveTo(l,x,_,w,A,T,D),e.U.P.curveTo(l,M,E,R,C,v,y)),F=="o1236"&&(x=v+c.shift(),_=y+c.shift(),w=x+c.shift(),D=A=_+c.shift(),E=A,R=(M=(T=w+c.shift())+c.shift())+c.shift(),C=E+c.shift(),v=R+c.shift(),e.U.P.curveTo(l,x,_,w,A,T,D),e.U.P.curveTo(l,M,E,R,C,v,y)),F=="o1237"&&(x=v+c.shift(),_=y+c.shift(),w=x+c.shift(),A=_+c.shift(),T=w+c.shift(),D=A+c.shift(),M=T+c.shift(),E=D+c.shift(),R=M+c.shift(),C=E+c.shift(),Math.abs(R-v)>Math.abs(C-y)?v=R+c.shift():y=C+c.shift(),e.U.P.curveTo(l,x,_,w,A,T,D),e.U.P.curveTo(l,M,E,R,C,v,y));else if(F=="o14"){if(c.length>0&&!f&&(d=c.shift()+o.nominalWidthX,f=!0),c.length==4){var z=c.shift(),U=c.shift(),V=c.shift(),G=c.shift(),X=e.CFF.glyphBySE(o,V),te=e.CFF.glyphBySE(o,G);e.U._drawCFF(o.CharStrings[X],s,o,a,l),s.x=z,s.y=U,e.U._drawCFF(o.CharStrings[te],s,o,a,l)}p&&(e.U.P.closePath(l),p=!1)}else if(F=="o19"||F=="o20")c.length%2!=0&&!f&&(d=c.shift()+a.nominalWidthX),u+=c.length>>1,c.length=0,f=!0,g+=u+7>>3;else if(F=="o21")c.length>2&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),y+=c.pop(),v+=c.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),p=!0;else if(F=="o22")c.length>1&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),v+=c.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,v,y),p=!0;else if(F=="o25"){for(;c.length>6;)v+=c.shift(),y+=c.shift(),e.U.P.lineTo(l,v,y);x=v+c.shift(),_=y+c.shift(),w=x+c.shift(),A=_+c.shift(),v=w+c.shift(),y=A+c.shift(),e.U.P.curveTo(l,x,_,w,A,v,y)}else if(F=="o26")for(c.length%2&&(v+=c.shift());c.length>0;)x=v,_=y+c.shift(),v=w=x+c.shift(),y=(A=_+c.shift())+c.shift(),e.U.P.curveTo(l,x,_,w,A,v,y);else if(F=="o27")for(c.length%2&&(y+=c.shift());c.length>0;)_=y,w=(x=v+c.shift())+c.shift(),A=_+c.shift(),v=w+c.shift(),y=A,e.U.P.curveTo(l,x,_,w,A,v,y);else if(F=="o10"||F=="o29"){var re=F=="o10"?a:o;if(c.length==0)console.debug("error: empty stack");else{var se=c.pop(),q=re.Subrs[se+re.Bias];s.x=v,s.y=y,s.nStems=u,s.haveWidth=f,s.width=d,s.open=p,e.U._drawCFF(q,s,o,a,l),v=s.x,y=s.y,u=s.nStems,f=s.haveWidth,d=s.width,p=s.open}}else if(F=="o30"||F=="o31"){var oe=c.length,de=(Y=0,F=="o31");for(Y+=oe-(N=-3&oe);Y<N;)de?(_=y,w=(x=v+c.shift())+c.shift(),y=(A=_+c.shift())+c.shift(),N-Y==5?(v=w+c.shift(),Y++):v=w,de=!1):(x=v,_=y+c.shift(),w=x+c.shift(),A=_+c.shift(),v=w+c.shift(),N-Y==5?(y=A+c.shift(),Y++):y=A,de=!0),e.U.P.curveTo(l,x,_,w,A,v,y),Y+=4}else{if((F+"").charAt(0)=="o")throw console.debug("Unknown operation: "+F,i),F;c.push(F)}}}s.x=v,s.y=y,s.nStems=u,s.haveWidth=f,s.width=d,s.open=p};var t=e,r={Typr:t};return n.Typr=t,n.default=r,Object.defineProperty(n,"__esModule",{value:!0}),n}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function Lee(){return function(n){var e=Uint8Array,t=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(F,N){for(var k=new t(31),H=0;H<31;++H)k[H]=N+=1<<F[H-1];var W=new r(k[30]);for(H=1;H<30;++H)for(var Y=k[H];Y<k[H+1];++Y)W[Y]=Y-k[H]<<5|H;return[k,W]},l=a(i,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var f=a(s,0)[0],d=new t(32768),p=0;p<32768;++p){var g=(43690&p)>>>1|(21845&p)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,d[p]=((65280&g)>>>8|(255&g)<<8)>>>1}var v=function(F,N,k){for(var H=F.length,W=0,Y=new t(N);W<H;++W)++Y[F[W]-1];var z,U=new t(N);for(W=0;W<N;++W)U[W]=U[W-1]+Y[W-1]<<1;if(k){z=new t(1<<N);var V=15-N;for(W=0;W<H;++W)if(F[W])for(var G=W<<4|F[W],X=N-F[W],te=U[F[W]-1]++<<X,re=te|(1<<X)-1;te<=re;++te)z[d[te]>>>V]=G}else for(z=new t(H),W=0;W<H;++W)F[W]&&(z[W]=d[U[F[W]-1]++]>>>15-F[W]);return z},y=new e(288);for(p=0;p<144;++p)y[p]=8;for(p=144;p<256;++p)y[p]=9;for(p=256;p<280;++p)y[p]=7;for(p=280;p<288;++p)y[p]=8;var x=new e(32);for(p=0;p<32;++p)x[p]=5;var _=v(y,9,1),w=v(x,5,1),A=function(F){for(var N=F[0],k=1;k<F.length;++k)F[k]>N&&(N=F[k]);return N},M=function(F,N,k){var H=N/8|0;return(F[H]|F[H+1]<<8)>>(7&N)&k},E=function(F,N){var k=N/8|0;return(F[k]|F[k+1]<<8|F[k+2]<<16)>>(7&N)},R=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],C=function(F,N,k){var H=new Error(N||R[F]);if(H.code=F,Error.captureStackTrace&&Error.captureStackTrace(H,C),!k)throw H;return H},T=function(F,N,k){var H=F.length;if(!H||k&&!k.l&&H<5)return N||new e(0);var W=!N||k,Y=!k||k.i;k||(k={}),N||(N=new e(3*H));var z,U=function(Ie){var $e=N.length;if(Ie>$e){var st=new e(Math.max(2*$e,Ie));st.set(N),N=st}},V=k.f||0,G=k.p||0,X=k.b||0,te=k.l,re=k.d,se=k.m,q=k.n,oe=8*H;do{if(!te){k.f=V=M(F,G,1);var de=M(F,G+1,3);if(G+=3,!de){var Te=F[(Oe=((z=G)/8|0)+(7&z&&1)+4)-4]|F[Oe-3]<<8,ye=Oe+Te;if(ye>H){Y&&C(0);break}W&&U(X+Te),N.set(F.subarray(Oe,ye),X),k.b=X+=Te,k.p=G=8*ye;continue}if(de==1)te=_,re=w,se=9,q=5;else if(de==2){var Se=M(F,G,31)+257,ne=M(F,G+10,15)+4,le=Se+M(F,G+5,31)+1;G+=14;for(var Me=new e(le),Pe=new e(19),Ae=0;Ae<ne;++Ae)Pe[o[Ae]]=M(F,G+3*Ae,7);G+=3*ne;var je=A(Pe),we=(1<<je)-1,Le=v(Pe,je,1);for(Ae=0;Ae<le;){var Oe,xe=Le[M(F,G,we)];if(G+=15&xe,(Oe=xe>>>4)<16)Me[Ae++]=Oe;else{var j=0,O=0;for(Oe==16?(O=3+M(F,G,3),G+=2,j=Me[Ae-1]):Oe==17?(O=3+M(F,G,7),G+=3):Oe==18&&(O=11+M(F,G,127),G+=7);O--;)Me[Ae++]=j}}var Z=Me.subarray(0,Se),fe=Me.subarray(Se);se=A(Z),q=A(fe),te=v(Z,se,1),re=v(fe,q,1)}else C(1);if(G>oe){Y&&C(0);break}}W&&U(X+131072);for(var Ce=(1<<se)-1,Re=(1<<q)-1,Fe=G;;Fe=G){var Be=(j=te[E(F,G)&Ce])>>>4;if((G+=15&j)>oe){Y&&C(0);break}if(j||C(2),Be<256)N[X++]=Be;else{if(Be==256){Fe=G,te=null;break}var ge=Be-254;if(Be>264){var We=i[Ae=Be-257];ge=M(F,G,(1<<We)-1)+c[Ae],G+=We}var Ne=re[E(F,G)&Re],ze=Ne>>>4;if(Ne||C(3),G+=15&Ne,fe=f[ze],ze>3&&(We=s[ze],fe+=E(F,G)&(1<<We)-1,G+=We),G>oe){Y&&C(0);break}W&&U(X+131072);for(var Ue=X+ge;X<Ue;X+=4)N[X]=N[X-fe],N[X+1]=N[X+1-fe],N[X+2]=N[X+2-fe],N[X+3]=N[X+3-fe];X=Ue}}k.l=te,k.p=Fe,k.b=X,te&&(V=1,k.m=se,k.d=re,k.n=q)}while(!V);return X==N.length?N:function(Ie,$e,st){($e==null||$e<0)&&($e=0),(st==null||st>Ie.length)&&(st=Ie.length);var vt=new(Ie instanceof t?t:Ie instanceof r?r:e)(st-$e);return vt.set(Ie.subarray($e,st)),vt}(N,0,X)},D=new e(0),L=typeof TextDecoder<"u"&&new TextDecoder;try{L.decode(D,{stream:!0})}catch{}return n.convert_streams=function(F){var N=new DataView(F),k=0;function H(){var Se=N.getUint16(k);return k+=2,Se}function W(){var Se=N.getUint32(k);return k+=4,Se}function Y(Se){Te.setUint16(ye,Se),ye+=2}function z(Se){Te.setUint32(ye,Se),ye+=4}for(var U={signature:W(),flavor:W(),length:W(),numTables:H(),reserved:H(),totalSfntSize:W(),majorVersion:H(),minorVersion:H(),metaOffset:W(),metaLength:W(),metaOrigLength:W(),privOffset:W(),privLength:W()},V=0;Math.pow(2,V)<=U.numTables;)V++;V--;for(var G=16*Math.pow(2,V),X=16*U.numTables-G,te=12,re=[],se=0;se<U.numTables;se++)re.push({tag:W(),offset:W(),compLength:W(),origLength:W(),origChecksum:W()}),te+=16;var q,oe=new Uint8Array(12+16*re.length+re.reduce(function(Se,ne){return Se+ne.origLength+4},0)),de=oe.buffer,Te=new DataView(de),ye=0;return z(U.flavor),Y(U.numTables),Y(G),Y(V),Y(X),re.forEach(function(Se){z(Se.tag),z(Se.origChecksum),z(te),z(Se.origLength),Se.outOffset=te,(te+=Se.origLength)%4!=0&&(te+=4-te%4)}),re.forEach(function(Se){var ne,le=F.slice(Se.offset,Se.offset+Se.compLength);if(Se.compLength!=Se.origLength){var Me=new Uint8Array(Se.origLength);ne=new Uint8Array(le,2),T(ne,Me)}else Me=new Uint8Array(le);oe.set(Me,Se.outOffset);var Pe=0;(te=Se.outOffset+Se.origLength)%4!=0&&(Pe=4-te%4),oe.set(new Uint8Array(Pe).buffer,Se.outOffset+Se.origLength),q=te+Pe}),de.slice(0,q)},Object.defineProperty(n,"__esModule",{value:!0}),n}({}).convert_streams}function kee(n,e){const t={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,o=4,a=8,l=16,c=32;let u;function f(M){if(!u){const E={R:s,L:i,D:o,C:l,U:c,T:a};u=new Map;for(let R in r){let C=0;r[R].split(",").forEach(T=>{let[D,L]=T.split("+");D=parseInt(D,36),L=L?parseInt(L,36):0,u.set(C+=D,E[R]);for(let F=L;F--;)u.set(++C,E[R])})}}return u.get(M)||c}const d=1,p=2,g=3,v=4,y=[null,"isol","init","fina","medi"];function x(M){const E=new Uint8Array(M.length);let R=c,C=d,T=-1;for(let D=0;D<M.length;D++){const L=M.codePointAt(D);let F=f(L)|0,N=d;F&a||(R&(i|o|l)?F&(s|o|l)?(N=g,(C===d||C===g)&&E[T]++):F&(i|c)&&(C===p||C===v)&&E[T]--:R&(s|c)&&(C===p||C===v)&&E[T]--,C=E[D]=N,R=F,T=D,L>65535&&D++)}return E}function _(M,E){const R=[];for(let T=0;T<E.length;T++){const D=E.codePointAt(T);D>65535&&T++,R.push(n.U.codeToGlyph(M,D))}const C=M.GSUB;if(C){const{lookupList:T,featureList:D}=C;let L;const F=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,N=[];D.forEach(k=>{if(F.test(k.tag))for(let H=0;H<k.tab.length;H++){if(N[k.tab[H]])continue;N[k.tab[H]]=!0;const W=T[k.tab[H]],Y=/^(isol|init|fina|medi)$/.test(k.tag);Y&&!L&&(L=x(E));for(let z=0;z<R.length;z++)(!L||!Y||y[L[z]]===k.tag)&&n.U._applySubs(R,z,W,T)}})}return R}function w(...M){for(let E=0;E<M.length;E++)if(typeof M[E]=="number")return M[E]}function A(M){const E=Object.create(null),R=M["OS/2"],C=M.hhea,T=M.head.unitsPerEm,D=w(R&&R.sTypoAscender,C&&C.ascender,T),L={unitsPerEm:T,ascender:D,descender:w(R&&R.sTypoDescender,C&&C.descender,0),capHeight:w(R&&R.sCapHeight,D),xHeight:w(R&&R.sxHeight,D),lineGap:w(R&&R.sTypoLineGap,C&&C.lineGap),forEachGlyph(F,N,k,H){let W=0;const Y=1/L.unitsPerEm*N,z=_(M,F);let U=0,V=-1;return z.forEach((G,X)=>{if(G!==-1){let te=E[G];if(!te){const{cmds:re,crds:se}=n.U.glyphToPath(M,G);let q="",oe=0;for(let ne=0,le=re.length;ne<le;ne++){const Me=t[re[ne]];q+=re[ne];for(let Pe=1;Pe<=Me;Pe++)q+=(Pe>1?",":"")+se[oe++]}let de,Te,ye,Se;if(se.length){de=Te=1/0,ye=Se=-1/0;for(let ne=0,le=se.length;ne<le;ne+=2){let Me=se[ne],Pe=se[ne+1];Me<de&&(de=Me),Pe<Te&&(Te=Pe),Me>ye&&(ye=Me),Pe>Se&&(Se=Pe)}}else de=ye=Te=Se=0;te=E[G]={index:G,advanceWidth:M.hmtx.aWidth[G],xMin:de,yMin:Te,xMax:ye,yMax:Se,path:q,pathCommandCount:re.length}}V!==-1&&(W+=n.U.getPairAdjustment(M,V,G)*Y),H.call(null,te,W,U),te.advanceWidth&&(W+=te.advanceWidth*Y),k&&(W+=k*N),V=G}U+=F.codePointAt(U)>65535?2:1}),W}};return L}return function(E){const R=new Uint8Array(E,0,4),C=n._bin.readASCII(R,0,4);if(C==="wOFF")E=e(E);else if(C==="wOF2")throw new Error("woff2 fonts not supported");return A(n.parse(E)[0])}}const Oee=n0({name:"Typr Font Parser",dependencies:[Iee,Lee,kee],init(n,e,t){const r=n(),i=e();return t(r,i)}}),Rd={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},Fee=new He;function ad(){return(self.performance||Date).now()}const qB=Object.create(null);function i5(n,e){n=zee({},n);const t=ad();if(n.font=Gee(n.font||Rd.defaultFontURL),n.text=""+n.text,n.sdfGlyphSize=n.sdfGlyphSize||Rd.sdfGlyphSize,n.colorRanges!=null){let f={};for(let d in n.colorRanges)if(n.colorRanges.hasOwnProperty(d)){let p=n.colorRanges[d];typeof p!="number"&&(p=Fee.set(p).getHex()),f[d]=p}n.colorRanges=f}Object.freeze(n);const{textureWidth:r,sdfExponent:i}=Rd,{sdfGlyphSize:s}=n,o=r/s*4;let a=qB[s];if(!a){const f=document.createElement("canvas");f.width=r,f.height=s*256/o,a=qB[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:f,sdfTexture:new mn(f,void 0,void 0,void 0,dn,dn),contextLost:!1,glyphsByFont:new Map},a.sdfTexture.generateMipmaps=!1,Nee(a)}const{sdfTexture:l,sdfCanvas:c}=a;let u=a.glyphsByFont.get(n.font);u||a.glyphsByFont.set(n.font,u=new Map),Vee(n).then(f=>{const{glyphIds:d,glyphPositions:p,fontSize:g,unitsPerEm:v,timings:y}=f,x=[],_=new Float32Array(d.length*4),w=g/v;let A=0,M=0;const E=ad();d.forEach((L,F)=>{let N=u.get(L);if(!N){const{path:Y,pathBounds:z}=f.glyphData[L],U=Math.max(z[2]-z[0],z[3]-z[1])/s*(Rd.sdfMargin*s+.5),V=a.glyphCount++,G=[z[0]-U,z[1]-U,z[2]+U,z[3]+U];u.set(L,N={path:Y,atlasIndex:V,sdfViewBox:G}),x.push(N)}const{sdfViewBox:k}=N,H=p[M++],W=p[M++];_[A++]=H+k[0]*w,_[A++]=W+k[1]*w,_[A++]=H+k[2]*w,_[A++]=W+k[3]*w,d[F]=N.atlasIndex}),y.quads=(y.quads||0)+(ad()-E);const R=ad();y.sdf={};const C=c.height,T=Math.ceil(a.glyphCount/o),D=Math.pow(2,Math.ceil(Math.log2(T*s)));D>C&&(console.info(`Increasing SDF texture size ${C}->${D}`),Bee(c,r,D),l.dispose()),Promise.all(x.map(L=>s5(L,a,n.gpuAccelerateSDF).then(({timing:F})=>{y.sdf[L.atlasIndex]=F}))).then(()=>{x.length&&!a.contextLost&&(o5(a),l.needsUpdate=!0),y.sdfTotal=ad()-R,y.total=ad()-t,e(Object.freeze({parameters:n,sdfTexture:l,sdfGlyphSize:s,sdfExponent:i,glyphBounds:_,glyphAtlasIndices:d,glyphColors:f.glyphColors,caretPositions:f.caretPositions,caretHeight:f.caretHeight,chunkedBounds:f.chunkedBounds,ascender:f.ascender,descender:f.descender,lineHeight:f.lineHeight,capHeight:f.capHeight,xHeight:f.xHeight,topBaseline:f.topBaseline,blockBounds:f.blockBounds,visibleBounds:f.visibleBounds,timings:f.timings}))})}),Promise.resolve().then(()=>{a.contextLost||Dee(c)})}function s5({path:n,atlasIndex:e,sdfViewBox:t},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},o){if(s)return Promise.resolve({timing:-1});const{textureWidth:a,sdfExponent:l}=Rd,c=Math.max(t[2]-t[0],t[3]-t[1]),u=Math.floor(e/4),f=u%(a/r)*r,d=Math.floor(u/(a/r))*r,p=e%4;return Mee(r,r,n,t,c,l,i,f,d,p,o)}function Nee(n){const e=n.sdfCanvas;e.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),n.contextLost=!0}),e.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),n.contextLost=!1;const r=[];n.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(s5(s,n,!0))})}),Promise.all(r).then(()=>{o5(n),n.sdfTexture.needsUpdate=!0})})}function Uee({font:n,characters:e,sdfGlyphSize:t},r){let i=Array.isArray(e)?e.join(`
`):""+e;i5({font:n,sdfGlyphSize:t,text:i},r)}function zee(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}let dy;function Gee(n){return dy||(dy=typeof document>"u"?{}:document.createElement("a")),dy.href=n,dy.href}function o5(n){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:t}=n,{width:r,height:i}=e,s=n.sdfCanvas.getContext("webgl");let o=t.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),t.image={width:r,height:i,data:o},t.flipY=!1,t.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,o)}}const Hee=n0({name:"Typesetter",dependencies:[Rd,Oee,bee,gee],init(n,e,t,r){const{defaultFontURL:i}=n;return t(e,r(),{defaultFontURL:i})}}),Vee=n0({name:"Typesetter",dependencies:[Hee],init(n){return function(e){return new Promise(t=>{n.typeset(e,t)})}},getTransferables(n){const e=[n.glyphPositions.buffer,n.glyphIds.buffer];return n.caretPositions&&e.push(n.caretPositions.buffer),n.glyphColors&&e.push(n.glyphColors.buffer),e}}),eI={};function Wee(n){let e=eI[n];if(!e){const t=new il(1,1,n,n),r=t.clone(),i=t.attributes,s=r.attributes,o=new pt,a=i.uv.count;for(let l=0;l<a;l++)s.position.array[l*3]*=-1,s.normal.array[l*3+2]*=-1;["position","normal","uv"].forEach(l=>{o.setAttribute(l,new qe([...i[l].array,...s[l].array],i[l].itemSize))}),o.setIndex([...t.index.array,...r.index.array.map(l=>l+a)]),o.translate(.5,.5,0),e=eI[n]=o}return e}const jee="aTroikaGlyphBounds",tI="aTroikaGlyphIndex",$ee="aTroikaGlyphColor";class Xee extends e2{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new rl,this.boundingBox=new nl}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const t=this.getIndex().count;this.setDrawRange(e===xi?t/2:0,e===Vs?t:t/2)}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let t=Wee(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=t.attributes[r].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,r,i,s){XS(this,jee,e,4),XS(this,tI,t,1),XS(this,$ee,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:r}=this;if(t){const{PI:i,floor:s,min:o,max:a,sin:l,cos:c}=Math,u=i/2,f=i*2,d=Math.abs(t),p=e[0]/d,g=e[2]/d,v=s((p+u)/f)!==s((g+u)/f)?-d:o(l(p)*d,l(g)*d),y=s((p-u)/f)!==s((g-u)/f)?d:a(l(p)*d,l(g)*d),x=s((p+i)/f)!==s((g+i)/f)?d*2:a(d-c(p)*d,d-c(g)*d);r.min.set(v,e[1],t<0?-x:0),r.max.set(y,e[3],t<0?0:x)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute(tI).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){t=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=t}}function XS(n,e,t,r){const i=n.getAttribute(e);t?i&&i.array.length===t.length?(i.array.set(t),i.needsUpdate=!0):(n.setAttribute(e,new Yu(t,r)),delete n._maxInstanceCount,n.dispose()):i&&n.deleteAttribute(e)}const Jee=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Kee=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Yee=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,Qee=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Zee(n){const e=bM(n,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new De},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Pt(0,0,0,0)},uTroikaClipRect:{value:new Pt(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new De},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new He},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Zr},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Jee,vertexTransform:Kee,fragmentDefs:Yee,fragmentColorTransform:Qee,customRewriter({vertexShader:t,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(t)||(t=t.replace(n5,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:t,fragmentShader:r}}});return e.transparent=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const p2=new ki({color:16777215,side:Vs,transparent:!0}),nI=8421504,rI=new Ze,hy=new $,JS=new $,Np=[],qee=new $,KS="+x+y";function iI(n){return Array.isArray(n)?n[0]:n}let a5=()=>{const n=new Un(new il(1,1),p2);return a5=()=>n,n},l5=()=>{const n=new Un(new il(1,1,32,1),p2);return l5=()=>n,n};const ete={type:"syncstart"},tte={type:"synccomplete"},c5=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],nte=c5.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let u5=class extends Un{constructor(){const e=new Xee;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=nI,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=KS,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(ete),i5({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(tte),e&&e()})))}onBeforeRender(e,t,r,i,s,o){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s),s._hadOwnSide=s.hasOwnProperty("side"),this.geometry.setSide(s._actualSide=s.side),s.side=Wa}onAfterRender(e,t,r,i,s,o){s._hadOwnSide?s.side=s._actualSide:delete s.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=p2.clone());if((!e||e.baseMaterial!==t)&&(e=this._derivedMaterial=Zee(t),t.addEventListener("dispose",function r(){t.removeEventListener("dispose",r),e.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return iI(this.material).getDepthMaterial()}get customDistanceMaterial(){return iI(this.material).getDistanceMaterial()}_prepareForRender(e){const t=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:a,blockBounds:l}=i;r.uTroikaSDFTexture.value=a,r.uTroikaSDFTextureSize.value.set(a.image.width,a.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!t&&!!i.glyphColors;let c=0,u=0,f=0,d,p,g,v=0,y=0;if(t){let{outlineWidth:_,outlineOffsetX:w,outlineOffsetY:A,outlineBlur:M,outlineOpacity:E}=this;c=this._parsePercent(_)||0,u=Math.max(0,this._parsePercent(M)||0),d=E,v=this._parsePercent(w)||0,y=this._parsePercent(A)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(g=this.strokeColor,r.uTroikaStrokeColor.value.set(g??nI),p=this.strokeOpacity,p==null&&(p=1)),d=this.fillOpacity;r.uTroikaDistanceOffset.value=c,r.uTroikaPositionOffset.value.set(v,y),r.uTroikaBlurRadius.value=u,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=p,r.uTroikaFillOpacity.value=d??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let x=this.clipRect;if(x&&Array.isArray(x)&&x.length===4)r.uTroikaClipRect.value.fromArray(x);else{const _=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-_,l[1]-_,l[2]+_,l[3]+_)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=t?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const a=e.hasOwnProperty("color")?e.color:e.color=new He;(s!==a._input||typeof s=="object")&&a.set(a._input=s)}let o=this.orientation||KS;if(o!==e._orientation){let a=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==KS&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,c,u,f,d]=l;hy.set(0,0,0)[u]=c==="-"?1:-1,JS.set(0,0,0)[d]=f==="-"?-1:1,rI.lookAt(qee,hy.cross(JS),JS),a.setFromMatrix4(rI)}else a.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let t=e.match(/^(-?[\d.]+)%$/),r=t?parseFloat(t[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new De){t.copy(e);const r=this.curveRadius;return r&&(t.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),t}worldPositionToTextCoords(e,t=new De){return hy.copy(e),this.localPositionToTextCoords(this.worldToLocal(hy),t)}raycast(e,t){const{textRenderInfo:r,curveRadius:i}=this;if(r){const s=r.blockBounds,o=i?l5():a5(),a=o.geometry,{position:l,uv:c}=a.attributes;for(let u=0;u<c.count;u++){let f=s[0]+c.getX(u)*(s[2]-s[0]);const d=s[1]+c.getY(u)*(s[3]-s[1]);let p=0;i&&(p=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(u,f,d,p)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,Np.length=0,o.raycast(e,Np);for(let u=0;u<Np.length;u++)Np[u].object=this,t.push(Np[u])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,nte.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};c5.forEach(n=>{const e="_private_"+n;Object.defineProperty(u5.prototype,n,{get(){return this[e]},set(t){t!==this[e]&&(this[e]=t,this._needsSync=!0)}})});const sI=B.forwardRef(({sdfGlyphSize:n=64,anchorX:e="center",anchorY:t="middle",font:r,fontSize:i=1,children:s,characters:o,onSync:a,...l},c)=>{const u=Pc(({invalidate:g})=>g),[f]=B.useState(()=>new u5),[d,p]=B.useMemo(()=>{const g=[];let v="";return B.Children.forEach(s,y=>{typeof y=="string"||typeof y=="number"?v+=y:g.push(y)}),[g,v]},[s]);return a2(()=>new Promise(g=>Uee({font:r,characters:o},g)),["troika-text",r,o]),B.useLayoutEffect(()=>void f.sync(()=>{u(),a&&a(f)})),B.useEffect(()=>()=>f.dispose(),[f]),B.createElement("primitive",Qt({object:f,ref:c,font:r,text:p,anchorX:e,anchorY:t,fontSize:i,sdfGlyphSize:n},l),d)});function rte(n,e,t,r){const i=class extends bo{constructor(o={}){const a=Object.entries(n);super({uniforms:a.reduce((l,[c,u])=>{const f=j_.clone({[c]:{value:u}});return{...l,...f}},{}),vertexShader:e,fragmentShader:t}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:c=>this.uniforms[l].value=c})),Object.assign(this,o),r&&r(this)}};return i.key=Bi.generateUUID(),i}const oI=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function r0(n,e){const t=Pc(i=>i.gl),r=Po(Ih,oI(n)?Object.values(n):n);if(B.useLayoutEffect(()=>{e==null||e(r)},[e]),B.useEffect(()=>{(Array.isArray(r)?r:[r]).forEach(t.initTexture)},[t,r]),oI(n)){const i=Object.keys(n),s={};return i.forEach(o=>Object.assign(s,{[o]:r[i.indexOf(o)]})),s}else return r}r0.preload=n=>Po.preload(Ih,n);r0.clear=n=>Po.clear(Ih,n);const ite=rte({color:new He("white"),scale:[1,1],imageBounds:[1,1],map:null,zoom:1,grayscale:0,opacity:1},`
  varying vec2 vUv;
  void main() {
    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
    vUv = uv;
  }
`,`
  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44
  varying vec2 vUv;
  uniform vec2 scale;
  uniform vec2 imageBounds;
  uniform vec3 color;
  uniform sampler2D map;
  uniform float zoom;
  uniform float grayscale;
  uniform float opacity;
  const vec3 luma = vec3(.299, 0.587, 0.114);
  vec4 toGrayscale(vec4 color, float intensity) {
    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);
  }
  vec2 aspect(vec2 size) {
    return size / min(size.x, size.y);
  }
  void main() {
    vec2 s = aspect(scale);
    vec2 i = aspect(imageBounds);
    float rs = s.x / s.y;
    float ri = i.x / i.y;
    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);
    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;
    vec2 uv = vUv * s / new + offset;
    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);
    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, opacity), grayscale);
    
    #include <tonemapping_fragment>
    #include <encodings_fragment>
  }
`),f5=B.forwardRef(({children:n,color:e,segments:t=1,scale:r=1,zoom:i=1,grayscale:s=0,opacity:o=1,texture:a,toneMapped:l,transparent:c,...u},f)=>{mU({ImageMaterial:ite});const d=Array.isArray(r)?[r[0],r[1]]:[r,r],p=[a.image.width,a.image.height];return B.createElement("mesh",Qt({ref:f,scale:Array.isArray(r)?[...r,1]:r},u),B.createElement("planeGeometry",{args:[1,1,t,t]}),B.createElement("imageMaterial",{color:e,map:a,zoom:i,grayscale:s,opacity:o,scale:d,imageBounds:p,toneMapped:l,transparent:c}),n)}),ste=B.forwardRef(({url:n,...e},t)=>{const r=r0(n);return B.createElement(f5,Qt({},e,{texture:r,ref:t}))}),ote=B.forwardRef(({url:n,...e},t)=>B.createElement(f5,Qt({},e,{ref:t}))),ate=B.forwardRef((n,e)=>{if(n.url)return B.createElement(ste,Qt({},n,{ref:e}));if(n.texture)return B.createElement(ote,Qt({},n,{ref:e}));throw new Error("<Image /> requires a url or texture")});let py=null;function d5(n,e,t){return r=>{t&&t(r),n&&(py||(py=new lee),py.setDecoderPath(typeof n=="string"?n:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),r.setDRACOLoader(py)),e&&r.setMeshoptDecoder(typeof jS=="function"?jS():jS)}}function Lh(n,e=!0,t=!0,r){return Po(d2,n,d5(e,t,r))}Lh.preload=(n,e=!0,t=!0,r)=>Po.preload(d2,n,d5(e,t,r));Lh.clear=n=>Po.clear(d2,n);function lte(n,e){const{unsuspend:t,start:r,crossOrigin:i,muted:s,loop:o,...a}={unsuspend:"loadedmetadata",crossOrigin:"Anonymous",muted:!0,loop:!0,start:!0,playsInline:!0,...e},l=Pc(u=>u.gl),c=a2(()=>new Promise((u,f)=>{const d=Object.assign(document.createElement("video"),{src:typeof n=="string"&&n||void 0,srcObject:n instanceof MediaStream&&n||void 0,crossOrigin:i,loop:o,muted:s,...a}),p=new LN(d);"colorSpace"in p?p.colorSpace=l.outputColorSpace:p.encoding=l.outputEncoding,d.addEventListener(t,()=>u(p))}),[n]);return B.useEffect(()=>void(r&&c.image.play()),[c,r]),c}function sc(n){return Po(h2,n)}sc.preload=n=>Po.preload(h2,n);sc.clear=n=>Po.clear(h2,n);function cte(n,e){const t=B.useRef(),[r]=B.useState(()=>e?e instanceof It?{current:e}:e:t),[i]=B.useState(()=>new lU(void 0));B.useLayoutEffect(()=>void(i._root=r.current),[i,e]);const s=B.useRef({}),[o]=B.useState(()=>{const a={};return n.forEach(l=>Object.defineProperty(a,l.name,{enumerable:!0,get(){if(r.current)return s.current[l.name]||(s.current[l.name]=i.clipAction(l,r.current))},configurable:!0})),{ref:r,clips:n,actions:a,names:n.map(l=>l.name),mixer:i}});return gs((a,l)=>i.update(l)),B.useEffect(()=>{const a=r.current;return()=>{s.current={},Object.values(o.actions).forEach(l=>{a&&i.uncacheAction(l,a)})}},[n]),B.useEffect(()=>()=>{i.stopAllAction()},[i]),o}var ute=`#define GLSLIFY 1
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;class fte extends Eo{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.radius=this._radius,e.uniforms.distort=this._distort,e.vertexShader=`
      uniform float time;
      uniform float radius;
      uniform float distort;
      ${ute}
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`
        float updateTime = time / 50.0;
        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));
        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));
        `)}get time(){return this._time.value}set time(e){this._time.value=e}get distort(){return this._distort.value}set distort(e){this._distort.value=e}get radius(){return this._radius.value}set radius(e){this._radius.value=e}}const aI=B.forwardRef(({speed:n=1,...e},t)=>{const[r]=B.useState(()=>new fte);return gs(i=>r&&(r.time=i.clock.getElapsedTime()*n)),B.createElement("primitive",Qt({object:r,ref:t,attach:"material"},e))});class dte extends pc{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._factor={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.factor=this._factor,e.vertexShader=`
      uniform float time;
      uniform float factor;
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`float theta = sin( time + position.y ) / 2.0 * factor;
        float c = cos( theta );
        float s = sin( theta );
        mat3 m = mat3( c, 0, s, 0, 1, 0, -s, 0, c );
        vec3 transformed = vec3( position ) * m;
        vNormal = vNormal * m;`)}get time(){return this._time.value}set time(e){this._time.value=e}get factor(){return this._factor.value}set factor(e){this._factor.value=e}}const hte=B.forwardRef(({speed:n=1,...e},t)=>{const[r]=B.useState(()=>new dte);return gs(i=>r&&(r.time=i.clock.getElapsedTime()*n)),B.createElement("primitive",Qt({object:r,ref:t,attach:"material"},e))});function pte(n,e){const t=n+"Geometry";return B.forwardRef(({args:r,children:i,...s},o)=>{const a=B.useRef(null);return B.useImperativeHandle(o,()=>a.current),B.useLayoutEffect(()=>void(e==null?void 0:e(a.current))),B.createElement("mesh",Qt({ref:a},s),B.createElement(t,{attach:"geometry",args:r}),i)})}const mte=pte("sphere"),YS=B.forwardRef(({children:n,enabled:e=!0,speed:t=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:s=[-.1,.1],...o},a)=>{const l=B.useRef(null),c=B.useRef(Math.random()*1e4);return gs(u=>{var f,d;if(!e||t===0)return;const p=c.current+u.clock.getElapsedTime();l.current.rotation.x=Math.cos(p/4*t)/8*r,l.current.rotation.y=Math.sin(p/4*t)/8*r,l.current.rotation.z=Math.sin(p/4*t)/20*r;let g=Math.sin(p/4*t)/10;g=Bi.mapLinear(g,-.1,.1,(f=s==null?void 0:s[0])!==null&&f!==void 0?f:-.1,(d=s==null?void 0:s[1])!==null&&d!==void 0?d:.1),l.current.position.y=g*i,l.current.updateMatrix()}),B.createElement("group",o,B.createElement("group",{ref:u2([l,a]),matrixAutoUpdate:!1},n))});var dt={},gte={get exports(){return dt},set exports(n){dt=n}},vte="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",yte=vte,_te=yte;function h5(){}function p5(){}p5.resetWarningCache=h5;var xte=function(){function n(r,i,s,o,a,l){if(l!==_te){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:p5,resetWarningCache:h5};return t.PropTypes=t,t};gte.exports=xte();const cg=B.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),cx=B.createContext({}),m2=B.createContext(null),ux=typeof document<"u",lI=ux?B.useLayoutEffect:B.useEffect,m5=B.createContext({strict:!1});function wte(n,e,t,r){const{visualElement:i}=B.useContext(cx),s=B.useContext(m5),o=B.useContext(m2),a=B.useContext(cg).reducedMotion,l=B.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(n,{visualState:e,parent:i,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return B.useInsertionEffect(()=>{c&&c.update(t,o)}),lI(()=>{c&&c.render()}),B.useEffect(()=>{c&&c.updateFeatures()}),(window.HandoffAppearAnimations?lI:B.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function Dd(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Ste(n,e,t){return B.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Dd(t)&&(t.current=r))},[e])}function ug(n){return typeof n=="string"||Array.isArray(n)}function fx(n){return typeof n=="object"&&typeof n.start=="function"}const g2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],v2=["initial",...g2];function dx(n){return fx(n.animate)||v2.some(e=>ug(n[e]))}function g5(n){return Boolean(dx(n)||n.variants)}function Ate(n,e){if(dx(n)){const{initial:t,animate:r}=n;return{initial:t===!1||ug(t)?t:void 0,animate:ug(r)?r:void 0}}return n.inherit!==!1?e:{}}function bte(n){const{initial:e,animate:t}=Ate(n,B.useContext(cx));return B.useMemo(()=>({initial:e,animate:t}),[cI(e),cI(t)])}function cI(n){return Array.isArray(n)?n.join(" "):n}const uI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fg={};for(const n in uI)fg[n]={isEnabled:e=>uI[n].some(t=>!!e[t])};function Mte(n){for(const e in n)fg[e]={...fg[e],...n[e]}}const v5=B.createContext({}),y5=B.createContext({}),Cte=Symbol.for("motionComponentSymbol");function _5({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){n&&Mte(n);function s(a,l){let c;const u={...B.useContext(cg),...a,layoutId:Ete(a)},{isStatic:f}=u,d=bte(a),p=r(a,f);if(!f&&ux){d.visualElement=wte(i,p,u,e);const g=B.useContext(y5),v=B.useContext(m5).strict;d.visualElement&&(c=d.visualElement.loadFeatures(u,v,n,g))}return B.createElement(cx.Provider,{value:d},c&&d.visualElement?B.createElement(c,{visualElement:d.visualElement,...u}):null,t(i,a,Ste(p,d.visualElement,l),p,f,d.visualElement))}const o=B.forwardRef(s);return o[Cte]=i,o}function Ete({layoutId:n}){const e=B.useContext(v5).id;return e&&n!==void 0?e+"-"+n:n}function Tte(n){function e(r,i={}){return _5(n(r,i))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,i)=>(t.has(i)||t.set(i,e(i)),t.get(i))})}const Pte=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function y2(n){return typeof n!="string"||n.includes("-")?!1:!!(Pte.indexOf(n)>-1||/[A-Z]/.test(n))}const V1={};function Rte(n){Object.assign(V1,n)}const i0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pf=new Set(i0);function x5(n,{layout:e,layoutId:t}){return pf.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!V1[n]||n==="opacity")}const zn=n=>Boolean(n&&n.getVelocity),Dte={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Bte=i0.length;function Ite(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,i){let s="";for(let o=0;o<Bte;o++){const a=i0[o];if(n[a]!==void 0){const l=Dte[a]||a;s+=`${l}(${n[a]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(n,r?"":s):t&&r&&(s="none"),s}const w5=n=>e=>typeof e=="string"&&e.startsWith(n),S5=w5("--"),CM=w5("var(--"),Lte=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,kte=(n,e)=>e&&typeof n=="number"?e.transform(n):n,mc=(n,e,t)=>Math.min(Math.max(t,n),e),mf={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},_m={...mf,transform:n=>mc(0,1,n)},my={...mf,default:1},xm=n=>Math.round(n*1e5)/1e5,hx=/(-)?([\d]*\.?[\d])+/g,A5=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Ote=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function s0(n){return typeof n=="string"}const o0=n=>({test:e=>s0(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Dl=o0("deg"),Yo=o0("%"),ft=o0("px"),Fte=o0("vh"),Nte=o0("vw"),fI={...Yo,parse:n=>Yo.parse(n)/100,transform:n=>Yo.transform(n*100)},dI={...mf,transform:Math.round},b5={borderWidth:ft,borderTopWidth:ft,borderRightWidth:ft,borderBottomWidth:ft,borderLeftWidth:ft,borderRadius:ft,radius:ft,borderTopLeftRadius:ft,borderTopRightRadius:ft,borderBottomRightRadius:ft,borderBottomLeftRadius:ft,width:ft,maxWidth:ft,height:ft,maxHeight:ft,size:ft,top:ft,right:ft,bottom:ft,left:ft,padding:ft,paddingTop:ft,paddingRight:ft,paddingBottom:ft,paddingLeft:ft,margin:ft,marginTop:ft,marginRight:ft,marginBottom:ft,marginLeft:ft,rotate:Dl,rotateX:Dl,rotateY:Dl,rotateZ:Dl,scale:my,scaleX:my,scaleY:my,scaleZ:my,skew:Dl,skewX:Dl,skewY:Dl,distance:ft,translateX:ft,translateY:ft,translateZ:ft,x:ft,y:ft,z:ft,perspective:ft,transformPerspective:ft,opacity:_m,originX:fI,originY:fI,originZ:ft,zIndex:dI,fillOpacity:_m,strokeOpacity:_m,numOctaves:dI};function _2(n,e,t,r){const{style:i,vars:s,transform:o,transformOrigin:a}=n;let l=!1,c=!1,u=!0;for(const f in e){const d=e[f];if(S5(f)){s[f]=d;continue}const p=b5[f],g=kte(d,p);if(pf.has(f)){if(l=!0,o[f]=g,!u)continue;d!==(p.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,a[f]=g):i[f]=g}if(e.transform||(l||r?i.transform=Ite(n.transform,t,u,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:d="50%",originZ:p=0}=a;i.transformOrigin=`${f} ${d} ${p}`}}const x2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function M5(n,e,t){for(const r in e)!zn(e[r])&&!x5(r,t)&&(n[r]=e[r])}function Ute({transformTemplate:n},e,t){return B.useMemo(()=>{const r=x2();return _2(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function zte(n,e,t){const r=n.style||{},i={};return M5(i,r,n),Object.assign(i,Ute(n,e,t)),n.transformValues?n.transformValues(i):i}function Gte(n,e,t){const r={},i=zte(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const Hte=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function W1(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||Hte.has(n)}let C5=n=>!W1(n);function E5(n){n&&(C5=e=>e.startsWith("on")?!W1(e):n(e))}try{E5(require("@emotion/is-prop-valid").default)}catch{}function T5(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(C5(i)||t===!0&&W1(i)||!e&&!W1(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function hI(n,e,t){return typeof n=="string"?n:ft.transform(e+t*n)}function Vte(n,e,t){const r=hI(e,n.x,n.width),i=hI(t,n.y,n.height);return`${r} ${i}`}const Wte={offset:"stroke-dashoffset",array:"stroke-dasharray"},jte={offset:"strokeDashoffset",array:"strokeDasharray"};function $te(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?Wte:jte;n[s.offset]=ft.transform(-r);const o=ft.transform(e),a=ft.transform(t);n[s.array]=`${o} ${a}`}function w2(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,f,d){if(_2(n,c,u,d),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:g,dimensions:v}=n;p.transform&&(v&&(g.transform=p.transform),delete p.transform),v&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=Vte(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),r!==void 0&&(p.scale=r),o!==void 0&&$te(p,o,a,l,!1)}const P5=()=>({...x2(),attrs:{}}),S2=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Xte(n,e,t,r){const i=B.useMemo(()=>{const s=P5();return w2(s,e,{enableHardwareAcceleration:!1},S2(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};M5(s,n.style,n),i.style={...s,...i.style}}return i}function Jte(n=!1){return(t,r,i,{latestValues:s},o)=>{const l=(y2(t)?Xte:Gte)(r,s,o,t),u={...T5(r,typeof t=="string",n),...l,ref:i},{children:f}=r,d=B.useMemo(()=>zn(f)?f.get():f,[f]);return B.createElement(t,{...u,children:d})}}const A2=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function R5(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const D5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function B5(n,e,t,r){R5(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(D5.has(i)?i:A2(i),e.attrs[i])}function b2(n,e){const{style:t}=n,r={};for(const i in t)(zn(t[i])||e.style&&zn(e.style[i])||x5(i,n))&&(r[i]=t[i]);return r}function I5(n,e){const t=b2(n,e);for(const r in n)if(zn(n[r])||zn(e[r])){const i=i0.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[i]=n[r]}return t}function M2(n,e,t,r={},i={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,i)),e}function C2(n){const e=B.useRef(null);return e.current===null&&(e.current=n()),e.current}const j1=n=>Array.isArray(n),Kte=n=>Boolean(n&&typeof n=="object"&&n.mix&&n.toValue),Yte=n=>j1(n)?n[n.length-1]||0:n;function wm(n){const e=zn(n)?n.get():n;return Kte(e)?e.toValue():e}function Qte({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,i,s){const o={latestValues:Zte(r,i,s,n),renderState:e()};return t&&(o.mount=a=>t(r,a,o)),o}const E2=n=>(e,t)=>{const r=B.useContext(cx),i=B.useContext(m2),s=()=>Qte(n,e,r,i);return t?s():C2(s)};function Zte(n,e,t,r){const i={},s=r(n,{});for(const d in s)i[d]=wm(s[d]);let{initial:o,animate:a}=n;const l=dx(n),c=g5(n);e&&c&&!l&&n.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=t?t.initial===!1:!1;u=u||o===!1;const f=u?a:o;return f&&typeof f!="boolean"&&!fx(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const g=M2(n,p);if(!g)return;const{transitionEnd:v,transition:y,...x}=g;for(const _ in x){let w=x[_];if(Array.isArray(w)){const A=u?w.length-1:0;w=w[A]}w!==null&&(i[_]=w)}for(const _ in v)i[_]=v[_]}),i}const qte={useVisualState:E2({scrapeMotionValuesFromProps:I5,createRenderState:P5,onMount:(n,e,{renderState:t,latestValues:r})=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}w2(t,r,{enableHardwareAcceleration:!1},S2(e.tagName),n.transformTemplate),B5(e,t)}})},ene={useVisualState:E2({scrapeMotionValuesFromProps:b2,createRenderState:x2})};function tne(n,{forwardMotionProps:e=!1},t,r){return{...y2(n)?qte:ene,preloadedFeatures:t,useRender:Jte(e),createVisualElement:r,Component:n}}function La(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const L5=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function px(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const k5=n=>e=>L5(e)&&n(e,px(e));function xo(n,e,t,r){return La(n,e,k5(t),r)}const nne=(n,e)=>t=>e(n(t)),Fa=(...n)=>n.reduce(nne);function O5(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const pI=O5("dragHorizontal"),mI=O5("dragVertical");function F5(n){let e=!1;if(n==="y")e=mI();else if(n==="x")e=pI();else{const t=pI(),r=mI();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function T2(){const n=F5(!0);return n?(n(),!1):!0}class Rc{constructor(e){this.isMounted=!1,this.node=e}update(){}}const Nn=n=>n;function rne(n){let e=[],t=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const f=u&&i,d=f?e:t;return c&&o.add(l),d.indexOf(l)===-1&&(d.push(l),f&&i&&(r=e.length)),l},cancel:l=>{const c=t.indexOf(l);c!==-1&&t.splice(c,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.length=0,r=e.length,r)for(let c=0;c<r;c++){const u=e[c];u(l),o.has(u)&&(a.schedule(u),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const gy=["prepare","read","update","preRender","render","postRender"],ine=40;function sne(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=gy.reduce((f,d)=>(f[d]=rne(()=>t=!0),f),{}),o=f=>s[f].process(i),a=f=>{t=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,ine),1),i.timestamp=f,i.isProcessing=!0,gy.forEach(o),i.isProcessing=!1,t&&e&&(r=!1,n(a))},l=()=>{t=!0,r=!0,i.isProcessing||n(a)};return{schedule:gy.reduce((f,d)=>{const p=s[d];return f[d]=(g,v=!1,y=!1)=>(t||l(),p.schedule(g,v,y)),f},{}),cancel:f=>gy.forEach(d=>s[d].cancel(f)),state:i,steps:s}}const{schedule:wn,cancel:ta,state:Kr,steps:QS}=sne(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nn,!0);function gI(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||T2())return;const a=n.getProps();n.animationState&&a.whileHover&&n.animationState.setActive("whileHover",e),a[r]&&wn.update(()=>a[r](s,o))};return xo(n.current,t,i,{passive:!n.getProps()[r]})}class one extends Rc{mount(){this.unmount=Fa(gI(this.node,!0),gI(this.node,!1))}unmount(){}}class ane extends Rc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fa(La(this.node.current,"focus",()=>this.onFocus()),La(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const N5=(n,e)=>e?n===e?!0:N5(n,e.parentElement):!1;function ZS(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,px(t))}class lne extends Rc{constructor(){super(...arguments),this.removeStartListeners=Nn,this.removeEndListeners=Nn,this.removeAccessibleListeners=Nn,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=xo(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();wn.update(()=>{N5(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=xo(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Fa(s,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||ZS("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&wn.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=La(this.node.current,"keyup",o),ZS("down",(a,l)=>{this.startPress(a,l)})},t=La(this.node.current,"keydown",e),r=()=>{this.isPressing&&ZS("cancel",(s,o)=>this.cancelPress(s,o))},i=La(this.node.current,"blur",r);this.removeAccessibleListeners=Fa(t,i)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&wn.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!T2()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&wn.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=xo(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=La(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Fa(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const EM=new WeakMap,qS=new WeakMap,cne=n=>{const e=EM.get(n.target);e&&e(n)},une=n=>{n.forEach(cne)};function fne({root:n,...e}){const t=n||document;qS.has(t)||qS.set(t,{});const r=qS.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(une,{root:n,...e})),r[i]}function dne(n,e,t){const r=fne(e);return EM.set(n,t),r.observe(n),()=>{EM.delete(n),r.unobserve(n)}}const hne={some:0,all:1};class pne extends Rc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,o={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:hne[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),d=c?u:f;d&&d(l)};return dne(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(mne(e,t))&&this.startObserver()}unmount(){}}function mne({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const gne={inView:{Feature:pne},tap:{Feature:lne},focus:{Feature:ane},hover:{Feature:one}};function U5(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function vne(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function yne(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function mx(n,e,t){const r=n.getProps();return M2(r,e,t!==void 0?t:r.custom,vne(n),yne(n))}const _ne="framerAppearId",xne="data-"+A2(_ne);let wne=Nn,gx=Nn;const Na=n=>n*1e3,Qo=n=>n/1e3,Sne={current:!1},z5=n=>Array.isArray(n)&&typeof n[0]=="number";function G5(n){return Boolean(!n||typeof n=="string"&&H5[n]||z5(n)||Array.isArray(n)&&n.every(G5))}const Qp=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,H5={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qp([0,.65,.55,1]),circOut:Qp([.55,0,1,.45]),backIn:Qp([.31,.01,.66,-.59]),backOut:Qp([.33,1.53,.69,.99])};function V5(n){if(n)return z5(n)?Qp(n):Array.isArray(n)?n.map(V5):H5[n]}function Ane(n,e,t,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:t};l&&(c.offset=l);const u=V5(a);return Array.isArray(u)&&(c.easing=u),n.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function bne(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const W5=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Mne=1e-7,Cne=12;function Ene(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=W5(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>Mne&&++a<Cne);return o}function a0(n,e,t,r){if(n===e&&t===r)return Nn;const i=s=>Ene(s,0,1,n,t);return s=>s===0||s===1?s:W5(i(s),e,r)}const Tne=a0(.42,0,1,1),Pne=a0(0,0,.58,1),j5=a0(.42,0,.58,1),$5=n=>Array.isArray(n)&&typeof n[0]!="number",X5=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,J5=n=>e=>1-n(1-e),K5=n=>1-Math.sin(Math.acos(n)),P2=J5(K5),Rne=X5(P2),Y5=a0(.33,1.53,.69,.99),R2=J5(Y5),Dne=X5(R2),Bne=n=>(n*=2)<1?.5*R2(n):.5*(2-Math.pow(2,-10*(n-1))),Ine={linear:Nn,easeIn:Tne,easeInOut:j5,easeOut:Pne,circIn:K5,circInOut:Rne,circOut:P2,backIn:R2,backInOut:Dne,backOut:Y5,anticipate:Bne},vI=n=>{if(Array.isArray(n)){gx(n.length===4);const[e,t,r,i]=n;return a0(e,t,r,i)}else if(typeof n=="string")return Ine[n];return n},D2=(n,e)=>t=>Boolean(s0(t)&&Ote.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),Q5=(n,e,t)=>r=>{if(!s0(r))return r;const[i,s,o,a]=r.match(hx);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Lne=n=>mc(0,255,n),eA={...mf,transform:n=>Math.round(Lne(n))},bu={test:D2("rgb","red"),parse:Q5("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+eA.transform(n)+", "+eA.transform(e)+", "+eA.transform(t)+", "+xm(_m.transform(r))+")"};function kne(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const TM={test:D2("#"),parse:kne,transform:bu.transform},Bd={test:D2("hsl","hue"),parse:Q5("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Yo.transform(xm(e))+", "+Yo.transform(xm(t))+", "+xm(_m.transform(r))+")"},mi={test:n=>bu.test(n)||TM.test(n)||Bd.test(n),parse:n=>bu.test(n)?bu.parse(n):Bd.test(n)?Bd.parse(n):TM.parse(n),transform:n=>s0(n)?n:n.hasOwnProperty("red")?bu.transform(n):Bd.transform(n)},xn=(n,e,t)=>-t*n+t*e+n;function tA(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function One({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=tA(l,a,n+1/3),s=tA(l,a,n),o=tA(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const nA=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},Fne=[TM,bu,Bd],Nne=n=>Fne.find(e=>e.test(n));function yI(n){const e=Nne(n);let t=e.parse(n);return e===Bd&&(t=One(t)),t}const Z5=(n,e)=>{const t=yI(n),r=yI(e),i={...t};return s=>(i.red=nA(t.red,r.red,s),i.green=nA(t.green,r.green,s),i.blue=nA(t.blue,r.blue,s),i.alpha=xn(t.alpha,r.alpha,s),bu.transform(i))};function Une(n){var e,t;return isNaN(n)&&s0(n)&&(((e=n.match(hx))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(A5))===null||t===void 0?void 0:t.length)||0)>0}const q5={regex:Lte,countKey:"Vars",token:"${v}",parse:Nn},ez={regex:A5,countKey:"Colors",token:"${c}",parse:mi.parse},tz={regex:hx,countKey:"Numbers",token:"${n}",parse:mf.parse};function rA(n,{regex:e,countKey:t,token:r,parse:i}){const s=n.tokenised.match(e);s&&(n["num"+t]=s.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...s.map(i)))}function $1(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&rA(t,q5),rA(t,ez),rA(t,tz),t}function nz(n){return $1(n).values}function rz(n){const{values:e,numColors:t,numVars:r,tokenised:i}=$1(n),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(q5.token,o[l]):l<r+t?a=a.replace(ez.token,mi.transform(o[l])):a=a.replace(tz.token,xm(o[l]));return a}}const zne=n=>typeof n=="number"?0:n;function Gne(n){const e=nz(n);return rz(n)(e.map(zne))}const gc={test:Une,parse:nz,createTransformer:rz,getAnimatableNone:Gne},iz=(n,e)=>t=>`${t>0?e:n}`;function sz(n,e){return typeof n=="number"?t=>xn(n,e,t):mi.test(n)?Z5(n,e):n.startsWith("var(")?iz(n,e):az(n,e)}const oz=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>sz(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},Hne=(n,e)=>{const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=sz(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}},az=(n,e)=>{const t=gc.createTransformer(e),r=$1(n),i=$1(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Fa(oz(r.values,i.values),t):iz(n,e)},hh=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},_I=(n,e)=>t=>xn(n,e,t);function Vne(n){return typeof n=="number"?_I:typeof n=="string"?mi.test(n)?Z5:az:Array.isArray(n)?oz:typeof n=="object"?Hne:_I}function Wne(n,e,t){const r=[],i=t||Vne(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]||Nn:e;a=Fa(l,a)}r.push(a)}return r}function lz(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(gx(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=Wne(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<n.length-2&&!(c<n[u+1]);u++);const f=hh(n[u],n[u+1],c);return o[u](f)};return t?c=>l(mc(n[0],n[s-1],c)):l}function cz(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=hh(0,e,r);n.push(xn(t,1,i))}}function uz(n){const e=[0];return cz(e,n.length-1),e}function jne(n,e){return n.map(t=>t*e)}function $ne(n,e){return n.map(()=>e||j5).splice(0,n.length-1)}function X1({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=$5(r)?r.map(vI):vI(r),s={done:!1,value:e[0]},o=jne(t&&t.length===e.length?t:uz(e),n),a=lz(o,e,{ease:Array.isArray(i)?i:$ne(e,i)});return{calculatedDuration:n,next:l=>(s.value=a(l),s.done=l>=n,s)}}function fz(n,e){return e?n*(1e3/e):0}const Xne=5;function dz(n,e,t){const r=Math.max(e-Xne,0);return fz(t-n(r),e-r)}const iA=.001,Jne=.01,xI=10,Kne=.05,Yne=1;function Qne({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s;wne(n<=Na(xI));let o=1-e;o=mc(Kne,Yne,o),n=mc(Jne,xI,Qo(n)),o<1?(i=c=>{const u=c*o,f=u*n,d=u-t,p=PM(c,o),g=Math.exp(-f);return iA-d/p*g},s=c=>{const f=c*o*n,d=f*t+t,p=Math.pow(o,2)*Math.pow(c,2)*n,g=Math.exp(-f),v=PM(Math.pow(c,2),o);return(-i(c)+iA>0?-1:1)*((d-p)*g)/v}):(i=c=>{const u=Math.exp(-c*n),f=(c-t)*n+1;return-iA+u*f},s=c=>{const u=Math.exp(-c*n),f=(t-c)*(n*n);return u*f});const a=5/n,l=qne(i,s,a);if(n=Na(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:n}}}const Zne=12;function qne(n,e,t){let r=t;for(let i=1;i<Zne;i++)r=r-n(r)/e(r);return r}function PM(n,e){return n*Math.sqrt(1-e*e)}const ere=["duration","bounce"],tre=["stiffness","damping","mass"];function wI(n,e){return e.some(t=>n[t]!==void 0)}function nre(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!wI(n,tre)&&wI(n,ere)){const t=Qne(n);e={...e,...t,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function B2({keyframes:n,restDelta:e,restSpeed:t,...r}){const i=n[0],s=n[n.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,velocity:u,duration:f,isResolvedFromDuration:d}=nre(r),p=u?-Qo(u):0,g=l/(2*Math.sqrt(a*c)),v=s-i,y=Qo(Math.sqrt(a/c)),x=Math.abs(v)<5;t||(t=x?.01:2),e||(e=x?.005:.5);let _;if(g<1){const w=PM(y,g);_=A=>{const M=Math.exp(-g*y*A);return s-M*((p+g*y*v)/w*Math.sin(w*A)+v*Math.cos(w*A))}}else if(g===1)_=w=>s-Math.exp(-y*w)*(v+(p+y*v)*w);else{const w=y*Math.sqrt(g*g-1);_=A=>{const M=Math.exp(-g*y*A),E=Math.min(w*A,300);return s-M*((p+g*y*v)*Math.sinh(E)+w*v*Math.cosh(E))/w}}return{calculatedDuration:d&&f||null,next:w=>{const A=_(w);if(d)o.done=w>=f;else{let M=p;w!==0&&(g<1?M=dz(_,w,A):M=0);const E=Math.abs(M)<=t,R=Math.abs(s-A)<=e;o.done=E&&R}return o.value=o.done?s:A,o}}}function SI({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=n[0],d={done:!1,value:f},p=C=>a!==void 0&&C<a||l!==void 0&&C>l,g=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let v=t*e;const y=f+v,x=o===void 0?y:o(y);x!==y&&(v=x-f);const _=C=>-v*Math.exp(-C/r),w=C=>x+_(C),A=C=>{const T=_(C),D=w(C);d.done=Math.abs(T)<=c,d.value=d.done?x:D};let M,E;const R=C=>{p(d.value)&&(M=C,E=B2({keyframes:[d.value,g(d.value)],velocity:dz(w,C,d.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return R(0),{calculatedDuration:null,next:C=>{let T=!1;return!E&&M===void 0&&(T=!0,A(C),R(C)),M!==void 0&&C>M?E.next(C-M):(!T&&A(C),d)}}}const rre=n=>{const e=({timestamp:t})=>n(t);return{start:()=>wn.update(e,!0),stop:()=>ta(e),now:()=>Kr.isProcessing?Kr.timestamp:performance.now()}},RM=2e4;function DM(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<RM;)e+=t,r=n.next(e);return e>=RM?1/0:e}const ire={decay:SI,inertia:SI,tween:X1,keyframes:X1,spring:B2};function J1({autoplay:n=!0,delay:e=0,driver:t=rre,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...d}){let p=1,g=!1,v,y;const x=()=>{y=new Promise(G=>{v=G})};x();let _;const w=ire[i]||X1;let A;w!==X1&&typeof r[0]!="number"&&(A=lz([0,100],r,{clamp:!1}),r=[0,100]);const M=w({...d,keyframes:r});let E;a==="mirror"&&(E=w({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let R="idle",C=null,T=null,D=null;M.calculatedDuration===null&&s&&(M.calculatedDuration=DM(M));const{calculatedDuration:L}=M;let F=1/0,N=1/0;L!==null&&(F=L+o,N=F*(s+1)-o);let k=0;const H=G=>{if(T===null)return;p>0&&(T=Math.min(T,G)),p<0&&(T=Math.min(G-N/p,T)),C!==null?k=C:k=Math.round(G-T)*p;const X=k-e*(p>=0?1:-1),te=p>=0?X<0:X>N;k=Math.max(X,0),R==="finished"&&C===null&&(k=N);let re=k,se=M;if(s){const Te=k/F;let ye=Math.floor(Te),Se=Te%1;!Se&&Te>=1&&(Se=1),Se===1&&ye--,ye=Math.min(ye,s+1);const ne=Boolean(ye%2);ne&&(a==="reverse"?(Se=1-Se,o&&(Se-=o/F)):a==="mirror"&&(se=E));let le=mc(0,1,Se);k>N&&(le=a==="reverse"&&ne?1:0),re=le*F}const q=te?{done:!1,value:r[0]}:se.next(re);A&&(q.value=A(q.value));let{done:oe}=q;!te&&L!==null&&(oe=p>=0?k>=N:k<=0);const de=C===null&&(R==="finished"||R==="running"&&oe);return f&&f(q.value),de&&z(),q},W=()=>{_&&_.stop(),_=void 0},Y=()=>{R="idle",W(),v(),x(),T=D=null},z=()=>{R="finished",u&&u(),W(),v()},U=()=>{if(g)return;_||(_=t(H));const G=_.now();l&&l(),C!==null?T=G-C:(!T||R==="finished")&&(T=G),R==="finished"&&x(),D=T,C=null,R="running",_.start()};n&&U();const V={then(G,X){return y.then(G,X)},get time(){return Qo(k)},set time(G){G=Na(G),k=G,C!==null||!_||p===0?C=G:T=_.now()-G/p},get duration(){const G=M.calculatedDuration===null?DM(M):M.calculatedDuration;return Qo(G)},get speed(){return p},set speed(G){G===p||!_||(p=G,V.time=Qo(k))},get state(){return R},play:U,pause:()=>{R="paused",C=k},stop:()=>{g=!0,R!=="idle"&&(R="idle",c&&c(),Y())},cancel:()=>{D!==null&&H(D),Y()},complete:()=>{R="finished"},sample:G=>(T=0,H(G))};return V}function hz(n){let e;return()=>(e===void 0&&(e=n()),e)}const sre=hz(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ore=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),vy=10,are=2e4,lre=(n,e)=>e.type==="spring"||n==="backgroundColor"||!G5(e.ease);function cre(n,e,{onUpdate:t,onComplete:r,...i}){if(!(sre()&&ore.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const c=()=>{l=new Promise(_=>{a=_})};c();let{keyframes:u,duration:f=300,ease:d,times:p}=i;if(lre(e,i)){const _=J1({...i,repeat:0,delay:0});let w={done:!1,value:u[0]};const A=[];let M=0;for(;!w.done&&M<are;)w=_.sample(M),A.push(w.value),M+=vy;p=void 0,u=A,f=M-vy,d="linear"}const g=Ane(n.owner.current,e,u,{...i,duration:f,ease:d,times:p}),v=()=>g.cancel(),y=()=>{wn.update(v),a(),c()};return g.onfinish=()=>{n.set(bne(u,i)),r&&r(),y()},{then(_,w){return l.then(_,w)},attachTimeline(_){return g.timeline=_,g.onfinish=null,Nn},get time(){return Qo(g.currentTime||0)},set time(_){g.currentTime=Na(_)},get speed(){return g.playbackRate},set speed(_){g.playbackRate=_},get duration(){return Qo(f)},play:()=>{o||(g.play(),ta(v))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:_}=g;if(_){const w=J1({...i,autoplay:!1});n.setWithVelocity(w.sample(_-vy).value,w.sample(_).value,vy)}y()},complete:()=>g.finish(),cancel:y}}function ure({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const i=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Nn,pause:Nn,stop:Nn,then:s=>(s(),Promise.resolve()),cancel:Nn,complete:Nn});return e?J1({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const fre={type:"spring",stiffness:500,damping:25,restSpeed:10},dre=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),hre={type:"keyframes",duration:.8},pre={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mre=(n,{keyframes:e})=>e.length>2?hre:pf.has(n)?n.startsWith("scale")?dre(e[1]):fre:pre,BM=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(gc.test(e)||e==="0")&&!e.startsWith("url(")),gre=new Set(["brightness","contrast","saturate","opacity"]);function vre(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(hx)||[];if(!r)return n;const i=t.replace(r,"");let s=gre.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const yre=/([a-z-]*)\(.*?\)/g,IM={...gc,getAnimatableNone:n=>{const e=n.match(yre);return e?e.map(vre).join(" "):n}},_re={...b5,color:mi,backgroundColor:mi,outlineColor:mi,fill:mi,stroke:mi,borderColor:mi,borderTopColor:mi,borderRightColor:mi,borderBottomColor:mi,borderLeftColor:mi,filter:IM,WebkitFilter:IM},I2=n=>_re[n];function pz(n,e){let t=I2(n);return t!==IM&&(t=gc),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const mz=n=>/^0[^.\s]+$/.test(n);function xre(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||mz(n)}function wre(n,e,t,r){const i=BM(e,t);let s;Array.isArray(t)?s=[...t]:s=[null,t];const o=r.from!==void 0?r.from:n.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),xre(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=pz(e,a)}return s}function Sre({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function gz(n,e){return n[e]||n.default||n}const L2=(n,e,t,r={})=>i=>{const s=gz(r,n)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Na(o);const l=wre(e,n,t,s),c=l[0],u=l[l.length-1],f=BM(n,c),d=BM(n,u);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(Sre(s)||(p={...p,...mre(n,p)}),p.duration&&(p.duration=Na(p.duration)),p.repeatDelay&&(p.repeatDelay=Na(p.repeatDelay)),!f||!d||Sne.current||s.type===!1)return ure(p);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=cre(e,n,p);if(g)return g}return J1(p)};function K1(n){return Boolean(zn(n)&&n.add)}const Are=n=>/^\-?\d*\.?\d+$/.test(n);function k2(n,e){n.indexOf(e)===-1&&n.push(e)}function vx(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class O2{constructor(){this.subscriptions=[]}add(e){return k2(this.subscriptions,e),()=>vx(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bre=n=>!isNaN(parseFloat(n));class Mre{constructor(e,t={}){this.version="10.15.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Kr;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,wn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>wn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=bre(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new O2);const r=this.events[e].add(t);return e==="change"?()=>{r(),wn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?fz(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nf(n,e){return new Mre(n,e)}const vz=n=>e=>e.test(n),Cre={test:n=>n==="auto",parse:n=>n},yz=[mf,ft,Yo,Dl,Nte,Fte,Cre],Up=n=>yz.find(vz(n)),Ere=[...yz,mi,gc],Tre=n=>Ere.find(vz(n));function Pre(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,nf(t))}function Rre(n,e){const t=mx(n,e);let{transitionEnd:r={},transition:i={},...s}=t?n.makeTargetAnimatable(t,!1):{};s={...s,...r};for(const o in s){const a=Yte(s[o]);Pre(n,o,a)}}function _z(n,e,t){var r,i;const s=Object.keys(e).filter(a=>!n.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=t[l])!==null&&r!==void 0?r:n.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(Are(u)||mz(u))?u=parseFloat(u):!Tre(u)&&gc.test(c)&&(u=pz(l,c)),n.addValue(l,nf(u,{owner:n})),t[l]===void 0&&(t[l]=u),u!==null&&n.setBaseTarget(l,u))}}function Dre(n,e){return e?(e[n]||e.default||e).from:void 0}function Bre(n,e,t){const r={};for(const i in n){const s=Dre(i,e);if(s!==void 0)r[i]=s;else{const o=t.getValue(i);o&&(r[i]=o.get())}}return r}function Ire({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function F2(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:o,...a}=n.makeTargetAnimatable(e);const l=n.getValue("willChange");r&&(s=r);const c=[],u=i&&n.animationState&&n.animationState.getState()[i];for(const f in a){const d=n.getValue(f),p=a[f];if(!d||p===void 0||u&&Ire(u,f))continue;const g={delay:t,elapsed:0,...s};if(window.HandoffAppearAnimations&&!d.hasAnimated){const y=n.getProps()[xne];y&&(g.elapsed=window.HandoffAppearAnimations(y,f,d,wn))}d.start(L2(f,d,p,n.shouldReduceMotion&&pf.has(f)?{type:!1}:g));const v=d.animation;K1(l)&&(l.add(f),v.then(()=>l.remove(f))),c.push(v)}return o&&Promise.all(c).then(()=>{o&&Rre(n,o)}),c}function LM(n,e,t={}){const r=mx(n,e,t.custom);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(F2(n,r,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return Lre(n,e,c+l,u,f,t)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(t.delay)])}function Lre(n,e,t=0,r=0,i=1,s){const o=[],a=(n.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(n.variantChildren).sort(kre).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(LM(c,e,{...s,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function kre(n,e){return n.sortNodePosition(e)}function Ore(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>LM(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=LM(n,e,t);else{const i=typeof e=="function"?mx(n,e,t.custom):e;r=Promise.all(F2(n,i,t))}return r.then(()=>n.notify("AnimationComplete",e))}const Fre=[...g2].reverse(),Nre=g2.length;function Ure(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Ore(n,t,r)))}function zre(n){let e=Ure(n);const t=Hre();let r=!0;const i=(l,c)=>{const u=mx(n,c);if(u){const{transition:f,transitionEnd:d,...p}=u;l={...l,...p,...d}}return l};function s(l){e=l(n)}function o(l,c){const u=n.getProps(),f=n.getVariantContext(!0)||{},d=[],p=new Set;let g={},v=1/0;for(let x=0;x<Nre;x++){const _=Fre[x],w=t[_],A=u[_]!==void 0?u[_]:f[_],M=ug(A),E=_===c?w.isActive:null;E===!1&&(v=x);let R=A===f[_]&&A!==u[_]&&M;if(R&&r&&n.manuallyAnimateOnMount&&(R=!1),w.protectedKeys={...g},!w.isActive&&E===null||!A&&!w.prevProp||fx(A)||typeof A=="boolean")continue;const C=Gre(w.prevProp,A);let T=C||_===c&&w.isActive&&!R&&M||x>v&&M;const D=Array.isArray(A)?A:[A];let L=D.reduce(i,{});E===!1&&(L={});const{prevResolvedValues:F={}}=w,N={...F,...L},k=H=>{T=!0,p.delete(H),w.needsAnimating[H]=!0};for(const H in N){const W=L[H],Y=F[H];g.hasOwnProperty(H)||(W!==Y?j1(W)&&j1(Y)?!U5(W,Y)||C?k(H):w.protectedKeys[H]=!0:W!==void 0?k(H):p.add(H):W!==void 0&&p.has(H)?k(H):w.protectedKeys[H]=!0)}w.prevProp=A,w.prevResolvedValues=L,w.isActive&&(g={...g,...L}),r&&n.blockInitialAnimation&&(T=!1),T&&!R&&d.push(...D.map(H=>({animation:H,options:{type:_,...l}})))}if(p.size){const x={};p.forEach(_=>{const w=n.getBaseTarget(_);w!==void 0&&(x[_]=w)}),d.push({animation:x})}let y=Boolean(d.length);return r&&u.initial===!1&&!n.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(d):Promise.resolve()}function a(l,c,u){var f;if(t[l].isActive===c)return Promise.resolve();(f=n.variantChildren)===null||f===void 0||f.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),t[l].isActive=c;const d=o(u,l);for(const p in t)t[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>t}}function Gre(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!U5(e,n):!1}function ru(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hre(){return{animate:ru(!0),whileInView:ru(),whileHover:ru(),whileTap:ru(),whileDrag:ru(),whileFocus:ru(),exit:ru()}}class Vre extends Rc{constructor(e){super(e),e.animationState||(e.animationState=zre(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),fx(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let Wre=0;class jre extends Rc{constructor(){super(...arguments),this.id=Wre++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const xz={animation:{Feature:Vre},exit:{Feature:jre}},AI=(n,e)=>Math.abs(n-e);function $re(n,e){const t=AI(n.x,e.x),r=AI(n.y,e.y);return Math.sqrt(t**2+r**2)}class wz{constructor(e,t,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=oA(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,f=$re(c.offset,{x:0,y:0})>=3;if(!u&&!f)return;const{point:d}=c,{timestamp:p}=Kr;this.history.push({...d,timestamp:p});const{onStart:g,onMove:v}=this.handlers;u||(g&&g(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=sA(u,this.transformPagePoint),wn.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:d}=this.handlers,p=oA(c.type==="pointercancel"?this.lastMoveEventInfo:sA(u,this.transformPagePoint),this.history);this.startEvent&&f&&f(c,p),d&&d(c,p)},!L5(e))return;this.handlers=t,this.transformPagePoint=r;const i=px(e),s=sA(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=Kr;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,oA(s,this.history)),this.removeListeners=Fa(xo(window,"pointermove",this.handlePointerMove),xo(window,"pointerup",this.handlePointerUp),xo(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ta(this.updatePoint)}}function sA(n,e){return e?{point:e(n.point)}:n}function bI(n,e){return{x:n.x-e.x,y:n.y-e.y}}function oA({point:n},e){return{point:n,delta:bI(n,Sz(e)),offset:bI(n,Xre(e)),velocity:Jre(e,.1)}}function Xre(n){return n[0]}function Sz(n){return n[n.length-1]}function Jre(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=Sz(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Na(e)));)t--;if(!r)return{x:0,y:0};const s=Qo(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ds(n){return n.max-n.min}function kM(n,e=0,t=.01){return Math.abs(n-e)<=t}function MI(n,e,t,r=.5){n.origin=r,n.originPoint=xn(e.min,e.max,n.origin),n.scale=ds(t)/ds(e),(kM(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=xn(t.min,t.max,n.origin)-n.originPoint,(kM(n.translate)||isNaN(n.translate))&&(n.translate=0)}function Sm(n,e,t,r){MI(n.x,e.x,t.x,r?r.originX:void 0),MI(n.y,e.y,t.y,r?r.originY:void 0)}function CI(n,e,t){n.min=t.min+e.min,n.max=n.min+ds(e)}function Kre(n,e,t){CI(n.x,e.x,t.x),CI(n.y,e.y,t.y)}function EI(n,e,t){n.min=e.min-t.min,n.max=n.min+ds(e)}function Am(n,e,t){EI(n.x,e.x,t.x),EI(n.y,e.y,t.y)}function Yre(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?xn(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?xn(t,n,r.max):Math.min(n,t)),n}function TI(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Qre(n,{top:e,left:t,bottom:r,right:i}){return{x:TI(n.x,t,i),y:TI(n.y,e,r)}}function PI(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function Zre(n,e){return{x:PI(n.x,e.x),y:PI(n.y,e.y)}}function qre(n,e){let t=.5;const r=ds(n),i=ds(e);return i>r?t=hh(e.min,e.max-r,n.min):r>i&&(t=hh(n.min,n.max-i,e.min)),mc(0,1,t)}function eie(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const OM=.35;function tie(n=OM){return n===!1?n=0:n===!0&&(n=OM),{x:RI(n,"left","right"),y:RI(n,"top","bottom")}}function RI(n,e,t){return{min:DI(n,e),max:DI(n,t)}}function DI(n,e){return typeof n=="number"?n:n[e]||0}const BI=()=>({translate:0,scale:1,origin:0,originPoint:0}),Id=()=>({x:BI(),y:BI()}),II=()=>({min:0,max:0}),Xn=()=>({x:II(),y:II()});function Ho(n){return[n("x"),n("y")]}function Az({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function nie({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function rie(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function aA(n){return n===void 0||n===1}function FM({scale:n,scaleX:e,scaleY:t}){return!aA(n)||!aA(e)||!aA(t)}function cu(n){return FM(n)||bz(n)||n.z||n.rotate||n.rotateX||n.rotateY}function bz(n){return LI(n.x)||LI(n.y)}function LI(n){return n&&n!=="0%"}function Y1(n,e,t){const r=n-t,i=e*r;return t+i}function kI(n,e,t,r,i){return i!==void 0&&(n=Y1(n,i,r)),Y1(n,t,r)+e}function NM(n,e=0,t=1,r,i){n.min=kI(n.min,e,t,r,i),n.max=kI(n.max,e,t,r,i)}function Mz(n,{x:e,y:t}){NM(n.x,e.translate,e.scale,e.originPoint),NM(n.y,t.translate,t.scale,t.originPoint)}function iie(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=t[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ld(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Mz(n,o)),r&&cu(s.latestValues)&&Ld(n,s.latestValues))}e.x=OI(e.x),e.y=OI(e.y)}function OI(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function Fl(n,e){n.min=n.min+e,n.max=n.max+e}function FI(n,e,[t,r,i]){const s=e[i]!==void 0?e[i]:.5,o=xn(n.min,n.max,s);NM(n,e[t],e[r],o,e.scale)}const sie=["x","scaleX","originX"],oie=["y","scaleY","originY"];function Ld(n,e){FI(n.x,e,sie),FI(n.y,e,oie)}function Cz(n,e){return Az(rie(n.getBoundingClientRect(),e))}function aie(n,e,t){const r=Cz(n,t),{scroll:i}=e;return i&&(Fl(r.x,i.offset.x),Fl(r.y,i.offset.y)),r}const lie=new WeakMap;class cie{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xn(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),t&&this.snapToCursor(px(l,"page").point)},s=(l,c)=>{const{drag:u,dragPropagation:f,onDragStart:d}=this.getProps();if(u&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=F5(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ho(g=>{let v=this.getAxisMotionValue(g).get()||0;if(Yo.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[g];x&&(v=ds(x)*(parseFloat(v)/100))}}this.originPoint[g]=v}),d&&wn.update(()=>d(l,c),!1,!0);const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:u,dragDirectionLock:f,onDirectionLock:d,onDrag:p}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:g}=c;if(f&&this.currentDirection===null){this.currentDirection=uie(g),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",c.point,g),this.updateAxis("y",c.point,g),this.visualElement.render(),p&&p(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new wz(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&wn.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!yy(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Yre(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&Dd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Qre(r.layoutBox,e):this.constraints=!1,this.elastic=tie(t),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ho(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=eie(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Dd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=aie(r,i.root,this.visualElement.getTransformPagePoint());let o=Zre(i.layout.layoutBox,s);if(t){const a=t(nie(o));this.hasMutatedConstraints=!!a,a&&(o=Az(a))}return o}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Ho(u=>{if(!yy(u,t,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const d=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(L2(e,r,0,t))}stopAnimation(){Ho(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ho(t=>{const{drag:r}=this.getProps();if(!yy(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[t];s.set(e[t]-xn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Dd(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ho(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=qre({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ho(o=>{if(!yy(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(xn(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;lie.set(this.visualElement,this);const e=this.visualElement.current,t=xo(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Dd(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=La(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ho(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),t(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=OM,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function yy(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function uie(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class fie extends Rc{constructor(e){super(e),this.removeGroupControls=Nn,this.removeListeners=Nn,this.controls=new cie(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nn}unmount(){this.removeGroupControls(),this.removeListeners()}}const NI=n=>(e,t)=>{n&&wn.update(()=>n(e,t))};class die extends Rc{constructor(){super(...arguments),this.removePointerDownListener=Nn}onPointerDown(e){this.session=new wz(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:NI(e),onStart:NI(t),onMove:r,onEnd:(s,o)=>{delete this.session,i&&wn.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=xo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function hie(){const n=B.useContext(m2);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,i=B.useId();return B.useEffect(()=>r(i),[]),!e&&t?[!1,()=>t&&t(i)]:[!0]}const n1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function UI(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const zp={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ft.test(n))n=parseFloat(n);else return n;const t=UI(n,e.target.x),r=UI(n,e.target.y);return`${t}% ${r}%`}},pie={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=gc.parse(n);if(i.length>5)return r;const s=gc.createTransformer(n),o=typeof i[0]!="number"?1:0,a=t.x.scale*e.x,l=t.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=xn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class mie extends Q.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Rte(gie),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),n1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==t||t===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||wn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ez(n){const[e,t]=hie(),r=B.useContext(v5);return Q.createElement(mie,{...n,layoutGroup:r,switchLayoutGroup:B.useContext(y5),isPresent:e,safeToRemove:t})}const gie={borderRadius:{...zp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zp,borderTopRightRadius:zp,borderBottomLeftRadius:zp,borderBottomRightRadius:zp,boxShadow:pie},Tz=["TopLeft","TopRight","BottomLeft","BottomRight"],vie=Tz.length,zI=n=>typeof n=="string"?parseFloat(n):n,GI=n=>typeof n=="number"||ft.test(n);function yie(n,e,t,r,i,s){i?(n.opacity=xn(0,t.opacity!==void 0?t.opacity:1,_ie(r)),n.opacityExit=xn(e.opacity!==void 0?e.opacity:1,0,xie(r))):s&&(n.opacity=xn(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let o=0;o<vie;o++){const a=`border${Tz[o]}Radius`;let l=HI(e,a),c=HI(t,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||GI(l)===GI(c)?(n[a]=Math.max(xn(zI(l),zI(c),r),0),(Yo.test(c)||Yo.test(l))&&(n[a]+="%")):n[a]=c}(e.rotate||t.rotate)&&(n.rotate=xn(e.rotate||0,t.rotate||0,r))}function HI(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const _ie=Pz(0,.5,P2),xie=Pz(.5,.95,Nn);function Pz(n,e,t){return r=>r<n?0:r>e?1:t(hh(n,e,r))}function VI(n,e){n.min=e.min,n.max=e.max}function Rs(n,e){VI(n.x,e.x),VI(n.y,e.y)}function WI(n,e,t,r,i){return n-=e,n=Y1(n,1/t,r),i!==void 0&&(n=Y1(n,1/i,r)),n}function wie(n,e=0,t=1,r=.5,i,s=n,o=n){if(Yo.test(e)&&(e=parseFloat(e),e=xn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=xn(s.min,s.max,r);n===s&&(a-=e),n.min=WI(n.min,e,t,a,i),n.max=WI(n.max,e,t,a,i)}function jI(n,e,[t,r,i],s,o){wie(n,e[t],e[r],e[i],e.scale,s,o)}const Sie=["x","scaleX","originX"],Aie=["y","scaleY","originY"];function $I(n,e,t,r){jI(n.x,e,Sie,t?t.x:void 0,r?r.x:void 0),jI(n.y,e,Aie,t?t.y:void 0,r?r.y:void 0)}function XI(n){return n.translate===0&&n.scale===1}function Rz(n){return XI(n.x)&&XI(n.y)}function bie(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function Dz(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function JI(n){return ds(n.x)/ds(n.y)}class Mie{constructor(){this.members=[]}add(e){k2(this.members,e),e.scheduleRender()}remove(e){if(vx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function KI(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:l,rotateX:c,rotateY:u}=t;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=n.x.scale*e.x,a=n.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const Cie=(n,e)=>n.depth-e.depth;class Eie{constructor(){this.children=[],this.isDirty=!1}add(e){k2(this.children,e),this.isDirty=!0}remove(e){vx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Cie),this.isDirty=!1,this.children.forEach(e)}}function Tie(n,e){const t=performance.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(ta(r),n(s-e))};return wn.read(r,!0),()=>ta(r)}function Pie(n){window.MotionDebug&&window.MotionDebug.record(n)}function Bz(n){return n instanceof SVGElement&&n.tagName!=="svg"}function N2(n,e,t){const r=zn(n)?n:nf(n);return r.start(L2("",r,e,t)),r.animation}const YI=["","X","Y","Z"],QI=1e3;let Rie=0;const uu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Iz({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Rie++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{uu.totalNodes=uu.resolvedTargetDeltas=uu.recalculatedProjection=0,this.nodes.forEach(Iie),this.nodes.forEach(Nie),this.nodes.forEach(Uie),this.nodes.forEach(Lie),Pie(uu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Eie)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new O2),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Bz(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),n){let f;const d=()=>this.root.updateBlockedByResize=!1;n(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Tie(d,250),n1.hasAnimatedSinceResize&&(n1.hasAnimatedSinceResize=!1,this.nodes.forEach(qI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||Wie,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=u.getProps(),_=!this.targetLayout||!Dz(this.targetLayout,g)||p,w=!d&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||d&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const A={...gz(v,"layout"),onPlay:y,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else d||qI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ta(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(zie),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZI);return}this.isUpdating||this.nodes.forEach(Oie),this.isUpdating=!1,this.nodes.forEach(Fie),this.nodes.forEach(Die),this.nodes.forEach(Bie),this.clearAllSnapshots();const a=performance.now();Kr.delta=mc(0,1e3/60,a-Kr.timestamp),Kr.timestamp=a,Kr.isProcessing=!0,QS.update.process(Kr),QS.preRender.process(Kr),QS.render.process(Kr),Kr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(kie),this.sharedNodes.forEach(Gie)}scheduleUpdateProjection(){wn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){wn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Rz(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||cu(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),jie(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Xn();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Fl(a.x,l.offset.x),Fl(a.y,l.offset.y)),a}removeElementScroll(o){const a=Xn();Rs(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){Rs(a,o);const{scroll:d}=this.root;d&&(Fl(a.x,-d.offset.x),Fl(a.y,-d.offset.y))}Fl(a.x,u.offset.x),Fl(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=Xn();Rs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ld(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),cu(u.latestValues)&&Ld(l,u.latestValues)}return cu(this.latestValues)&&Ld(l,this.latestValues),l}removeTransform(o){const a=Xn();Rs(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!cu(c.latestValues))continue;FM(c.latestValues)&&c.updateSnapshot();const u=Xn(),f=c.measurePageBox();Rs(u,f),$I(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return cu(this.latestValues)&&$I(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=Boolean(this.resumingFrom)||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=Kr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xn(),this.relativeTargetOrigin=Xn(),Am(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Rs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Xn(),this.targetWithTransforms=Xn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Kre(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Rs(this.target,this.layout.layoutBox),Mz(this.target,this.targetDelta)):Rs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&Boolean(p.resumingFrom)===Boolean(this.resumingFrom)&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xn(),this.relativeTargetOrigin=Xn(),Am(this.relativeTargetOrigin,this.target,p.target),Rs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}uu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||FM(this.parent.latestValues)||bz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=Boolean(this.resumingFrom)||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Kr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Rs(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;iie(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=Id(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Id(),this.projectionDeltaWithTransform=Id());const v=this.projectionTransform;Sm(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=KI(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==d||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),uu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=Id();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=Xn(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=p!==g,y=this.getStack(),x=!y||y.members.length<=1,_=Boolean(v&&!x&&this.options.crossfade===!0&&!this.path.some(Vie));this.animationProgress=0;let w;this.mixTargetDelta=A=>{const M=A/1e3;eL(f.x,o.x,M),eL(f.y,o.y,M),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Am(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Hie(this.relativeTarget,this.relativeTargetOrigin,d,M),w&&bie(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Xn()),Rs(w,this.relativeTarget)),v&&(this.animationValues=u,yie(u,c,this.latestValues,M,_,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ta(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wn.update(()=>{n1.hasAnimatedSinceResize=!0,this.currentAnimation=N2(0,QI,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(QI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Lz(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Xn();const f=ds(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const d=ds(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Rs(a,l),Ld(a,u),Sm(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Mie),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<YI.length;u++){const f="rotate"+YI[u];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=wm(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=wm(o.pointerEvents)||""),this.hasProjected&&!cu(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=KI(this.projectionDeltaWithTransform,this.treeScale,d),u&&(c.transform=u(d,c.transform));const{x:p,y:g}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in V1){if(d[v]===void 0)continue;const{correct:y,applyTo:x}=V1[v],_=c.transform==="none"?d[v]:y(d[v],f);if(x){const w=x.length;for(let A=0;A<w;A++)c[x[A]]=_}else c[v]=_}return this.options.layoutId&&(c.pointerEvents=f===this?wm(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(ZI),this.root.sharedNodes.clear()}}}function Die(n){n.updateLayout()}function Bie(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,o=t.source!==n.layout.source;s==="size"?Ho(f=>{const d=o?t.measuredBox[f]:t.layoutBox[f],p=ds(d);d.min=r[f].min,d.max=d.min+p}):Lz(s,t.layoutBox,r)&&Ho(f=>{const d=o?t.measuredBox[f]:t.layoutBox[f],p=ds(r[f]);d.max=d.min+p,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+p)});const a=Id();Sm(a,r,t.layoutBox);const l=Id();o?Sm(l,n.applyTransform(i,!0),t.measuredBox):Sm(l,r,t.layoutBox);const c=!Rz(a);let u=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:p}=f;if(d&&p){const g=Xn();Am(g,t.layoutBox,d.layoutBox);const v=Xn();Am(v,r,p.layoutBox),Dz(g,v)||(u=!0),f.options.layoutRoot&&(n.relativeTarget=v,n.relativeTargetOrigin=g,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function Iie(n){uu.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=Boolean(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Lie(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function kie(n){n.clearSnapshot()}function ZI(n){n.clearMeasurements()}function Oie(n){n.isLayoutDirty=!1}function Fie(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function qI(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Nie(n){n.resolveTargetDelta()}function Uie(n){n.calcProjection()}function zie(n){n.resetRotation()}function Gie(n){n.removeLeadSnapshot()}function eL(n,e,t){n.translate=xn(e.translate,0,t),n.scale=xn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function tL(n,e,t,r){n.min=xn(e.min,t.min,r),n.max=xn(e.max,t.max,r)}function Hie(n,e,t,r){tL(n.x,e.x,t.x,r),tL(n.y,e.y,t.y,r)}function Vie(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Wie={duration:.45,ease:[.4,0,.1,1]},nL=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),rL=nL("applewebkit/")&&!nL("chrome/")?Math.round:Nn;function iL(n){n.min=rL(n.min),n.max=rL(n.max)}function jie(n){iL(n.x),iL(n.y)}function Lz(n,e,t){return n==="position"||n==="preserve-aspect"&&!kM(JI(e),JI(t),.2)}const $ie=Iz({attachResizeListener:(n,e)=>La(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lA={current:void 0},kz=Iz({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!lA.current){const n=new $ie({});n.mount(window),n.setOptions({layoutScroll:!0}),lA.current=n}return lA.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>Boolean(window.getComputedStyle(n).position==="fixed")}),Xie={pan:{Feature:die},drag:{Feature:fie,ProjectionNode:kz,MeasureLayout:Ez}},Jie=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Kie(n){const e=Jie.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function UM(n,e,t=1){const[r,i]=Kie(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():CM(i)?UM(i,e,t+1):i}function Yie(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(i=>{const s=i.get();if(!CM(s))return;const o=UM(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!CM(s))continue;const o=UM(s,r);o&&(e[i]=o,t||(t={}),t[i]===void 0&&(t[i]=s))}return{target:e,transitionEnd:t}}const Qie=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Oz=n=>Qie.has(n),Zie=n=>Object.keys(n).some(Oz),sL=n=>n===mf||n===ft,oL=(n,e)=>parseFloat(n.split(", ")[e]),aL=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return oL(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?oL(s[1],n):0}},qie=new Set(["x","y","z"]),ese=i0.filter(n=>!qie.has(n));function tse(n){const e=[];return ese.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const ph={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:aL(4,13),y:aL(5,14)};ph.translateX=ph.x;ph.translateY=ph.y;const nse=(n,e,t)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(c=>{a[c]=ph[c](r,s)}),e.render();const l=e.measureViewportBox();return t.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),n[c]=ph[c](l,s)}),n},rse=(n,e,t={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(Oz);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=n.getValue(l);if(!n.hasValue(l))return;let u=t[l],f=Up(u);const d=e[l];let p;if(j1(d)){const g=d.length,v=d[0]===null?1:0;u=d[v],f=Up(u);for(let y=v;y<g&&d[y]!==null;y++)p?gx(Up(d[y])===p):p=Up(d[y])}else p=Up(d);if(f!==p)if(sL(f)&&sL(p)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&p===ft&&(e[l]=d.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(u===0||d===0)?u===0?c.set(p.transform(u)):e[l]=f.transform(d):(o||(s=tse(n),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=nse(e,n,a);return s.length&&s.forEach(([u,f])=>{n.getValue(u).set(f)}),n.render(),ux&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function ise(n,e,t,r){return Zie(e)?rse(n,e,t,r):{target:e,transitionEnd:r}}const sse=(n,e,t,r)=>{const i=Yie(n,e,r);return e=i.target,r=i.transitionEnd,ise(n,e,t,r)},zM={current:null},Fz={current:!1};function ose(){if(Fz.current=!0,!!ux)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>zM.current=n.matches;n.addListener(e),e()}else zM.current=!1}function ase(n,e,t){const{willChange:r}=e;for(const i in e){const s=e[i],o=t[i];if(zn(s))n.addValue(i,s),K1(r)&&r.add(i);else if(zn(o))n.addValue(i,nf(s,{owner:n})),K1(r)&&r.remove(i);else if(o!==s)if(n.hasValue(i)){const a=n.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,nf(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const dg=new WeakMap,Nz=Object.keys(fg),lse=Nz.length,lL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],cse=v2.length;class Uz{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>wn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=dx(t),this.isVariantNode=g5(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{});for(const f in u){const d=u[f];a[f]!==void 0&&zn(d)&&(d.set(a[f],!1),K1(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,dg.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),Fz.current||ose(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zM.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){dg.delete(this.current),this.projection&&this.projection.unmount(),ta(this.notifyUpdate),ta(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=pf.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&wn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,i,s){let o,a;for(let l=0;l<lse;l++){const c=Nz[l],{isEnabled:u,Feature:f,ProjectionNode:d,MeasureLayout:p}=fg[c];d&&(o=d),u(t)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),p&&(a=p))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:d,layoutRoot:p}=t;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:Boolean(u)||f&&Dd(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:d,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<lL.length;r++){const i=lL[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=ase(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<cse;r++){const i=v2[r],s=this.props[i];(ug(s)||s===!1)&&(t[i]=s)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=nf(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(t=M2(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!zn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new O2),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class zz extends Uz{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:i},s){let o=Bre(r,e||{},this);if(i&&(t&&(t=i(t)),r&&(r=i(r)),o&&(o=i(o))),s){_z(this,r,o);const a=sse(this,r,o,t);t=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:t,...r}}}function use(n){return window.getComputedStyle(n)}class Gz extends zz{readValueFromInstance(e,t){if(pf.has(t)){const r=I2(t);return r&&r.default||0}else{const r=use(e),i=(S5(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Cz(e,t)}build(e,t,r,i){_2(e,t,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,t){return b2(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,i){R5(e,t,r,i)}}class Hz extends zz{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(pf.has(t)){const r=I2(t);return r&&r.default||0}return t=D5.has(t)?t:A2(t),e.getAttribute(t)}measureInstanceViewportBox(){return Xn()}scrapeMotionValuesFromProps(e,t){return I5(e,t)}build(e,t,r,i){w2(e,t,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,r,i){B5(e,t,r,i)}mount(e){this.isSVGTag=S2(e.tagName),super.mount(e)}}const fse=(n,e)=>y2(n)?new Hz(e,{enableHardwareAcceleration:!1}):new Gz(e,{enableHardwareAcceleration:!0}),dse={layout:{ProjectionNode:kz,MeasureLayout:Ez}},hse={...xz,...gne,...Xie,...dse},Xd=Tte((n,e)=>tne(n,e,hse,fse));function pse({children:n,isValidProp:e,...t}){e&&E5(e),t={...B.useContext(cg),...t},t.isStatic=C2(()=>t.isStatic);const r=B.useMemo(()=>t,[JSON.stringify(t.transition),t.transformPagePoint,t.reducedMotion]);return B.createElement(cg.Provider,{value:r},n)}function hg(n){const e=C2(()=>nf(n)),{isStatic:t}=B.useContext(cg);if(t){const[,r]=B.useState(n);B.useEffect(()=>e.on("change",r),[])}return e}function Vz(n,e,t){var r;if(typeof n=="string"){let i=document;e&&(gx(Boolean(e.current)),i=e.current),t?((r=t[n])!==null&&r!==void 0||(t[n]=i.querySelectorAll(n)),n=t[n]):n=i.querySelectorAll(n)}else n instanceof Element&&(n=[n]);return Array.from(n||[])}function mse(n,e){let t;const r=()=>{const{currentTime:i}=e,o=(i===null?0:i.value)/100;t!==o&&n(o),t=o};return wn.update(r,!0),()=>ta(r)}const gse=hz(()=>window.ScrollTimeline!==void 0);class Wz{constructor(e){this.animations=e.filter(Boolean)}then(e,t){return Promise.all(this.animations).then(e).catch(t)}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e){const t=this.animations.map(r=>{if(gse()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),mse(i=>{r.time=r.duration*i},e)});return()=>{t.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function vse(n){return typeof n=="object"&&!Array.isArray(n)}function yse(n){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},t=Bz(n)?new Hz(e,{enableHardwareAcceleration:!1}):new Gz(e,{enableHardwareAcceleration:!0});t.mount(n),dg.set(n,t)}function _se(n,e=100){const t=B2({keyframes:[0,e],...n}),r=Math.min(DM(t),RM);return{type:"keyframes",ease:i=>t.next(r*i).value/e,duration:Qo(r)}}function cL(n,e,t,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,n+parseFloat(e)):e==="<"?t:(i=r.get(e))!==null&&i!==void 0?i:n}const xse=(n,e,t)=>{const r=e-n;return((t-n)%r+r)%r+n};function wse(n,e){return $5(n)?n[xse(0,n.length,e)]:n}function Sse(n,e,t){for(let r=0;r<n.length;r++){const i=n[r];i.at>e&&i.at<t&&(vx(n,i),r--)}}function Ase(n,e,t,r,i,s){Sse(n,i,s);for(let o=0;o<e.length;o++)n.push({value:e[o],at:xn(i,s,r[o]),easing:wse(t,o)})}function bse(n,e){return n.at===e.at?n.value===null?1:e.value===null?-1:0:n.at-e.at}const Mse="easeInOut";function Cse(n,{defaultTransition:e={},...t}={},r){const i=e.duration||.3,s=new Map,o=new Map,a={},l=new Map;let c=0,u=0,f=0;for(let d=0;d<n.length;d++){const p=n[d];if(typeof p=="string"){l.set(p,u);continue}else if(!Array.isArray(p)){l.set(p.name,cL(u,p.at,c,l));continue}let[g,v,y={}]=p;y.at!==void 0&&(u=cL(u,y.at,c,l));let x=0;const _=(w,A,M,E=0,R=0)=>{const C=Ese(w),{delay:T=0,times:D=uz(C),type:L="keyframes",...F}=A;let{ease:N=e.ease||"easeOut",duration:k}=A;const H=typeof T=="function"?T(E,R):T,W=C.length;if(W<=2&&L==="spring"){let V=100;if(W===2&&Rse(C)){const te=C[1]-C[0];V=Math.abs(te)}const G={...F};k!==void 0&&(G.duration=Na(k));const X=_se(G,V);N=X.ease,k=X.duration}k??(k=i);const Y=u+H,z=Y+k;D.length===1&&D[0]===0&&(D[1]=1);const U=D.length-C.length;U>0&&cz(D,U),C.length===1&&C.unshift(null),Ase(M,C,N,D,Y,z),x=Math.max(H+k,x),f=Math.max(z,f)};if(zn(g)){const w=uL(g,o);_(v,y,fL("default",w))}else{const w=Vz(g,r,a),A=w.length;for(let M=0;M<A;M++){v=v,y=y;const E=w[M],R=uL(E,o);for(const C in v)_(v[C],Tse(y,C),fL(C,R),M,A)}c=u,u+=x}}return o.forEach((d,p)=>{for(const g in d){const v=d[g];v.sort(bse);const y=[],x=[],_=[];for(let A=0;A<v.length;A++){const{at:M,value:E,easing:R}=v[A];y.push(E),x.push(hh(0,f,M)),_.push(R||"easeOut")}x[0]!==0&&(x.unshift(0),y.unshift(y[0]),_.unshift(Mse)),x[x.length-1]!==1&&(x.push(1),y.push(null)),s.has(p)||s.set(p,{keyframes:{},transition:{}});const w=s.get(p);w.keyframes[g]=y,w.transition[g]={...e,duration:f,ease:_,times:x,...t}}}),s}function uL(n,e){return!e.has(n)&&e.set(n,{}),e.get(n)}function fL(n,e){return e[n]||(e[n]=[]),e[n]}function Ese(n){return Array.isArray(n)?n:[n]}function Tse(n,e){return n[e]?{...n,...n[e]}:{...n}}const Pse=n=>typeof n=="number",Rse=n=>n.every(Pse);function jz(n,e,t,r){const i=Vz(n,r),s=i.length,o=[];for(let a=0;a<s;a++){const l=i[a];dg.has(l)||yse(l);const c=dg.get(l),u={...t};typeof u.delay=="function"&&(u.delay=u.delay(a,s)),o.push(...F2(c,{...e,transition:u},{}))}return new Wz(o)}const Dse=n=>Array.isArray(n)&&Array.isArray(n[0]);function Bse(n,e,t){const r=[];return Cse(n,e,t).forEach(({keyframes:s,transition:o},a)=>{let l;zn(a)?l=N2(a,s.default,o.default):l=jz(a,s,o),r.push(l)}),new Wz(r)}const Ise=n=>{function e(t,r,i){let s;return Dse(t)?s=Bse(t,r,n):vse(r)?s=jz(t,r,i,n):s=N2(t,r,i),n&&n.animations.push(s),s}return e},pg=Ise();function Lse(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function $z(...n){return e=>n.forEach(t=>Lse(t,e))}function kh(...n){return B.useCallback($z(...n),n)}const Xz=B.forwardRef((n,e)=>{const{children:t,...r}=n,i=B.Children.toArray(t),s=i.find(kse);if(s){const o=s.props.children,a=i.map(l=>l===s?B.Children.count(o)>1?B.Children.only(null):B.isValidElement(o)?o.props.children:null:l);return B.createElement(GM,Qt({},r,{ref:e}),B.isValidElement(o)?B.cloneElement(o,void 0,a):null)}return B.createElement(GM,Qt({},r,{ref:e}),t)});Xz.displayName="Slot";const GM=B.forwardRef((n,e)=>{const{children:t,...r}=n;return B.isValidElement(t)?B.cloneElement(t,{...Ose(r,t.props),ref:e?$z(e,t.ref):t.ref}):B.Children.count(t)>1?B.Children.only(null):null});GM.displayName="SlotClone";const Jz=({children:n})=>B.createElement(B.Fragment,null,n);function kse(n){return B.isValidElement(n)&&n.type===Jz}function Ose(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{s(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}const Fse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],gf=Fse.reduce((n,e)=>{const t=B.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Xz:e;return B.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),B.createElement(a,Qt({},o,{ref:i}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function Nse(n,e){n&&Hu.flushSync(()=>n.dispatchEvent(e))}const Use=B.forwardRef((n,e)=>{var t;const{container:r=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...i}=n;return r?_4.createPortal(B.createElement(gf.div,Qt({},i,{ref:e})),r):null}),zse=Use;var dL=Object.prototype.hasOwnProperty;function mg(n,e){var t,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&mg(n[r],e[r]););return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(dL.call(n,t)&&++r&&!dL.call(e,t)||!(t in e)||!mg(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}var yx=function(e,t,r,i){this.name=e,this.fn=t,this.args=r,this.modifiers=i};yx.prototype._test=function(e){var t=this.fn;try{Jd(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return Jd(this.modifiers.slice(),t,this)(e)}catch{return!1}};yx.prototype._check=function(e){try{Jd(this.modifiers.slice(),this.fn,this)(e)}catch{if(Jd(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!Jd(this.modifiers.slice(),this.fn,this)(e))throw null};yx.prototype._testAsync=function(e){var t=this;return new Promise(function(r,i){Yz(t.modifiers.slice(),t.fn,t)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function Kz(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function Jd(n,e,t){if(n.length){var r=n.shift(),i=Jd(n,e,t);return r.perform(i,t)}else return Kz(e)}function Yz(n,e,t){if(n.length){var r=n.shift(),i=Yz(n,e,t);return r.performAsync(i,t)}else return function(s){return Promise.resolve(Kz(e,"async")(s))}}var Gse=function(e,t,r){this.name=e,this.perform=t,this.performAsync=r},U2=function(n){function e(t,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=r,this.cause=i,this.target=s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),na=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};na.prototype._applyRule=function(e,t){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new yx(t,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};na.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new Gse(t,e.simple,e.async)),this};na.prototype._clone=function(){return new na(this.chain.slice(),this.nextRuleModifiers.slice())};na.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};na.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){t.push(new U2(r,e,i))}}),t};na.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(r){throw new U2(t,e,r)}})};na.prototype.testAsync=function(e){var t=this;return new Promise(function(r,i){Qz(e,t.chain.slice(),r,i)})};function Qz(n,e,t,r){if(e.length){var i=e.shift();i._testAsync(n).then(function(){Qz(n,e,t,r)},function(s){r(new U2(i,n,s))})}else t(n)}var hL=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function Hse(n,e){return e===void 0&&(e=!1),{simple:function(t){return hL(t,e)||n.check(t)===void 0},async:function(t){return hL(t,e)||n.testAsync(t)}}}function Oi(){return typeof Proxy<"u"?Zz(new na):HM(new na)}var gg={};Oi.extend=function(n){Object.assign(gg,n)};Oi.clearCustomRules=function(){gg={}};function Zz(n){return new Proxy(n,{get:function(t,r){if(r in t)return t[r];var i=Zz(n._clone());if(r in Q1)return i._applyModifier(Q1[r],r);if(r in gg)return i._applyRule(gg[r],r);if(r in VM)return i._applyRule(VM[r],r)}})}function HM(n){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=HM(s._clone()),u=c._applyRule(i[o],o).apply(void 0,a);return u}}),s},t=e(VM,n),r=e(gg,t);return Object.keys(Q1).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=HM(r._clone());return s._applyModifier(Q1[i],i)}})}),r}var Q1={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return _y(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(_y(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&_y(e).every(n)}},async:function(n){return function(e){return Promise.all(_y(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return pL(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(r){return pL(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&r:r}).catch(function(){return!1})}}}};function pL(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function _y(n){return typeof n=="string"?n.split(""):n}var VM={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||Vse;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return ld("string")},boolean:function(){return ld("boolean")},undefined:function(){return ld("undefined")},null:function(){return ld("null")},array:function(){return ld("array")},object:function(){return ld("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return Wse(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(r){return r.test(t)})}},optional:Hse};function ld(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function Vse(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function Wse(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(r){var i=n[r];try{i.check((e||{})[r])}catch(s){s.target=r,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],r=Object.keys(n).map(function(i){var s=n[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,t.push(o)})});return Promise.all(r).then(function(){if(t.length>0)throw t;return!0})}}}var en="colors",di="sizes",it="space",jse={gap:it,gridGap:it,columnGap:it,gridColumnGap:it,rowGap:it,gridRowGap:it,inset:it,insetBlock:it,insetBlockEnd:it,insetBlockStart:it,insetInline:it,insetInlineEnd:it,insetInlineStart:it,margin:it,marginTop:it,marginRight:it,marginBottom:it,marginLeft:it,marginBlock:it,marginBlockEnd:it,marginBlockStart:it,marginInline:it,marginInlineEnd:it,marginInlineStart:it,padding:it,paddingTop:it,paddingRight:it,paddingBottom:it,paddingLeft:it,paddingBlock:it,paddingBlockEnd:it,paddingBlockStart:it,paddingInline:it,paddingInlineEnd:it,paddingInlineStart:it,top:it,right:it,bottom:it,left:it,scrollMargin:it,scrollMarginTop:it,scrollMarginRight:it,scrollMarginBottom:it,scrollMarginLeft:it,scrollMarginX:it,scrollMarginY:it,scrollMarginBlock:it,scrollMarginBlockEnd:it,scrollMarginBlockStart:it,scrollMarginInline:it,scrollMarginInlineEnd:it,scrollMarginInlineStart:it,scrollPadding:it,scrollPaddingTop:it,scrollPaddingRight:it,scrollPaddingBottom:it,scrollPaddingLeft:it,scrollPaddingX:it,scrollPaddingY:it,scrollPaddingBlock:it,scrollPaddingBlockEnd:it,scrollPaddingBlockStart:it,scrollPaddingInline:it,scrollPaddingInlineEnd:it,scrollPaddingInlineStart:it,fontSize:"fontSizes",background:en,backgroundColor:en,backgroundImage:en,borderImage:en,border:en,borderBlock:en,borderBlockEnd:en,borderBlockStart:en,borderBottom:en,borderBottomColor:en,borderColor:en,borderInline:en,borderInlineEnd:en,borderInlineStart:en,borderLeft:en,borderLeftColor:en,borderRight:en,borderRightColor:en,borderTop:en,borderTopColor:en,caretColor:en,color:en,columnRuleColor:en,fill:en,outline:en,outlineColor:en,stroke:en,textDecorationColor:en,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:di,minBlockSize:di,maxBlockSize:di,inlineSize:di,minInlineSize:di,maxInlineSize:di,width:di,minWidth:di,maxWidth:di,height:di,minHeight:di,maxHeight:di,flexBasis:di,gridTemplateColumns:di,gridTemplateRows:di,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},$se=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Oh=()=>{const n=Object.create(null);return(e,t,...r)=>{const i=(s=>JSON.stringify(s,$se))(e);return i in n?n[i]:n[i]=t(e,...r)}},Ou=Symbol.for("sxs.internal"),z2=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),mL=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:Xse}=Object.prototype,WM=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),Jse=/\s+(?![^()]*\))/,cd=n=>e=>n(...typeof e=="string"?String(e).split(Jse):[e]),gL={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:cd((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:cd((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:cd((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:cd((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:cd((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:cd((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},cA=/([\d.]+)([^]*)/,Kse=(n,e)=>n.length?n.reduce((t,r)=>(t.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),t),[]):e,Yse=(n,e)=>n in Qse&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${WM(n)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${WM(n)}:${r}fit-content`)+s):String(e),Qse={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Xa=n=>n?n+"-":"",qz=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?Xa(e)+(a.includes("$")?"":Xa(t))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),Zse=/\s*,\s*(?![^()]*\))/,qse=Object.prototype.toString,kd=(n,e,t,r,i)=>{let s,o,a;const l=(c,u,f)=>{let d,p;const g=v=>{for(d in v){const _=d.charCodeAt(0)===64,w=_&&Array.isArray(v[d])?v[d]:[v[d]];for(p of w){const A=/[A-Z]/.test(x=d)?x:x.replace(/-[^]/g,E=>E[1].toUpperCase()),M=typeof p=="object"&&p&&p.toString===qse&&(!r.utils[A]||!u.length);if(A in r.utils&&!M){const E=r.utils[A];if(E!==o){o=E,g(E(p)),o=null;continue}}else if(A in gL){const E=gL[A];if(E!==a){a=E,g(E(p)),a=null;continue}}if(_&&(y=d.slice(1)in r.media?"@media "+r.media[d.slice(1)]:d,d=y.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(E,R,C,T,D,L)=>{const F=cA.test(R),N=.0625*(F?-1:1),[k,H]=F?[T,R]:[R,T];return"("+(C[0]==="="?"":C[0]===">"===F?"max-":"min-")+k+":"+(C[0]!=="="&&C.length===1?H.replace(cA,(W,Y,z)=>Number(Y)+N*(C===">"?1:-1)+z):H)+(D?") and ("+(D[0]===">"?"min-":"max-")+k+":"+(D.length===1?L.replace(cA,(W,Y,z)=>Number(Y)+N*(D===">"?-1:1)+z):L):"")+")"})),M){const E=_?f.concat(d):[...f],R=_?[...u]:Kse(u,d.split(Zse));s!==void 0&&i(vL(...s)),s=void 0,l(p,R,E)}else s===void 0&&(s=[[],u,f]),d=_||d.charCodeAt(0)!==36?d:`--${Xa(r.prefix)}${d.slice(1).replace(/\$/g,"-")}`,p=M?p:typeof p=="number"?p&&A in eoe?String(p)+"px":String(p):qz(Yse(A,p??""),r.prefix,r.themeMap[A]),s[0].push(`${_?`${d} `:`${WM(d)}:`}${p}`)}}var y,x};g(c),s!==void 0&&i(vL(...s)),s=void 0};l(n,e,t)},vL=(n,e,t)=>`${t.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,eoe={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},yL=n=>String.fromCharCode(n+(n>25?39:97)),Fu=n=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=yL(t%52)+r;return yL(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(n))>>>0),Zp=["themed","global","styled","onevar","resonevar","allvar","inline"],toe=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},noe=n=>{let e;const t=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===s)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const i=Object(n).styleSheets||[];for(const a of i)if(toe(a)){for(let l=0,c=a.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const f=Object(c[l+1]);if(f.type!==4)continue;++l;const{cssText:d}=u;if(!d.startsWith("--sxs"))continue;const p=d.slice(14,-3).trim().split(/\s+/),g=Zp[p[0]];g&&(e||(e={sheet:a,reset:r,rules:{},toString:t}),e.rules[g]={group:f,index:l,cache:new Set(p)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(u,f){this.cssRules.splice(f,0,a(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:t}}const{sheet:s,rules:o}=e;for(let a=Zp.length-1;a>=0;--a){const l=Zp[a];if(!o[l]){const c=Zp[a+1],u=o[c]?o[c].index:s.cssRules.length;s.insertRule("@media{}",u),s.insertRule(`--sxs{--sxs:${a}}`,u),o[l]={group:s.cssRules[u+1],index:u,cache:new Set([a])}}roe(o[l])}};return r(),e},roe=n=>{const e=n.group;let t=e.cssRules.length;n.apply=r=>{try{e.insertRule(r,t),++t}catch{}}},Gp=Symbol(),ioe=Oh(),_L=(n,e)=>ioe(n,()=>(...t)=>{let r={type:null,composers:new Set};for(const i of t)if(i!=null)if(i[Ou]){r.type==null&&(r.type=i[Ou].type);for(const s of i[Ou].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(soe(i,n));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),ooe(n,r,e)}),soe=({variants:n,compoundVariants:e,defaultVariants:t,...r},i)=>{const s=`${Xa(i.prefix)}c-${Fu(r)}`,o=[],a=[],l=Object.create(null),c=[];for(const d in t)l[d]=String(t[d]);if(typeof n=="object"&&n)for(const d in n){u=l,f=d,Xse.call(u,f)||(l[d]="undefined");const p=n[d];for(const g in p){const v={[d]:String(g)};String(g)==="undefined"&&c.push(d);const y=p[g],x=[v,y,!mL(y)];o.push(x)}}var u,f;if(typeof e=="object"&&e)for(const d of e){let{css:p,...g}=d;p=typeof p=="object"&&p||{};for(const y in g)g[y]=String(g[y]);const v=[g,p,!mL(p)];a.push(v)}return[s,r,o,a,l,c]},ooe=(n,e,t)=>{const[r,i,s,o]=aoe(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(f=>{function d(){for(let p=0;p<d[Gp].length;p++){const[g,v]=d[Gp][p];f.rules[g].apply(v)}return d[Gp]=[],null}return d[Gp]=[],d.rules={},Zp.forEach(p=>d.rules[p]={apply:g=>d[Gp].push([p,g])}),d})(t):null,l=(a||t).rules,c=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,u=f=>{f=typeof f=="object"&&f||loe;const{css:d,...p}=f,g={};for(const x in s)if(delete p[x],x in f){let _=f[x];typeof _=="object"&&_?g[x]={"@initial":s[x],..._}:(_=String(_),g[x]=_!=="undefined"||o.has(x)?_:s[x])}else g[x]=s[x];const v=new Set([...i]);for(const[x,_,w,A]of e.composers){t.rules.styled.cache.has(x)||(t.rules.styled.cache.add(x),kd(_,[`.${x}`],[],n,R=>{l.styled.apply(R)}));const M=xL(w,g,n.media),E=xL(A,g,n.media,!0);for(const R of M)if(R!==void 0)for(const[C,T,D]of R){const L=`${x}-${Fu(T)}-${C}`;v.add(L);const F=(D?t.rules.resonevar:t.rules.onevar).cache,N=D?l.resonevar:l.onevar;F.has(L)||(F.add(L),kd(T,[`.${L}`],[],n,k=>{N.apply(k)}))}for(const R of E)if(R!==void 0)for(const[C,T]of R){const D=`${x}-${Fu(T)}-${C}`;v.add(D),t.rules.allvar.cache.has(D)||(t.rules.allvar.cache.add(D),kd(T,[`.${D}`],[],n,L=>{l.allvar.apply(L)}))}}if(typeof d=="object"&&d){const x=`${r}-i${Fu(d)}-css`;v.add(x),t.rules.inline.cache.has(x)||(t.rules.inline.cache.add(x),kd(d,[`.${x}`],[],n,_=>{l.inline.apply(_)}))}for(const x of String(f.className||"").trim().split(/\s+/))x&&v.add(x);const y=p.className=[...v].join(" ");return{type:e.type,className:y,selector:c,props:p,toString:()=>y,deferredInjector:a}};return z2(u,{className:r,selector:c,[Ou]:e,toString:()=>(t.rules.styled.cache.has(r)||u(),r)})},aoe=n=>{let e="";const t=[],r={},i=[];for(const[s,,,,o,a]of n){e===""&&(e=s),t.push(s),i.push(...a);for(const l in o){const c=o[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[e,t,r,new Set(i)]},xL=(n,e,t,r)=>{const i=[];e:for(let[s,o,a]of n){if(a)continue;let l,c=0,u=!1;for(l in s){const f=s[l];let d=e[l];if(d!==f){if(typeof d!="object"||!d)continue e;{let p,g,v=0;for(const y in d){if(f===String(d[y])){if(y!=="@initial"){const x=y.slice(1);(g=g||[]).push(x in t?t[x]:y.replace(/^@media ?/,"")),u=!0}c+=v,p=!0}++v}if(g&&g.length&&(o={["@media "+g.join(", ")]:o}),!p)continue e}}}(i[c]=i[c]||[]).push([r?"cv":`${l}-${s[l]}`,o,u])}return i},loe={},coe=Oh(),uoe=(n,e)=>coe(n,()=>(...t)=>{const r=()=>{for(let i of t){i=typeof i=="object"&&i||{};let s=Fu(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}kd(i,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return z2(r,{toString:r})}),foe=Oh(),doe=(n,e)=>foe(n,()=>t=>{const r=`${Xa(n.prefix)}k-${Fu(t)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];kd(t,[],[],n,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return z2(i,{get name(){return i()},toString:i})}),hoe=class{constructor(e,t,r,i){this.token=e==null?"":String(e),this.value=t==null?"":String(t),this.scale=r==null?"":String(r),this.prefix=i==null?"":String(i)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Xa(this.prefix)+Xa(this.scale)+this.token}toString(){return this.computedValue}},poe=Oh(),moe=(n,e)=>poe(n,()=>(t,r)=>{r=typeof t=="object"&&t||Object(r);const i=`.${t=(t=typeof t=="string"?t:"")||`${Xa(n.prefix)}t-${Fu(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const c in r[l]){const u=`--${Xa(n.prefix)}${l}-${c}`,f=qz(String(r[l][c]),n.prefix,l);s[l][c]=new hoe(c,f,l,n.prefix),o.push(`${u}:${f}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${r===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return a()},selector:i,toString:a}}),goe=Oh(),voe=Oh(),yoe=n=>{const e=(t=>{let r=!1;const i=goe(t,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,c=typeof s.theme=="object"&&s.theme||{},u={prefix:o,media:a,theme:c,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...jse},utils:typeof s.utils=="object"&&s.utils||{}},f=noe(l),d={css:_L(u,f),globalCss:uoe(u,f),keyframes:doe(u,f),createTheme:moe(u,f),reset(){f.reset(),d.theme.toString()},theme:{},sheet:f,config:u,prefix:o,getCssText:f.toString,toString:f.toString};return String(d.theme=d.createTheme(c)),d});return r||i.reset(),i})(n);return e.styled=(({config:t,sheet:r})=>voe(t,()=>{const i=_L(t,r);return(...s)=>{const o=i(...s),a=o[Ou].type,l=Q.forwardRef((c,u)=>{const f=c&&c.as||a,{props:d,deferredInjector:p}=o(c);return delete d.as,d.ref=u,p?Q.createElement(Q.Fragment,null,Q.createElement(f,d),Q.createElement(p,null)):Q.createElement(f,d)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[Ou]=o[Ou],l}}))(e),e};function Ca(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function eG(n,e=[]){let t=[];function r(s,o){const a=B.createContext(o),l=t.length;t=[...t,o];function c(f){const{scope:d,children:p,...g}=f,v=(d==null?void 0:d[n][l])||a,y=B.useMemo(()=>g,Object.values(g));return B.createElement(v.Provider,{value:y},p)}function u(f,d){const p=(d==null?void 0:d[n][l])||a,g=B.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>B.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return B.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,_oe(i,...e)]}function _oe(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return B.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Fh(n){const e=B.useRef(n);return B.useEffect(()=>{e.current=n}),B.useMemo(()=>(...t)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...t)},[])}function xoe(n,e=globalThis==null?void 0:globalThis.document){const t=Fh(n);B.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[t,e])}const jM="dismissableLayer.update",woe="dismissableLayer.pointerDownOutside",Soe="dismissableLayer.focusOutside";let wL;const Aoe=B.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),boe=B.forwardRef((n,e)=>{var t;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=n,u=B.useContext(Aoe),[f,d]=B.useState(null),p=(t=f==null?void 0:f.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,g]=B.useState({}),v=kh(e,C=>d(C)),y=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(x),w=f?y.indexOf(f):-1,A=u.layersWithOutsidePointerEventsDisabled.size>0,M=w>=_,E=Moe(C=>{const T=C.target,D=[...u.branches].some(L=>L.contains(T));!M||D||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},p),R=Coe(C=>{const T=C.target;[...u.branches].some(L=>L.contains(T))||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},p);return xoe(C=>{w===u.layers.size-1&&(i==null||i(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},p),B.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(wL=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),SL(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=wL)}},[f,p,r,u]),B.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),SL())},[f,u]),B.useEffect(()=>{const C=()=>g({});return document.addEventListener(jM,C),()=>document.removeEventListener(jM,C)},[]),B.createElement(gf.div,Qt({},c,{ref:v,style:{pointerEvents:A?M?"auto":"none":void 0,...n.style},onFocusCapture:Ca(n.onFocusCapture,R.onFocusCapture),onBlurCapture:Ca(n.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Ca(n.onPointerDownCapture,E.onPointerDownCapture)}))});function Moe(n,e=globalThis==null?void 0:globalThis.document){const t=Fh(n),r=B.useRef(!1),i=B.useRef(()=>{});return B.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let u=function(){tG(woe,t,c,{discrete:!0})};var l=u;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function Coe(n,e=globalThis==null?void 0:globalThis.document){const t=Fh(n),r=B.useRef(!1);return B.useEffect(()=>{const i=s=>{s.target&&!r.current&&tG(Soe,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function SL(){const n=new CustomEvent(jM);document.dispatchEvent(n)}function tG(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?Nse(i,s):i.dispatchEvent(s)}const mh=Boolean(globalThis==null?void 0:globalThis.document)?B.useLayoutEffect:()=>{},Eoe=D9["useId".toString()]||(()=>{});let Toe=0;function Poe(n){const[e,t]=B.useState(Eoe());return mh(()=>{n||t(r=>r??String(Toe++))},[n]),n||(e?`radix-${e}`:"")}const Roe=["top","right","bottom","left"],vc=Math.min,ns=Math.max,Z1=Math.round,xy=Math.floor,yc=n=>({x:n,y:n}),Doe={left:"right",right:"left",bottom:"top",top:"bottom"},Boe={start:"end",end:"start"};function $M(n,e,t){return ns(n,vc(e,t))}function Ja(n,e){return typeof n=="function"?n(e):n}function Ka(n){return n.split("-")[0]}function Nh(n){return n.split("-")[1]}function G2(n){return n==="x"?"y":"x"}function H2(n){return n==="y"?"height":"width"}function Uh(n){return["top","bottom"].includes(Ka(n))?"y":"x"}function V2(n){return G2(Uh(n))}function Ioe(n,e,t){t===void 0&&(t=!1);const r=Nh(n),i=V2(n),s=H2(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=q1(o)),[o,q1(o)]}function Loe(n){const e=q1(n);return[XM(n),e,XM(e)]}function XM(n){return n.replace(/start|end/g,e=>Boe[e])}function koe(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Ooe(n,e,t,r){const i=Nh(n);let s=koe(Ka(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(XM)))),s}function q1(n){return n.replace(/left|right|bottom|top/g,e=>Doe[e])}function Foe(n){return{top:0,right:0,bottom:0,left:0,...n}}function nG(n){return typeof n!="number"?Foe(n):{top:n,right:n,bottom:n,left:n}}function e_(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function AL(n,e,t){let{reference:r,floating:i}=n;const s=Uh(e),o=V2(e),a=H2(o),l=Ka(e),c=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Nh(e)){case"start":p[o]-=d*(t&&c?-1:1);break;case"end":p[o]+=d*(t&&c?-1:1);break}return p}const Noe=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:f}=AL(c,r,l),d=r,p={},g=0;for(let v=0;v<a.length;v++){const{name:y,fn:x}=a[v],{x:_,y:w,data:A,reset:M}=await x({x:u,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:n,floating:e}});if(u=_??u,f=w??f,p={...p,[y]:{...p[y],...A}},M&&g<=50){g++,typeof M=="object"&&(M.placement&&(d=M.placement),M.rects&&(c=M.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):M.rects),{x:u,y:f}=AL(c,d,l)),v=-1;continue}}return{x:u,y:f,placement:d,strategy:i,middlewareData:p}};async function vg(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=Ja(e,n),g=nG(p),y=a[d?f==="floating"?"reference":"floating":f],x=e_(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(y)))==null||t?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),_=f==="floating"?{...o.floating,x:r,y:i}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},M=e_(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:_,offsetParent:w,strategy:l}):_);return{top:(x.top-M.top+g.top)/A.y,bottom:(M.bottom-x.bottom+g.bottom)/A.y,left:(x.left-M.left+g.left)/A.x,right:(M.right-x.right+g.right)/A.x}}const bL=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a}=e,{element:l,padding:c=0}=Ja(n,e)||{};if(l==null)return{};const u=nG(c),f={x:t,y:r},d=V2(i),p=H2(d),g=await o.getDimensions(l),v=d==="y",y=v?"top":"left",x=v?"bottom":"right",_=v?"clientHeight":"clientWidth",w=s.reference[p]+s.reference[d]-f[d]-s.floating[p],A=f[d]-s.reference[d],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let E=M?M[_]:0;(!E||!await(o.isElement==null?void 0:o.isElement(M)))&&(E=a.floating[_]||s.floating[p]);const R=w/2-A/2,C=E/2-g[p]/2-1,T=vc(u[y],C),D=vc(u[x],C),L=T,F=E-g[p]-D,N=E/2-g[p]/2+R,k=$M(L,N,F),W=Nh(i)!=null&&N!=k&&s.reference[p]/2-(N<L?T:D)-g[p]/2<0?N<L?L-N:F-N:0;return{[d]:f[d]-W,data:{[d]:k,centerOffset:N-k+W}}}}),Uoe=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t;const{placement:r,middlewareData:i,rects:s,initialPlacement:o,platform:a,elements:l}=e,{mainAxis:c=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...v}=Ja(n,e),y=Ka(r),x=Ka(o)===o,_=await(a.isRTL==null?void 0:a.isRTL(l.floating)),w=f||(x||!g?[q1(o)]:Loe(o));!f&&p!=="none"&&w.push(...Ooe(o,g,p,_));const A=[o,...w],M=await vg(e,v),E=[];let R=((t=i.flip)==null?void 0:t.overflows)||[];if(c&&E.push(M[y]),u){const L=Ioe(r,s,_);E.push(M[L[0]],M[L[1]])}if(R=[...R,{placement:r,overflows:E}],!E.every(L=>L<=0)){var C,T;const L=(((C=i.flip)==null?void 0:C.index)||0)+1,F=A[L];if(F)return{data:{index:L,overflows:R},reset:{placement:F}};let N=(T=R.filter(k=>k.overflows[0]<=0).sort((k,H)=>k.overflows[1]-H.overflows[1])[0])==null?void 0:T.placement;if(!N)switch(d){case"bestFit":{var D;const k=(D=R.map(H=>[H.placement,H.overflows.filter(W=>W>0).reduce((W,Y)=>W+Y,0)]).sort((H,W)=>H[1]-W[1])[0])==null?void 0:D[0];k&&(N=k);break}case"initialPlacement":N=o;break}if(r!==N)return{reset:{placement:N}}}return{}}}};function ML(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function CL(n){return Roe.some(e=>n[e]>=0)}const zoe=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Ja(n,e);switch(r){case"referenceHidden":{const s=await vg(e,{...i,elementContext:"reference"}),o=ML(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:CL(o)}}}case"escaped":{const s=await vg(e,{...i,altBoundary:!0}),o=ML(s,t.floating);return{data:{escapedOffsets:o,escaped:CL(o)}}}default:return{}}}}};async function Goe(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ka(t),a=Nh(t),l=Uh(t)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,f=Ja(e,n);let{mainAxis:d,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*u,y:d*c}:{x:d*c,y:p*u}}const Hoe=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){const{x:t,y:r}=e,i=await Goe(e,n);return{x:t+i.x,y:r+i.y,data:i}}}},Voe=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x,y:_}=y;return{x,y:_}}},...l}=Ja(n,e),c={x:t,y:r},u=await vg(e,l),f=Uh(Ka(i)),d=G2(f);let p=c[d],g=c[f];if(s){const y=d==="y"?"top":"left",x=d==="y"?"bottom":"right",_=p+u[y],w=p-u[x];p=$M(_,p,w)}if(o){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",_=g+u[y],w=g-u[x];g=$M(_,g,w)}const v=a.fn({...e,[d]:p,[f]:g});return{...v,data:{x:v.x-t,y:v.y-r}}}}},Woe=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ja(n,e),u={x:t,y:r},f=Uh(i),d=G2(f);let p=u[d],g=u[f];const v=Ja(a,e),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const w=d==="y"?"height":"width",A=s.reference[d]-s.floating[w]+y.mainAxis,M=s.reference[d]+s.reference[w]-y.mainAxis;p<A?p=A:p>M&&(p=M)}if(c){var x,_;const w=d==="y"?"width":"height",A=["top","left"].includes(Ka(i)),M=s.reference[f]-s.floating[w]+(A&&((x=o.offset)==null?void 0:x[f])||0)+(A?0:y.crossAxis),E=s.reference[f]+s.reference[w]+(A?0:((_=o.offset)==null?void 0:_[f])||0)-(A?y.crossAxis:0);g<M?g=M:g>E&&(g=E)}return{[d]:p,[f]:g}}}},joe=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){const{placement:t,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=Ja(n,e),l=await vg(e,a),c=Ka(t),u=Nh(t),f=Uh(t)==="y",{width:d,height:p}=r.floating;let g,v;c==="top"||c==="bottom"?(g=c,v=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(v=c,g=u==="end"?"top":"bottom");const y=p-l[g],x=d-l[v],_=!e.middlewareData.shift;let w=y,A=x;if(f){const E=d-l.left-l.right;A=u||_?vc(x,E):E}else{const E=p-l.top-l.bottom;w=u||_?vc(y,E):E}if(_&&!u){const E=ns(l.left,0),R=ns(l.right,0),C=ns(l.top,0),T=ns(l.bottom,0);f?A=d-2*(E!==0||R!==0?E+R:ns(l.left,l.right)):w=p-2*(C!==0||T!==0?C+T:ns(l.top,l.bottom))}await o({...e,availableWidth:A,availableHeight:w});const M=await i.getDimensions(s.floating);return d!==M.width||p!==M.height?{reset:{rects:!0}}:{}}}};function _c(n){return rG(n)?(n.nodeName||"").toLowerCase():"#document"}function cs(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ol(n){var e;return(e=(rG(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function rG(n){return n instanceof Node||n instanceof cs(n).Node}function Ya(n){return n instanceof Element||n instanceof cs(n).Element}function ra(n){return n instanceof HTMLElement||n instanceof cs(n).HTMLElement}function EL(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof cs(n).ShadowRoot}function l0(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Zs(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function $oe(n){return["table","td","th"].includes(_c(n))}function W2(n){const e=j2(),t=Zs(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function Xoe(n){let e=gh(n);for(;ra(e)&&!_x(e);){if(W2(e))return e;e=gh(e)}return null}function j2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _x(n){return["html","body","#document"].includes(_c(n))}function Zs(n){return cs(n).getComputedStyle(n)}function xx(n){return Ya(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function gh(n){if(_c(n)==="html")return n;const e=n.assignedSlot||n.parentNode||EL(n)&&n.host||ol(n);return EL(e)?e.host:e}function iG(n){const e=gh(n);return _x(e)?n.ownerDocument?n.ownerDocument.body:n.body:ra(e)&&l0(e)?e:iG(e)}function t_(n,e){var t;e===void 0&&(e=[]);const r=iG(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=cs(r);return i?e.concat(s,s.visualViewport||[],l0(r)?r:[]):e.concat(r,t_(r))}function sG(n){const e=Zs(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ra(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=Z1(t)!==s||Z1(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function $2(n){return Ya(n)?n:n.contextElement}function Kd(n){const e=$2(n);if(!ra(e))return yc(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=sG(e);let o=(s?Z1(t.width):t.width)/r,a=(s?Z1(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Joe=yc(0);function oG(n){const e=cs(n);return!j2()||!e.visualViewport?Joe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Koe(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==cs(n)?!1:e}function rf(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=$2(n);let o=yc(1);e&&(r?Ya(r)&&(o=Kd(r)):o=Kd(n));const a=Koe(s,t,r)?oG(s):yc(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const d=cs(s),p=r&&Ya(r)?cs(r):r;let g=d.frameElement;for(;g&&r&&p!==d;){const v=Kd(g),y=g.getBoundingClientRect(),x=Zs(g),_=y.left+(g.clientLeft+parseFloat(x.paddingLeft))*v.x,w=y.top+(g.clientTop+parseFloat(x.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,f*=v.y,l+=_,c+=w,g=cs(g).frameElement}}return e_({width:u,height:f,x:l,y:c})}function Yoe(n){let{rect:e,offsetParent:t,strategy:r}=n;const i=ra(t),s=ol(t);if(t===s)return e;let o={scrollLeft:0,scrollTop:0},a=yc(1);const l=yc(0);if((i||!i&&r!=="fixed")&&((_c(t)!=="body"||l0(s))&&(o=xx(t)),ra(t))){const c=rf(t);a=Kd(t),l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+l.x,y:e.y*a.y-o.scrollTop*a.y+l.y}}function Qoe(n){return Array.from(n.getClientRects())}function aG(n){return rf(ol(n)).left+xx(n).scrollLeft}function Zoe(n){const e=ol(n),t=xx(n),r=n.ownerDocument.body,i=ns(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ns(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+aG(n);const a=-t.scrollTop;return Zs(r).direction==="rtl"&&(o+=ns(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function qoe(n,e){const t=cs(n),r=ol(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=j2();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function eae(n,e){const t=rf(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=ra(n)?Kd(n):yc(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function TL(n,e,t){let r;if(e==="viewport")r=qoe(n,t);else if(e==="document")r=Zoe(ol(n));else if(Ya(e))r=eae(e,t);else{const i=oG(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return e_(r)}function lG(n,e){const t=gh(n);return t===e||!Ya(t)||_x(t)?!1:Zs(t).position==="fixed"||lG(t,e)}function tae(n,e){const t=e.get(n);if(t)return t;let r=t_(n).filter(a=>Ya(a)&&_c(a)!=="body"),i=null;const s=Zs(n).position==="fixed";let o=s?gh(n):n;for(;Ya(o)&&!_x(o);){const a=Zs(o),l=W2(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||l0(o)&&!l&&lG(n,o))?r=r.filter(u=>u!==o):i=a,o=gh(o)}return e.set(n,r),r}function nae(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?tae(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const f=TL(e,u,i);return c.top=ns(f.top,c.top),c.right=vc(f.right,c.right),c.bottom=vc(f.bottom,c.bottom),c.left=ns(f.left,c.left),c},TL(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function rae(n){return sG(n)}function iae(n,e,t){const r=ra(e),i=ol(e),s=t==="fixed",o=rf(n,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=yc(0);if(r||!r&&!s)if((_c(e)!=="body"||l0(i))&&(a=xx(e)),r){const c=rf(e,!0,s,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else i&&(l.x=aG(i));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function PL(n,e){return!ra(n)||Zs(n).position==="fixed"?null:e?e(n):n.offsetParent}function cG(n,e){const t=cs(n);if(!ra(n))return t;let r=PL(n,e);for(;r&&$oe(r)&&Zs(r).position==="static";)r=PL(r,e);return r&&(_c(r)==="html"||_c(r)==="body"&&Zs(r).position==="static"&&!W2(r))?t:r||Xoe(n)||t}const sae=async function(n){let{reference:e,floating:t,strategy:r}=n;const i=this.getOffsetParent||cG,s=this.getDimensions;return{reference:iae(e,await i(t),r),floating:{x:0,y:0,...await s(t)}}};function oae(n){return Zs(n).direction==="rtl"}const aae={convertOffsetParentRelativeRectToViewportRelativeRect:Yoe,getDocumentElement:ol,getClippingRect:nae,getOffsetParent:cG,getElementRects:sae,getClientRects:Qoe,getDimensions:rae,getScale:Kd,isElement:Ya,isRTL:oae};function lae(n,e){let t=null,r;const i=ol(n);function s(){clearTimeout(r),t&&t.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:f,height:d}=n.getBoundingClientRect();if(a||e(),!f||!d)return;const p=xy(u),g=xy(i.clientWidth-(c+f)),v=xy(i.clientHeight-(u+d)),y=xy(c),_={rootMargin:-p+"px "+-g+"px "+-v+"px "+-y+"px",threshold:ns(0,vc(1,l))||1};let w=!0;function A(M){const E=M[0].intersectionRatio;if(E!==l){if(!w)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},100)}w=!1}try{t=new IntersectionObserver(A,{..._,root:i.ownerDocument})}catch{t=new IntersectionObserver(A,_)}t.observe(n)}return o(!0),s}function cae(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=$2(n),u=i||s?[...c?t_(c):[],...t_(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",t,{passive:!0}),s&&x.addEventListener("resize",t)});const f=c&&a?lae(c,t):null;let d=-1,p=null;o&&(p=new ResizeObserver(x=>{let[_]=x;_&&_.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{p&&p.observe(e)})),t()}),c&&!l&&p.observe(c),p.observe(e));let g,v=l?rf(n):null;l&&y();function y(){const x=rf(n);v&&(x.x!==v.x||x.y!==v.y||x.width!==v.width||x.height!==v.height)&&t(),v=x,g=requestAnimationFrame(y)}return t(),()=>{u.forEach(x=>{i&&x.removeEventListener("scroll",t),s&&x.removeEventListener("resize",t)}),f&&f(),p&&p.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const uae=(n,e,t)=>{const r=new Map,i={platform:aae,...t},s={...i.platform,_c:r};return Noe(n,e,{...i,platform:s})},fae=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?bL({element:r.current,padding:i}).fn(t):{}:r?bL({element:r,padding:i}).fn(t):{}}}};var r1=typeof document<"u"?B.useLayoutEffect:B.useEffect;function n_(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!n_(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!n_(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function uG(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function RL(n,e){const t=uG(n);return Math.round(e*t)/t}function DL(n){const e=B.useRef(n);return r1(()=>{e.current=n}),e}function dae(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,f]=B.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[d,p]=B.useState(r);n_(d,r)||p(r);const[g,v]=B.useState(null),[y,x]=B.useState(null),_=B.useCallback(W=>{W!=E.current&&(E.current=W,v(W))},[v]),w=B.useCallback(W=>{W!==R.current&&(R.current=W,x(W))},[x]),A=s||g,M=o||y,E=B.useRef(null),R=B.useRef(null),C=B.useRef(u),T=DL(l),D=DL(i),L=B.useCallback(()=>{if(!E.current||!R.current)return;const W={placement:e,strategy:t,middleware:d};D.current&&(W.platform=D.current),uae(E.current,R.current,W).then(Y=>{const z={...Y,isPositioned:!0};F.current&&!n_(C.current,z)&&(C.current=z,Hu.flushSync(()=>{f(z)}))})},[d,e,t,D]);r1(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(W=>({...W,isPositioned:!1})))},[c]);const F=B.useRef(!1);r1(()=>(F.current=!0,()=>{F.current=!1}),[]),r1(()=>{if(A&&(E.current=A),M&&(R.current=M),A&&M){if(T.current)return T.current(A,M,L);L()}},[A,M,L,T]);const N=B.useMemo(()=>({reference:E,floating:R,setReference:_,setFloating:w}),[_,w]),k=B.useMemo(()=>({reference:A,floating:M}),[A,M]),H=B.useMemo(()=>{const W={position:t,left:0,top:0};if(!k.floating)return W;const Y=RL(k.floating,u.x),z=RL(k.floating,u.y);return a?{...W,transform:"translate("+Y+"px, "+z+"px)",...uG(k.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Y,top:z}},[t,a,k.floating,u.x,u.y]);return B.useMemo(()=>({...u,update:L,refs:N,elements:k,floatingStyles:H}),[u,L,N,k,H])}const hae=B.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return B.createElement(gf.svg,Qt({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:B.createElement("polygon",{points:"0,0 30,0 15,10"}))}),pae=hae;function mae(n){const[e,t]=B.useState(void 0);return mh(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}const fG="Popper",[dG,hG]=eG(fG),[gae,pG]=dG(fG),vae=n=>{const{__scopePopper:e,children:t}=n,[r,i]=B.useState(null);return B.createElement(gae,{scope:e,anchor:r,onAnchorChange:i},t)},yae="PopperAnchor",_ae=B.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=pG(yae,t),o=B.useRef(null),a=kh(e,o);return B.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:B.createElement(gf.div,Qt({},i,{ref:a}))}),mG="PopperContent",[xae,wae]=dG(mG),Sae=B.forwardRef((n,e)=>{var t,r,i,s,o,a,l,c;const{__scopePopper:u,side:f="bottom",sideOffset:d=0,align:p="center",alignOffset:g=0,arrowPadding:v=0,collisionBoundary:y=[],collisionPadding:x=0,sticky:_="partial",hideWhenDetached:w=!1,avoidCollisions:A=!0,onPlaced:M,...E}=n,R=pG(mG,u),[C,T]=B.useState(null),D=kh(e,Me=>T(Me)),[L,F]=B.useState(null),N=mae(L),k=(t=N==null?void 0:N.width)!==null&&t!==void 0?t:0,H=(r=N==null?void 0:N.height)!==null&&r!==void 0?r:0,W=f+(p!=="center"?"-"+p:""),Y=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},z=Array.isArray(y)?y:[y],U=z.length>0,V={padding:Y,boundary:z.filter(Cae),altBoundary:U},{refs:G,floatingStyles:X,placement:te,isPositioned:re,middlewareData:se}=dae({strategy:"fixed",placement:W,whileElementsMounted:cae,elements:{reference:R.anchor},middleware:[Hoe({mainAxis:d+H,alignmentAxis:g}),A&&Voe({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?Woe():void 0,...V}),A&&Uoe({...V}),joe({...V,apply:({elements:Me,rects:Pe,availableWidth:Ae,availableHeight:je})=>{const{width:we,height:Le}=Pe.reference,Oe=Me.floating.style;Oe.setProperty("--radix-popper-available-width",`${Ae}px`),Oe.setProperty("--radix-popper-available-height",`${je}px`),Oe.setProperty("--radix-popper-anchor-width",`${we}px`),Oe.setProperty("--radix-popper-anchor-height",`${Le}px`)}}),L&&fae({element:L,padding:v}),Eae({arrowWidth:k,arrowHeight:H}),w&&zoe({strategy:"referenceHidden"})]}),[q,oe]=gG(te),de=Fh(M);mh(()=>{re&&(de==null||de())},[re,de]);const Te=(i=se.arrow)===null||i===void 0?void 0:i.x,ye=(s=se.arrow)===null||s===void 0?void 0:s.y,Se=((o=se.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[ne,le]=B.useState();return mh(()=>{C&&le(window.getComputedStyle(C).zIndex)},[C]),B.createElement("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:re?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,["--radix-popper-transform-origin"]:[(a=se.transformOrigin)===null||a===void 0?void 0:a.x,(l=se.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:n.dir},B.createElement(xae,{scope:u,placedSide:q,onArrowChange:F,arrowX:Te,arrowY:ye,shouldHideArrow:Se},B.createElement(gf.div,Qt({"data-side":q,"data-align":oe},E,{ref:D,style:{...E.style,animation:re?void 0:"none",opacity:(c=se.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))}),Aae="PopperArrow",bae={top:"bottom",right:"left",bottom:"top",left:"right"},Mae=B.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=wae(Aae,r),o=bae[s.placedSide];return B.createElement("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},B.createElement(pae,Qt({},i,{ref:t,style:{...i.style,display:"block"}})))});function Cae(n){return n!==null}const Eae=n=>({name:"transformOrigin",options:n,fn(e){var t,r,i,s,o;const{placement:a,rects:l,middlewareData:c}=e,f=((t=c.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,d=f?0:n.arrowWidth,p=f?0:n.arrowHeight,[g,v]=gG(a),y={start:"0%",center:"50%",end:"100%"}[v],x=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+d/2,_=((s=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+p/2;let w="",A="";return g==="bottom"?(w=f?y:`${x}px`,A=`${-p}px`):g==="top"?(w=f?y:`${x}px`,A=`${l.floating.height+p}px`):g==="right"?(w=`${-p}px`,A=f?y:`${_}px`):g==="left"&&(w=`${l.floating.width+p}px`,A=f?y:`${_}px`),{data:{x:w,y:A}}}});function gG(n){const[e,t="center"]=n.split("-");return[e,t]}const Tae=vae,Pae=_ae,Rae=Sae,Dae=Mae;function Bae(n,e){return B.useReducer((t,r)=>{const i=e[t][r];return i??t},n)}const vG=n=>{const{present:e,children:t}=n,r=Iae(e),i=typeof t=="function"?t({present:r.isPresent}):B.Children.only(t),s=kh(r.ref,i.ref);return typeof t=="function"||r.isPresent?B.cloneElement(i,{ref:s}):null};vG.displayName="Presence";function Iae(n){const[e,t]=B.useState(),r=B.useRef({}),i=B.useRef(n),s=B.useRef("none"),o=n?"mounted":"unmounted",[a,l]=Bae(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return B.useEffect(()=>{const c=wy(r.current);s.current=a==="mounted"?c:"none"},[a]),mh(()=>{const c=r.current,u=i.current;if(u!==n){const d=s.current,p=wy(c);n?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),mh(()=>{if(e){const c=f=>{const p=wy(r.current).includes(f.animationName);f.target===e&&p&&Hu.flushSync(()=>l("ANIMATION_END"))},u=f=>{f.target===e&&(s.current=wy(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:B.useCallback(c=>{c&&(r.current=getComputedStyle(c)),t(c)},[])}}function wy(n){return(n==null?void 0:n.animationName)||"none"}function Lae({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=kae({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=Fh(t),l=B.useCallback(c=>{if(s){const f=typeof c=="function"?c(n):c;f!==n&&a(f)}else i(c)},[s,n,i,a]);return[o,l]}function kae({defaultProp:n,onChange:e}){const t=B.useState(n),[r]=t,i=B.useRef(r),s=Fh(e);return B.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}const Oae=B.forwardRef((n,e)=>B.createElement(gf.span,Qt({},n,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}))),Fae=Oae,[wx,Dge]=eG("Tooltip",[hG]),Sx=hG(),Nae="TooltipProvider",JM="tooltip.open",[Bge,X2]=wx(Nae),J2="Tooltip",[Uae,Ax]=wx(J2),zae=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=n,l=X2(J2,n.__scopeTooltip),c=Sx(e),[u,f]=B.useState(null),d=Poe(),p=B.useRef(0),g=o??l.disableHoverableContent,v=a??l.delayDuration,y=B.useRef(!1),[x=!1,_]=Lae({prop:r,defaultProp:i,onChange:R=>{R?(l.onOpen(),document.dispatchEvent(new CustomEvent(JM))):l.onClose(),s==null||s(R)}}),w=B.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),A=B.useCallback(()=>{window.clearTimeout(p.current),y.current=!1,_(!0)},[_]),M=B.useCallback(()=>{window.clearTimeout(p.current),_(!1)},[_]),E=B.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,_(!0)},v)},[v,_]);return B.useEffect(()=>()=>window.clearTimeout(p.current),[]),B.createElement(Tae,c,B.createElement(Uae,{scope:e,contentId:d,open:x,stateAttribute:w,trigger:u,onTriggerChange:f,onTriggerEnter:B.useCallback(()=>{l.isOpenDelayed?E():A()},[l.isOpenDelayed,E,A]),onTriggerLeave:B.useCallback(()=>{g?M():window.clearTimeout(p.current)},[M,g]),onOpen:A,onClose:M,disableHoverableContent:g},t))},BL="TooltipTrigger",Gae=B.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Ax(BL,t),s=X2(BL,t),o=Sx(t),a=B.useRef(null),l=kh(e,a,i.onTriggerChange),c=B.useRef(!1),u=B.useRef(!1),f=B.useCallback(()=>c.current=!1,[]);return B.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),B.createElement(Pae,Qt({asChild:!0},o),B.createElement(gf.button,Qt({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:l,onPointerMove:Ca(n.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ca(n.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Ca(n.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ca(n.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ca(n.onBlur,i.onClose),onClick:Ca(n.onClick,i.onClose)})))}),Hae="TooltipPortal",[Ige,Vae]=wx(Hae,{forceMount:void 0}),yg="TooltipContent",Wae=B.forwardRef((n,e)=>{const t=Vae(yg,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,o=Ax(yg,n.__scopeTooltip);return B.createElement(vG,{present:r||o.open},o.disableHoverableContent?B.createElement(yG,Qt({side:i},s,{ref:e})):B.createElement(jae,Qt({side:i},s,{ref:e})))}),jae=B.forwardRef((n,e)=>{const t=Ax(yg,n.__scopeTooltip),r=X2(yg,n.__scopeTooltip),i=B.useRef(null),s=kh(e,i),[o,a]=B.useState(null),{trigger:l,onClose:c}=t,u=i.current,{onPointerInTransitChange:f}=r,d=B.useCallback(()=>{a(null),f(!1)},[f]),p=B.useCallback((g,v)=>{const y=g.currentTarget,x={x:g.clientX,y:g.clientY},_=Yae(x,y.getBoundingClientRect()),w=Qae(x,_),A=Zae(v.getBoundingClientRect()),M=ele([...w,...A]);a(M),f(!0)},[f]);return B.useEffect(()=>()=>d(),[d]),B.useEffect(()=>{if(l&&u){const g=y=>p(y,u),v=y=>p(y,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",v)}}},[l,u,p,d]),B.useEffect(()=>{if(o){const g=v=>{const y=v.target,x={x:v.clientX,y:v.clientY},_=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),w=!qae(x,o);_?d():w&&(d(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,o,c,d]),B.createElement(yG,Qt({},n,{ref:s}))}),[$ae,Xae]=wx(J2,{isInside:!1}),yG=B.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=Ax(yg,t),c=Sx(t),{onClose:u}=l;return B.useEffect(()=>(document.addEventListener(JM,u),()=>document.removeEventListener(JM,u)),[u]),B.useEffect(()=>{if(l.trigger){const f=d=>{const p=d.target;p!=null&&p.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),B.createElement(boe,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u},B.createElement(Rae,Qt({"data-state":l.stateAttribute},c,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),B.createElement(Jz,null,r),B.createElement($ae,{scope:t,isInside:!0},B.createElement(Fae,{id:l.contentId,role:"tooltip"},i||r))))}),Jae="TooltipArrow",Kae=B.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Sx(t);return Xae(Jae,t).isInside?null:B.createElement(Dae,Qt({},i,r,{ref:e}))});function Yae(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Qae(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function Zae(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function qae(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&t<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function ele(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),tle(e)}function tle(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}const nle=zae,rle=Gae,ile=Wae,sle=Kae;function ole(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function tn(n,e){if(n==null)return{};var t=ole(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}let Mn;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(Mn||(Mn={}));const ale={[Mn.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[Mn.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[Mn.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[Mn.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[Mn.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[Mn.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[Mn.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[Mn.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[Mn.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[Mn.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[Mn.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function _G(n,e,...t){const[r,...i]=ale[e](...t);console[n]("LEVA: "+r,...i)}const Pa=_G.bind(null,"warn"),lle=_G.bind(null,"log"),cle=["value"],ule=["schema"],fle=["value"],xG=[],sf={};function IL(n){let{value:e}=n,t=tn(n,cle);for(let r of xG){const i=r(e,t);if(i)return i}}function al(n,e){let{schema:t}=e,r=tn(e,ule);if(n in sf){Pa(Mn.ALREADY_REGISTERED_TYPE,n);return}xG.push((i,s)=>t(i,s)&&n),sf[n]=r}function uA(n,e,t,r){const{normalize:i}=sf[n];if(i)return i(e,t,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=tn(e,fle);return{value:s,settings:o}}function dle(n,e,t,r,i,s){const{sanitize:o}=sf[n];return o?o(e,t,r,i,s):e}function LL(n,e,t){const{format:r}=sf[n];return r?r(e,t):e}function hle(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kL(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ht(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(t),!0).forEach(function(r){hle(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kL(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const xc=(n,e,t)=>n>t?t:n<e?e:n,ple=n=>{if(n===""||typeof n=="number")return n;try{const e=Bl(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},mle=Math.log(10);function OL(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/mle)+1,r=Math.floor(Math.log10(Math.abs(n))),i=Math.pow(10,r-t);return Math.max(i,.001)}const r_=(n,e,t)=>t===e?0:(xc(n,e,t)-e)/(t-e),i_=(n,e,t)=>n*(t-e)+e,gle=()=>"_"+Math.random().toString(36).substr(2,9),FL=/\(([0-9+\-*/^ .]+)\)/,NL=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,UL=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,zL=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,GL=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,HL=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function Bl(n){if(isNaN(Number(n)))if(FL.test(n)){const e=n.replace(FL,(t,r)=>String(Bl(r)));return Bl(e)}else if(NL.test(n)){const e=n.replace(NL,(t,r,i)=>String(Math.pow(Number(r),Number(i))));return Bl(e)}else if(UL.test(n)){const e=n.replace(UL,(t,r,i)=>String(Number(r)*Number(i)));return Bl(e)}else if(zL.test(n)){const e=n.replace(zL,(t,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return Bl(e)}else if(GL.test(n)){const e=n.replace(GL,(t,r,i)=>String(Number(r)+Number(i)));return Bl(e)}else if(HL.test(n)){const e=n.replace(HL,(t,r,i)=>String(Number(r)-Number(i)));return Bl(e)}else return Number(n);return Number(n)}function vle(n,e){return e.reduce((t,r)=>(n&&n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}function yle(n,e){const t=ht({},n);return e.forEach(r=>r in n&&delete t[r]),t}function _le(n,e){return n.reduce((t,r,i)=>Object.assign(t,{[e[i]]:r}),{})}function wG(n){return Object.prototype.toString.call(n)==="[object Object]"}const xle=n=>wG(n)&&Object.keys(n).length===0;let wo;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(wo||(wo={}));let Mo;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(Mo||(Mo={}));const wle=["type","__customInput"],Sle=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],Ale=["type"];function SG(n,e,t={},r){var i,s;if(typeof n!="object"||Array.isArray(n))return{type:r,input:n,options:ht({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:M,__customInput:E}=n,R=tn(n,wle);return SG(E,e,R,M)}const{render:o,label:a,optional:l,order:c=0,disabled:u,hint:f,onChange:d,onEditStart:p,onEditEnd:g,transient:v}=n,y=tn(n,Sle),x=ht({render:o,key:e,label:a??e,hint:f,transient:v??!!d,onEditStart:p,onEditEnd:g,disabled:u,optional:l,order:c},t);let{type:_}=y,w=tn(y,Ale);if(_=r??_,_ in wo)return{type:_,input:w,options:x};let A;return r&&wG(w)&&"value"in w?A=w.value:A=xle(w)?void 0:w,{type:_,input:A,options:ht(ht({},x),{},{onChange:d,optional:(i=x.optional)!==null&&i!==void 0?i:!1,disabled:(s=x.disabled)!==null&&s!==void 0?s:!1})}}function ble(n,e,t,r){const i=SG(n,e),{type:s,input:o,options:a}=i;if(s)return s in wo?i:{type:s,input:uA(s,o,t,r),options:a};let l=IL(o);return l?{type:l,input:uA(l,o,t,r),options:a}:(l=IL({value:o}),l?{type:l,input:uA(l,{value:o},t,r),options:a}:!1)}function VL(n,e,t,r,i){const{value:s,type:o,settings:a}=n;n.value=AG({type:o,value:s,settings:a},e,t,r),n.fromPanel=i}const Mle=function(e,t,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=r};function AG({type:n,value:e,settings:t},r,i,s){const o=n!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=dle(n,o,t,e,i,s)}catch(l){throw new Mle(`The value \`${r}\` did not result in a correct value.`,e,l)}return mg(a,e)?e:a}const bG=(n,e,t=!1)=>{let r=0;return function(){const i=arguments,s=t&&!r,o=()=>n.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},MG=n=>n.shiftKey?5:n.altKey?1/5:1;function Cle(n,e){const t=console.error;console.error=()=>{},_4.render(n,e),console.error=t}const Ele=["value"],Tle=["min","max"],Ple=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},CG=(n,{min:e=-1/0,max:t=1/0,suffix:r})=>{const i=parseFloat(n);if(n===""||isNaN(i))throw Error("Invalid number");const s=xc(i,e,t);return r?s+r:s},Rle=(n,{pad:e=0,suffix:t})=>{const r=parseFloat(n).toFixed(e);return t?r+t:r},EG=n=>{let{value:e}=n,t=tn(n,Ele);const{min:r=-1/0,max:i=1/0}=t,s=tn(t,Tle);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=xc(o,r,i);let l=t.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const c=l?OL(l)*10:OL(o);l=l||c/10;const u=Math.round(xc(Math.log10(1/c),0,2));return{value:a?o+a:o,settings:ht({initialValue:o,step:l,pad:u,min:r,max:i,suffix:a},s)}},TG=(n,{step:e,initialValue:t})=>{const r=Math.round((n-t)/e);return t+r*e};var PG=Object.freeze({__proto__:null,schema:Ple,sanitize:CG,format:Rle,normalize:EG,sanitizeStep:TG});function Hn(){return Hn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hn.apply(this,arguments)}const RG=B.createContext({});function ii(){return B.useContext(RG)}const K2=B.createContext(null),DG=B.createContext(null),BG=B.createContext(null);function c0(){return B.useContext(DG)}function Dle(){return B.useContext(BG)}const IG=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function Sy(n,e){const[t,r]=n.split(" "),i={};return t!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),r&&(i.backgroundColor=r),i}const Hp={$inputStyle:()=>n=>Sy(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>Sy(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>Sy(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>Sy(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:ut,css:Lge,createTheme:Ble,globalCss:Ile,keyframes:kge}=yoe({prefix:"leva",theme:IG(),utils:ht(ht({},Hp),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":Hp.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":Hp.$focusStyle()(n)}),$hover:n=>({"&:hover":Hp.$hoverStyle()(n)}),$active:n=>({"&:active":Hp.$activeStyle()(n)})})}),Lle=Ile({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function kle(n){const e=IG();if(!n)return{theme:e,className:""};Object.keys(n).forEach(r=>{Object.assign(e[r],n[r])});const t=Ble(e);return{theme:e,className:t.className}}function Ua(n,e){const{theme:t}=B.useContext(K2);if(!(n in t)||!(e in t[n]))return Pa(Mn.THEME_ERROR,n,e),"";let r=e;for(;;){let i=t[n][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const LG=ut("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),kG=ut("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${LG}`]:{paddingLeft:0}}),Ole=ut(kG,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),Fle=ut("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),Nle=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],Ule=["onUpdate"];function Y2(n){let{innerLabel:e,value:t,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:c=0}=n,u=tn(n,Nle);const{id:f,emitOnEditStart:d,emitOnEditEnd:p,disabled:g}=ii(),v=a||f,y=B.useRef(null),x=c>0,_=x?"textarea":"input",w=B.useCallback(E=>R=>{const C=R.currentTarget.value;E(C)},[]);Q.useEffect(()=>{const E=y.current,R=w(C=>{r(C),p()});return E==null||E.addEventListener("blur",R),()=>E==null?void 0:E.removeEventListener("blur",R)},[w,r,p]);const A=B.useCallback(E=>{E.key==="Enter"&&w(r)(E)},[w,r]),M=Object.assign({as:_},x?{rows:c}:{},u);return Q.createElement(Fle,{textArea:x},e&&typeof e=="string"?Q.createElement(kG,null,e):e,Q.createElement(LG,Hn({levaType:o,ref:y,id:v,type:l,autoComplete:"off",spellCheck:"false",value:t,onChange:w(i),onFocus:()=>d(),onKeyPress:A,onKeyDown:s,disabled:g},M)))}function zle(n){let{onUpdate:e}=n,t=tn(n,Ule);const r=B.useCallback(s=>e(ple(s)),[e]),i=B.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return Q.createElement(Y2,Hn({},t,{onUpdate:r,onKeyDown:i,type:"number"}))}const s_=ut("div",{}),KM=ut("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),Gle=ut("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${KM}::after`]:{opacity:.6},[`${s_}:hover > & + ${KM}::after`]:{opacity:.6},[`${s_}:hover > & > svg`]:{opacity:1}}),OG=ut("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${s_}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),FG=ut("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${OG} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),NG=ut(FG,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),Hle=ut("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),Vle=ut("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),YM=ut("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),Wle=ut("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${YM}`]:{pointerEvents:"auto"}}}}}),UG=ut("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),jle=ut("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),$le=ut(sle,{fill:"$toolTipBackground"});function Q2({children:n}){const{className:e}=B.useContext(K2);return Q.createElement(zse,{className:e},n)}const Xle=["align"];function Jle(){const{id:n,disable:e,disabled:t}=ii();return Q.createElement(Q.Fragment,null,Q.createElement(Vle,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),Q.createElement("label",{htmlFor:n+"__disable"}))}function Kle(n){const{id:e,optional:t,hint:r}=ii(),i=n.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof n.children=="string"?{title:n.children}:null;return Q.createElement(Q.Fragment,null,t&&Q.createElement(Jle,null),r!==void 0?Q.createElement(nle,null,Q.createElement(rle,{asChild:!0},Q.createElement(YM,Hn({},i,n))),Q.createElement(ile,{side:"top",sideOffset:2},Q.createElement(jle,null,r,Q.createElement($le,null)))):Q.createElement(YM,Hn({},i,s,n)))}function Ro(n){let{align:e}=n,t=tn(n,Xle);const{value:r,label:i,key:s,disabled:o}=ii(),{hideCopyButton:a}=Dle(),l=!a&&s!==void 0,[c,u]=B.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),u(!0)}catch{Pa(Mn.CLIPBOARD_ERROR,{[s]:r})}};return Q.createElement(Hle,{align:e,onPointerLeave:()=>u(!1)},Q.createElement(Kle,t),l&&!o&&Q.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},c?Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},Q.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),Q.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):Q.createElement("svg",{onClick:f,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},Q.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),Q.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const Yle=["toggled"],Qle=ut("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function Z2(n){let{toggled:e}=n,t=tn(n,Yle);return Q.createElement(Qle,Hn({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),Q.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const Zle=["input"];function to(n){let{input:e}=n,t=tn(n,Zle);return e?Q.createElement(NG,t):Q.createElement(FG,t)}function zG({value:n,type:e,settings:t,setValue:r}){const[i,s]=B.useState(LL(e,n,t)),o=B.useRef(n),a=B.useRef(t);a.current=t;const l=B.useCallback(u=>s(LL(e,u,a.current)),[e]),c=B.useCallback(u=>{try{r(u)}catch(f){const{type:d,previousValue:p}=f;if(d!=="LEVA_ERROR")throw f;l(p)}},[l,r]);return B.useEffect(()=>{mg(n,o.current)||l(n),o.current=n},[n,l]),{displayValue:i,onChange:s,onUpdate:c}}function u0(n,e){const{emitOnEditStart:t,emitOnEditEnd:r}=ii();return YZ(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const s=n(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function qle(n){const e=B.useRef(null),t=B.useRef(null),r=B.useRef(!1);return B.useEffect(()=>{const i=bG(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[n]),B.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function GG(){const n=B.useRef(null),e=B.useRef({x:0,y:0}),t=B.useCallback(r=>{Object.assign(e.current,r),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const ece=["__refCount"],fA=(n,e)=>{if(!n[e])return null;const t=n[e];return tn(t,ece)};function tce(n){const e=c0(),[t,r]=B.useState(fA(e.getData(),n)),i=B.useCallback(c=>e.setValueAtPath(n,c,!0),[n,e]),s=B.useCallback(c=>e.setSettingsAtPath(n,c),[n,e]),o=B.useCallback(c=>e.disableInputAtPath(n,c),[n,e]),a=B.useCallback(()=>e.emitOnEditStart(n),[n,e]),l=B.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return B.useEffect(()=>{r(fA(e.getData(),n));const c=e.useStore.subscribe(u=>fA(u.data,n),r,{equalityFn:t0});return()=>c()},[e,n]),[t,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const nce=ut("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),HG=ut("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),QM=ut("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),VG=ut("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),WG=ut("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function rce({value:n,min:e,max:t,onDrag:r,step:i,initialValue:s}){const o=B.useRef(null),a=B.useRef(null),l=B.useRef(0),c=Ua("sizes","scrubberWidth"),u=u0(({event:d,first:p,xy:[g],movement:[v],memo:y})=>{if(p){const{width:_,left:w}=o.current.getBoundingClientRect();l.current=_-parseFloat(c),y=(d==null?void 0:d.target)===a.current?n:i_((g-w)/_,e,t)}const x=y+i_(v/l.current,0,t-e);return r(TG(x,{step:i,initialValue:s})),y}),f=r_(n,e,t);return Q.createElement(VG,Hn({ref:o},u()),Q.createElement(HG,null,Q.createElement(WG,{style:{left:0,right:`${(1-f)*100}%`}})),Q.createElement(QM,{ref:a,style:{left:`calc(${f} * (100% - ${c}))`}}))}const ice=Q.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:r})=>{const[i,s]=B.useState(!1),o=u0(({active:a,delta:[l],event:c,memo:u=0})=>(s(a),u+=l/2,Math.abs(u)>=1&&(e(f=>parseFloat(f)+Math.floor(u)*t*MG(c)),u=0),u));return Q.createElement(Ole,Hn({dragging:i,title:n.length>1?n:""},o()),n.slice(0,r))});function jG({label:n,id:e,displayValue:t,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&Q.createElement(ice,{label:n,step:s.step,onUpdate:r,innerLabelTrim:o});return Q.createElement(zle,{id:e,value:String(t),onUpdate:r,onChange:i,innerLabel:a})}function sce(){const n=ii(),{label:e,value:t,onUpdate:r,settings:i,id:s}=n,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return Q.createElement(to,{input:!0},Q.createElement(Ro,null,e),Q.createElement(nce,{hasRange:l},l&&Q.createElement(rce,Hn({value:parseFloat(t),onDrag:r},i)),Q.createElement(jG,Hn({},n,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:oce}=PG,ace=tn(PG,["sanitizeStep"]);var lce=ht({component:sce},ace);const cce=(n,e)=>Oi().schema({options:Oi().passesAnyOf(Oi().object(),Oi().array())}).test(e),uce=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},fce=(n,{values:e})=>e.indexOf(n),dce=n=>{let{value:e,options:t}=n,r,i;return Array.isArray(t)?(i=t,r=t.map(s=>String(s))):(i=Object.values(t),r=Object.keys(t)),"value"in n?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var hce=Object.freeze({__proto__:null,schema:cce,sanitize:uce,format:fce,normalize:dce});const pce=ut("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),ZM=ut("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),mce=ut("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${ZM}:focus + &`]:{$focusStyle:""},[`${ZM}:hover + &`]:{$hoverStyle:""}});function gce({displayValue:n,value:e,onUpdate:t,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=B.useRef();return e===a[n]&&(l.current=o[n]),Q.createElement(pce,null,Q.createElement(ZM,{id:r,value:n,onChange:c=>t(a[Number(c.currentTarget.value)]),disabled:s},o.map((c,u)=>Q.createElement("option",{key:c,value:u},c))),Q.createElement(mce,null,l.current),Q.createElement(Z2,{toggled:!0}))}function vce(){const{label:n,value:e,displayValue:t,onUpdate:r,id:i,disabled:s,settings:o}=ii();return Q.createElement(to,{input:!0},Q.createElement(Ro,null,n),Q.createElement(gce,{id:i,value:e,displayValue:t,onUpdate:r,settings:o,disabled:s}))}var yce=ht({component:vce},hce);const _ce=n=>Oi().string().test(n),xce=n=>{if(typeof n!="string")throw Error("Invalid string");return n},wce=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var Sce=Object.freeze({__proto__:null,schema:_ce,sanitize:xce,normalize:wce});const Ace=["displayValue","onUpdate","onChange","editable"],bce=ut("div",{whiteSpace:"pre-wrap"});function Mce(n){let{displayValue:e,onUpdate:t,onChange:r,editable:i=!0}=n,s=tn(n,Ace);return i?Q.createElement(Y2,Hn({value:e,onUpdate:t,onChange:r},s)):Q.createElement(bce,null,e)}function Cce(){const{label:n,settings:e,displayValue:t,onUpdate:r,onChange:i}=ii();return Q.createElement(to,{input:!0},Q.createElement(Ro,null,n),Q.createElement(Mce,Hn({displayValue:t,onUpdate:r,onChange:i},e)))}var Ece=ht({component:Cce},Sce);const Tce=n=>Oi().boolean().test(n),Pce=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var Rce=Object.freeze({__proto__:null,schema:Tce,sanitize:Pce});const Dce=ut("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Bce({value:n,onUpdate:e,id:t,disabled:r}){return Q.createElement(Dce,null,Q.createElement("input",{id:t,type:"checkbox",checked:n,onChange:i=>e(i.currentTarget.checked),disabled:r}),Q.createElement("label",{htmlFor:t},Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function Ice(){const{label:n,value:e,onUpdate:t,disabled:r,id:i}=ii();return Q.createElement(to,{input:!0},Q.createElement(Ro,null,n),Q.createElement(Bce,{value:e,onUpdate:t,id:i,disabled:r}))}var Lce=ht({component:Ice},Rce);const kce=["locked"];function Oce({value:n,id:e,valueKey:t,settings:r,onUpdate:i,innerLabelTrim:s}){const o=B.useRef(n[t]);o.current=n[t];const a=B.useCallback(c=>i({[t]:AG({type:"NUMBER",value:o.current,settings:r},c)}),[i,r,t]),l=zG({type:"NUMBER",value:n[t],settings:r,setValue:a});return Q.createElement(jG,{id:e,label:t,value:n[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const Fce=ut("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function Nce(n){let{locked:e}=n,t=tn(n,kce);return Q.createElement("svg",Hn({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?Q.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):Q.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function q2({value:n,onUpdate:e,settings:t,innerLabelTrim:r}){const{id:i,setSettings:s}=ii(),{lock:o,locked:a}=t;return Q.createElement(Fce,{withLock:o},o&&Q.createElement(Nce,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(n).map((l,c)=>Q.createElement(Oce,{id:c===0?i:`${i}.${l}`,key:l,valueKey:l,value:n,settings:t[l],onUpdate:e,innerLabelTrim:r})))}const $G=(n,e)=>{const t={};let r=0,i=1/0;Object.entries(n).forEach(([s,o])=>{t[s]=EG(ht({value:o},e[s])).settings,r=Math.max(r,t[s].step),i=Math.min(i,t[s].pad)});for(let s in t){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(t[s].step=r,t[s].pad=i)}return t},Uce=["lock"],zce=["value"];function Gce(n){const e=Oi().array().length(n).every.number(),t=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===n&&i.every(s=>isFinite(s))};return r=>e.test(r)||t(r)}function Hce(n){return Array.isArray(n)?"array":"object"}function bm(n,e,t){return Hce(n)===e?n:e==="array"?Object.values(n):_le(n,t)}const Vce=(n,e,t)=>{const r=bm(n,"object",e.keys);for(let o in r)r[o]=CG(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=bm(t,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],c=o[a],u=c!==0?l/c:1;for(let f in o)f===a?s[a]=l:s[f]=o[f]*u}else s=ht(ht({},o),r)}return bm(s,e.format,e.keys)},Wce=(n,e)=>bm(n,"object",e.keys),jce=n=>!!n&&("step"in n||"min"in n||"max"in n);function $ce(n,e,t=[]){const{lock:r=!1}=e,i=tn(e,Uce),s=Array.isArray(n)?"array":"object",o=s==="object"?Object.keys(n):t,a=bm(n,"object",o),l=jce(i)?o.reduce((u,f)=>Object.assign(u,{[f]:i}),{}):i,c=$G(a,l);return{value:s==="array"?n:a,settings:ht(ht({},c),{},{format:s,keys:o,lock:r,locked:!1})}}function XG(n){return{schema:Gce(n.length),normalize:e=>{let{value:t}=e,r=tn(e,zce);return $ce(t,r,n)},format:(e,t)=>Wce(e,t),sanitize:(e,t,r)=>Vce(e,t,r)}}var Xce={grad:.9,turn:360,rad:360/(2*Math.PI)},Sa=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},br=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},Ws=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},JG=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},WL=function(n){return{r:Ws(n.r,0,255),g:Ws(n.g,0,255),b:Ws(n.b,0,255),a:Ws(n.a)}},dA=function(n){return{r:br(n.r),g:br(n.g),b:br(n.b),a:br(n.a,3)}},Jce=/^#([0-9a-f]{3,8})$/i,Ay=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},KG=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},YG=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:255*[r,a,o,o,l,r][c],g:255*[l,r,r,a,o,o][c],b:255*[o,o,l,r,r,a][c],a:i}},jL=function(n){return{h:JG(n.h),s:Ws(n.s,0,100),l:Ws(n.l,0,100),a:Ws(n.a)}},$L=function(n){return{h:br(n.h),s:br(n.s),l:br(n.l),a:br(n.a,3)}},XL=function(n){return YG((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},Mm=function(n){return{h:(e=KG(n)).h,s:(i=(200-(t=e.s))*(r=e.v)/100)>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,r,i},Kce=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Yce=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Qce=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Zce=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,qM={string:[[function(n){var e=Jce.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?br(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?br(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=Qce.exec(n)||Zce.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:WL({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=Kce.exec(n)||Yce.exec(n);if(!e)return null;var t,r,i=jL({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(Xce[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return XL(i)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=i===void 0?1:i;return Sa(e)&&Sa(t)&&Sa(r)?WL({r:Number(e),g:Number(t),b:Number(r),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,i=n.a,s=i===void 0?1:i;if(!Sa(e)||!Sa(t)||!Sa(r))return null;var o=jL({h:Number(e),s:Number(t),l:Number(r),a:Number(s)});return XL(o)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,i=n.a,s=i===void 0?1:i;if(!Sa(e)||!Sa(t)||!Sa(r))return null;var o=function(a){return{h:JG(a.h),s:Ws(a.s,0,100),v:Ws(a.v,0,100),a:Ws(a.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(s)});return YG(o)},"hsv"]]},JL=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},QG=function(n){return typeof n=="string"?JL(n.trim(),qM.string):typeof n=="object"&&n!==null?JL(n,qM.object):[null,void 0]},qce=function(n){return QG(n)[1]},hA=function(n,e){var t=Mm(n);return{h:t.h,s:Ws(t.s+100*e,0,100),l:t.l,a:t.a}},pA=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},KL=function(n,e){var t=Mm(n);return{h:t.h,s:t.s,l:Ws(t.l+100*e,0,100),a:t.a}},eC=function(){function n(e){this.parsed=QG(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return br(pA(this.rgba),2)},n.prototype.isDark=function(){return pA(this.rgba)<.5},n.prototype.isLight=function(){return pA(this.rgba)>=.5},n.prototype.toHex=function(){return e=dA(this.rgba),t=e.r,r=e.g,i=e.b,o=(s=e.a)<1?Ay(br(255*s)):"","#"+Ay(t)+Ay(r)+Ay(i)+o;var e,t,r,i,s,o},n.prototype.toRgb=function(){return dA(this.rgba)},n.prototype.toRgbString=function(){return e=dA(this.rgba),t=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+r+", "+i+", "+s+")":"rgb("+t+", "+r+", "+i+")";var e,t,r,i,s},n.prototype.toHsl=function(){return $L(Mm(this.rgba))},n.prototype.toHslString=function(){return e=$L(Mm(this.rgba)),t=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+r+"%, "+i+"%, "+s+")":"hsl("+t+", "+r+"%, "+i+"%)";var e,t,r,i,s},n.prototype.toHsv=function(){return e=KG(this.rgba),{h:br(e.h),s:br(e.s),v:br(e.v),a:br(e.a,3)};var e},n.prototype.invert=function(){return vi({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),vi(hA(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),vi(hA(this.rgba,-e))},n.prototype.grayscale=function(){return vi(hA(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),vi(KL(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),vi(KL(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?vi({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):br(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=Mm(this.rgba);return typeof e=="number"?vi({h:e,s:t.s,l:t.l,a:t.a}):br(t.h)},n.prototype.isEqual=function(e){return this.toHex()===vi(e).toHex()},n}(),vi=function(n){return n instanceof eC?n:new eC(n)},YL=[],eue=function(n){n.forEach(function(e){YL.indexOf(e)<0&&(e(eC,qM),YL.push(e))})};function tue(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in t)r[t[i]]=i;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=r[this.toHex()];if(c)return c;if(o!=null&&o.closest){var u=this.toRgb(),f=1/0,d="black";if(!s.length)for(var p in t)s[p]=new n(t[p]).toRgb();for(var g in t){var v=(a=u,l=s[g],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));v<f&&(f=v,d=g)}return d}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new n(l).toRgb():null},"name"])}function zh(){return(zh=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function eT(n,e){if(n==null)return{};var t,r,i={},s=Object.keys(n);for(r=0;r<s.length;r++)e.indexOf(t=s[r])>=0||(i[t]=n[t]);return i}function tC(n){var e=B.useRef(n),t=B.useRef(function(r){e.current&&e.current(r)});return e.current=n,t.current}var vh=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},Cm=function(n){return"touches"in n},nC=function(n){return n&&n.ownerDocument.defaultView||self},QL=function(n,e,t){var r=n.getBoundingClientRect(),i=Cm(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,t):e;return{left:vh((i.pageX-(r.left+nC(n).pageXOffset))/r.width),top:vh((i.pageY-(r.top+nC(n).pageYOffset))/r.height)}},ZL=function(n){!Cm(n)&&n.preventDefault()},tT=Q.memo(function(n){var e=n.onMove,t=n.onKey,r=eT(n,["onMove","onKey"]),i=B.useRef(null),s=tC(e),o=tC(t),a=B.useRef(null),l=B.useRef(!1),c=B.useMemo(function(){var p=function(y){ZL(y),(Cm(y)?y.touches.length>0:y.buttons>0)&&i.current?s(QL(i.current,y,a.current)):v(!1)},g=function(){return v(!1)};function v(y){var x=l.current,_=nC(i.current),w=y?_.addEventListener:_.removeEventListener;w(x?"touchmove":"mousemove",p),w(x?"touchend":"mouseup",g)}return[function(y){var x=y.nativeEvent,_=i.current;if(_&&(ZL(x),!function(A,M){return M&&!Cm(A)}(x,l.current)&&_)){if(Cm(x)){l.current=!0;var w=x.changedTouches||[];w.length&&(a.current=w[0].identifier)}_.focus(),s(QL(_,x,a.current)),v(!0)}},function(y){var x=y.which||y.keyCode;x<37||x>40||(y.preventDefault(),o({left:x===39?.05:x===37?-.05:0,top:x===40?.05:x===38?-.05:0}))},v]},[o,s]),u=c[0],f=c[1],d=c[2];return B.useEffect(function(){return d},[d]),Q.createElement("div",zh({},r,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),f0=function(n){return n.filter(Boolean).join(" ")},nT=function(n){var e=n.color,t=n.left,r=n.top,i=r===void 0?.5:r,s=f0(["react-colorful__pointer",n.className]);return Q.createElement("div",{className:s,style:{top:100*i+"%",left:100*t+"%"}},Q.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},yi=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},ZG=function(n){var e=n.s,t=n.v,r=n.a,i=(200-e)*t/100;return{h:yi(n.h),s:yi(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:yi(i/2),a:yi(r,2)}},rC=function(n){var e=ZG(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},mA=function(n){var e=ZG(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},qG=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:yi(255*[r,a,o,o,l,r][c]),g:yi(255*[l,r,r,a,o,o][c]),b:yi(255*[o,o,l,r,r,a][c]),a:yi(i,2)}},e6=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:yi(60*(a<0?a+6:a)),s:yi(s?o/s*100:0),v:yi(s/255*100),a:i}},t6=Q.memo(function(n){var e=n.hue,t=n.onChange,r=f0(["react-colorful__hue",n.className]);return Q.createElement("div",{className:r},Q.createElement(tT,{onMove:function(i){t({h:360*i.left})},onKey:function(i){t({h:vh(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":yi(e),"aria-valuemax":"360","aria-valuemin":"0"},Q.createElement(nT,{className:"react-colorful__hue-pointer",left:e/360,color:rC({h:e,s:100,v:100,a:1})})))}),n6=Q.memo(function(n){var e=n.hsva,t=n.onChange,r={backgroundColor:rC({h:e.h,s:100,v:100,a:1})};return Q.createElement("div",{className:"react-colorful__saturation",style:r},Q.createElement(tT,{onMove:function(i){t({s:100*i.left,v:100-100*i.top})},onKey:function(i){t({s:vh(e.s+100*i.left,0,100),v:vh(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+yi(e.s)+"%, Brightness "+yi(e.v)+"%"},Q.createElement(nT,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:rC(e)})))}),rT=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function r6(n,e,t){var r=tC(t),i=B.useState(function(){return n.toHsva(e)}),s=i[0],o=i[1],a=B.useRef({color:e,hsva:s});B.useEffect(function(){if(!n.equal(e,a.current.color)){var c=n.toHsva(e);a.current={hsva:c,color:e},o(c)}},[e,n]),B.useEffect(function(){var c;rT(s,a.current.hsva)||n.equal(c=n.fromHsva(s),a.current.color)||(a.current={hsva:s,color:c},r(c))},[s,n,r]);var l=B.useCallback(function(c){o(function(u){return Object.assign({},u,c)})},[]);return[s,l]}var nue=typeof window<"u"?B.useLayoutEffect:B.useEffect,rue=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},qL=new Map,i6=function(n){nue(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!qL.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,qL.set(e,t);var r=rue();r&&t.setAttribute("nonce",r),e.head.appendChild(t)}},[])},iue=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=eT(n,["className","colorModel","color","onChange"]),a=B.useRef(null);i6(a);var l=r6(t,i,s),c=l[0],u=l[1],f=f0(["react-colorful",e]);return Q.createElement("div",zh({},o,{ref:a,className:f}),Q.createElement(n6,{hsva:c,onChange:u}),Q.createElement(t6,{hue:c.h,onChange:u,className:"react-colorful__last-control"}))},sue=function(n){var e=n.className,t=n.hsva,r=n.onChange,i={backgroundImage:"linear-gradient(90deg, "+mA(Object.assign({},t,{a:0}))+", "+mA(Object.assign({},t,{a:1}))+")"},s=f0(["react-colorful__alpha",e]),o=yi(100*t.a);return Q.createElement("div",{className:s},Q.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),Q.createElement(tT,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:vh(t.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},Q.createElement(nT,{className:"react-colorful__alpha-pointer",left:t.a,color:mA(t)})))},oue=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=eT(n,["className","colorModel","color","onChange"]),a=B.useRef(null);i6(a);var l=r6(t,i,s),c=l[0],u=l[1],f=f0(["react-colorful",e]);return Q.createElement("div",zh({},o,{ref:a,className:f}),Q.createElement(n6,{hsva:c,onChange:u}),Q.createElement(t6,{hue:c.h,onChange:u}),Q.createElement(sue,{hsva:c,onChange:u,className:"react-colorful__last-control"}))},aue={defaultColor:{r:0,g:0,b:0,a:1},toHsva:e6,fromHsva:qG,equal:rT},lue=function(n){return Q.createElement(oue,zh({},n,{colorModel:aue}))},cue={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return e6({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=qG(n)).r,g:e.g,b:e.b};var e},equal:rT},uue=function(n){return Q.createElement(iue,zh({},n,{colorModel:cue}))};function fue(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Gh(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function Hh(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function due(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function hue(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(due(arguments[e]));return n}var pue=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function d0(n,e){var t=mue(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function mue(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),i=pue.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}var gue=[".DS_Store","Thumbs.db"];function vue(n){return Gh(this,void 0,void 0,function(){return Hh(this,function(e){return o_(n)&&yue(n)?[2,Sue(n.dataTransfer,n.type)]:_ue(n)?[2,xue(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,wue(n)]:[2,[]]})})}function yue(n){return o_(n.dataTransfer)}function _ue(n){return o_(n)&&o_(n.target)}function o_(n){return typeof n=="object"&&n!==null}function xue(n){return iC(n.target.files).map(function(e){return d0(e)})}function wue(n){return Gh(this,void 0,void 0,function(){var e;return Hh(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(r){return r.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(r){return d0(r)})]}})})}function Sue(n,e){return Gh(this,void 0,void 0,function(){var t,r;return Hh(this,function(i){switch(i.label){case 0:return n===null?[2,[]]:n.items?(t=iC(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(Aue))]):[3,2];case 1:return r=i.sent(),[2,ek(s6(r))];case 2:return[2,ek(iC(n.files).map(function(s){return d0(s)}))]}})})}function ek(n){return n.filter(function(e){return gue.indexOf(e.name)===-1})}function iC(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function Aue(n){if(typeof n.webkitGetAsEntry!="function")return tk(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?o6(e):tk(n)}function s6(n){return n.reduce(function(e,t){return hue(e,Array.isArray(t)?s6(t):[t])},[])}function tk(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=d0(e);return Promise.resolve(t)}function bue(n){return Gh(this,void 0,void 0,function(){return Hh(this,function(e){return[2,n.isDirectory?o6(n):Mue(n)]})})}function o6(n){var e=n.createReader();return new Promise(function(t,r){var i=[];function s(){var o=this;e.readEntries(function(a){return Gh(o,void 0,void 0,function(){var l,c,u;return Hh(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=f.sent(),t(l),[3,4];case 3:return c=f.sent(),r(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(bue)),i.push(u),s(),f.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function Mue(n){return Gh(this,void 0,void 0,function(){return Hh(this,function(e){return[2,new Promise(function(t,r){n.file(function(i){var s=d0(i,n.fullPath);t(s)},function(i){r(i)})})]})})}var Cue=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",i=(n.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function nk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function rk(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(t),!0).forEach(function(r){a6(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nk(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function a6(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ik(n,e){return Rue(n)||Pue(n,e)||Tue(n,e)||Eue()}function Eue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tue(n,e){if(n){if(typeof n=="string")return sk(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sk(n,e)}}function sk(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Pue(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function Rue(n){if(Array.isArray(n))return n}var Due="file-invalid-type",Bue="file-too-large",Iue="file-too-small",Lue="too-many-files",kue=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:Due,message:"File type must be ".concat(t)}},ok=function(e){return{code:Bue,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},ak=function(e){return{code:Iue,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Oue={code:Lue,message:"Too many files"};function l6(n,e){var t=n.type==="application/x-moz-file"||Cue(n,e);return[t,t?null:kue(e)]}function c6(n,e,t){if(Vp(n.size))if(Vp(e)&&Vp(t)){if(n.size>t)return[!1,ok(t)];if(n.size<e)return[!1,ak(e)]}else{if(Vp(e)&&n.size<e)return[!1,ak(e)];if(Vp(t)&&n.size>t)return[!1,ok(t)]}return[!0,null]}function Vp(n){return n!=null}function Fue(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,s=n.multiple,o=n.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=l6(a,t),c=ik(l,1),u=c[0],f=c6(a,r,i),d=ik(f,1),p=d[0];return u&&p})}function a_(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function by(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function lk(n){n.preventDefault()}function Nue(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function Uue(n){return n.indexOf("Edge/")!==-1}function zue(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Nue(n)||Uue(n)}function zo(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!a_(r)&&a&&a.apply(void 0,[r].concat(s)),a_(r)})}}function Gue(){return"showOpenFilePicker"in window}function Hue(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return rk(rk({},e),{},a6({},t,[]))},{}):{}}]}function Vue(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function Wue(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var jue=["children"],$ue=["open"],Xue=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Jue=["refKey","onChange","onClick"];function Kue(n){return Zue(n)||Que(n)||u6(n)||Yue()}function Yue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Que(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Zue(n){if(Array.isArray(n))return sC(n)}function gA(n,e){return tfe(n)||efe(n,e)||u6(n,e)||que()}function que(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u6(n,e){if(n){if(typeof n=="string")return sC(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sC(n,e)}}function sC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function efe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function tfe(n){if(Array.isArray(n))return n}function ck(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function bn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(t),!0).forEach(function(r){oC(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ck(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function oC(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function l_(n,e){if(n==null)return{};var t=nfe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function nfe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var iT=B.forwardRef(function(n,e){var t=n.children,r=l_(n,jue),i=d6(r),s=i.open,o=l_(i,$ue);return B.useImperativeHandle(e,function(){return{open:s}},[s]),Q.createElement(B.Fragment,null,t(bn(bn({},o),{},{open:s})))});iT.displayName="Dropzone";var f6={disabled:!1,getFilesFromEvent:vue,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};iT.defaultProps=f6;iT.propTypes={children:dt.func,accept:dt.oneOfType([dt.string,dt.arrayOf(dt.string)]),multiple:dt.bool,preventDropOnDocument:dt.bool,noClick:dt.bool,noKeyboard:dt.bool,noDrag:dt.bool,noDragEventsBubbling:dt.bool,minSize:dt.number,maxSize:dt.number,maxFiles:dt.number,disabled:dt.bool,getFilesFromEvent:dt.func,onFileDialogCancel:dt.func,onFileDialogOpen:dt.func,useFsAccessApi:dt.bool,onDragEnter:dt.func,onDragLeave:dt.func,onDragOver:dt.func,onDrop:dt.func,onDropAccepted:dt.func,onDropRejected:dt.func,validator:dt.func};var aC={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function d6(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=bn(bn({},f6),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,f=e.onDragOver,d=e.onDrop,p=e.onDropAccepted,g=e.onDropRejected,v=e.onFileDialogCancel,y=e.onFileDialogOpen,x=e.useFsAccessApi,_=e.preventDropOnDocument,w=e.noClick,A=e.noKeyboard,M=e.noDrag,E=e.noDragEventsBubbling,R=e.validator,C=B.useMemo(function(){return typeof y=="function"?y:uk},[y]),T=B.useMemo(function(){return typeof v=="function"?v:uk},[v]),D=B.useRef(null),L=B.useRef(null),F=B.useReducer(rfe,aC),N=gA(F,2),k=N[0],H=N[1],W=k.isFocused,Y=k.isFileDialogActive,z=k.draggedFiles,U=B.useRef(typeof window<"u"&&window.isSecureContext&&x&&Gue()),V=function(){!U.current&&Y&&setTimeout(function(){if(L.current){var Z=L.current.files;Z.length||(H({type:"closeDialog"}),T())}},300)};B.useEffect(function(){return window.addEventListener("focus",V,!1),function(){window.removeEventListener("focus",V,!1)}},[L,Y,T,U]);var G=B.useRef([]),X=function(Z){D.current&&D.current.contains(Z.target)||(Z.preventDefault(),G.current=[])};B.useEffect(function(){return _&&(document.addEventListener("dragover",lk,!1),document.addEventListener("drop",X,!1)),function(){_&&(document.removeEventListener("dragover",lk),document.removeEventListener("drop",X))}},[D,_]);var te=B.useCallback(function(O){O.preventDefault(),O.persist(),Ae(O),G.current=[].concat(Kue(G.current),[O.target]),by(O)&&Promise.resolve(i(O)).then(function(Z){a_(O)&&!E||(H({draggedFiles:Z,isDragActive:!0,type:"setDraggedFiles"}),c&&c(O))})},[i,c,E]),re=B.useCallback(function(O){O.preventDefault(),O.persist(),Ae(O);var Z=by(O);if(Z&&O.dataTransfer)try{O.dataTransfer.dropEffect="copy"}catch{}return Z&&f&&f(O),!1},[f,E]),se=B.useCallback(function(O){O.preventDefault(),O.persist(),Ae(O);var Z=G.current.filter(function(Ce){return D.current&&D.current.contains(Ce)}),fe=Z.indexOf(O.target);fe!==-1&&Z.splice(fe,1),G.current=Z,!(Z.length>0)&&(H({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),by(O)&&u&&u(O))},[D,u,E]),q=B.useCallback(function(O,Z){var fe=[],Ce=[];O.forEach(function(Re){var Fe=l6(Re,t),Be=gA(Fe,2),ge=Be[0],We=Be[1],Ne=c6(Re,o,s),ze=gA(Ne,2),Ue=ze[0],Ie=ze[1],$e=R?R(Re):null;if(ge&&Ue&&!$e)fe.push(Re);else{var st=[We,Ie];$e&&(st=st.concat($e)),Ce.push({file:Re,errors:st.filter(function(vt){return vt})})}}),(!a&&fe.length>1||a&&l>=1&&fe.length>l)&&(fe.forEach(function(Re){Ce.push({file:Re,errors:[Oue]})}),fe.splice(0)),H({acceptedFiles:fe,fileRejections:Ce,type:"setFiles"}),d&&d(fe,Ce,Z),Ce.length>0&&g&&g(Ce,Z),fe.length>0&&p&&p(fe,Z)},[H,a,t,o,s,l,d,p,g,R]),oe=B.useCallback(function(O){O.preventDefault(),O.persist(),Ae(O),G.current=[],by(O)&&Promise.resolve(i(O)).then(function(Z){a_(O)&&!E||q(Z,O)}),H({type:"reset"})},[i,q,E]),de=B.useCallback(function(){if(U.current){H({type:"openDialog"}),C();var O={multiple:a,types:Hue(t)};window.showOpenFilePicker(O).then(function(Z){return i(Z)}).then(function(Z){q(Z,null),H({type:"closeDialog"})}).catch(function(Z){Vue(Z)?(T(Z),H({type:"closeDialog"})):Wue(Z)&&(U.current=!1,L.current&&(L.current.value=null,L.current.click()))});return}L.current&&(H({type:"openDialog"}),C(),L.current.value=null,L.current.click())},[H,C,T,x,q,t,a]),Te=B.useCallback(function(O){!D.current||!D.current.isEqualNode(O.target)||(O.key===" "||O.key==="Enter"||O.keyCode===32||O.keyCode===13)&&(O.preventDefault(),de())},[D,de]),ye=B.useCallback(function(){H({type:"focus"})},[]),Se=B.useCallback(function(){H({type:"blur"})},[]),ne=B.useCallback(function(){w||(zue()?setTimeout(de,0):de())},[w,de]),le=function(Z){return r?null:Z},Me=function(Z){return A?null:le(Z)},Pe=function(Z){return M?null:le(Z)},Ae=function(Z){E&&Z.stopPropagation()},je=B.useMemo(function(){return function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=O.refKey,fe=Z===void 0?"ref":Z,Ce=O.role,Re=O.onKeyDown,Fe=O.onFocus,Be=O.onBlur,ge=O.onClick,We=O.onDragEnter,Ne=O.onDragOver,ze=O.onDragLeave,Ue=O.onDrop,Ie=l_(O,Xue);return bn(bn(oC({onKeyDown:Me(zo(Re,Te)),onFocus:Me(zo(Fe,ye)),onBlur:Me(zo(Be,Se)),onClick:le(zo(ge,ne)),onDragEnter:Pe(zo(We,te)),onDragOver:Pe(zo(Ne,re)),onDragLeave:Pe(zo(ze,se)),onDrop:Pe(zo(Ue,oe)),role:typeof Ce=="string"&&Ce!==""?Ce:"button"},fe,D),!r&&!A?{tabIndex:0}:{}),Ie)}},[D,Te,ye,Se,ne,te,re,se,oe,A,M,r]),we=B.useCallback(function(O){O.stopPropagation()},[]),Le=B.useMemo(function(){return function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Z=O.refKey,fe=Z===void 0?"ref":Z,Ce=O.onChange,Re=O.onClick,Fe=l_(O,Jue),Be=oC({accept:t,multiple:a,type:"file",style:{display:"none"},onChange:le(zo(Ce,oe)),onClick:le(zo(Re,we)),tabIndex:-1},fe,L);return bn(bn({},Be),Fe)}},[L,t,a,oe,r]),Oe=z.length,xe=Oe>0&&Fue({files:z,accept:t,minSize:o,maxSize:s,multiple:a,maxFiles:l}),j=Oe>0&&!xe;return bn(bn({},k),{},{isDragAccept:xe,isDragReject:j,isFocused:W&&!r,getRootProps:je,getInputProps:Le,rootRef:D,inputRef:L,open:le(de)})}function rfe(n,e){switch(e.type){case"focus":return bn(bn({},n),{},{isFocused:!0});case"blur":return bn(bn({},n),{},{isFocused:!1});case"openDialog":return bn(bn({},aC),{},{isFileDialogActive:!0});case"closeDialog":return bn(bn({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,r=e.draggedFiles;return bn(bn({},n),{},{draggedFiles:r,isDragActive:t});case"setFiles":return bn(bn({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return bn({},aC);default:return n}}function uk(){}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var ife=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var sfe=ife;function fk(n){return sfe(n)===!0&&Object.prototype.toString.call(n)==="[object Object]"}var h6=function(e){var t,r;return!(fk(e)===!1||(t=e.constructor,typeof t!="function")||(r=t.prototype,fk(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var ofe=h6,sT=function(e){return ofe(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var afe=function(e,t,r){for(var i in e)if(t.call(r,e[i],i,e)===!1)break},lfe=sT,cfe=afe;function p6(n,e){for(var t=arguments.length,r=0;++r<t;){var i=arguments[r];lC(i)&&cfe(i,ufe,n)}return n}function ufe(n,e){if(ffe(e)){var t=this[e];lC(n)&&lC(t)?p6(t,n):this[e]=n}}function lC(n){return lfe(n)&&!Array.isArray(n)}function ffe(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var dfe=p6;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var hfe=function(n,e,t,r,i){if(!pfe(n)||!e)return n;if(e=My(e),t&&(e+="."+My(t)),r&&(e+="."+My(r)),i&&(e+="."+My(i)),e in n)return n[e];for(var s=e.split("."),o=s.length,a=-1;n&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];n=n[l]}return n};function pfe(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function My(n){return n?Array.isArray(n)?n.join("."):n:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var mfe=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,r=Object(n),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var c=a[l];t.call(o,c)&&(r[c]=o[c])}return r},gfe=sT,vfe=mfe,yfe=Object.assign||function(n){if(n===null||typeof n>"u")throw new TypeError("Cannot convert undefined or null to object");dk(n)||(n={});for(var e=1;e<arguments.length;e++){var t=arguments[e];xfe(t)&&(t=wfe(t)),dk(t)&&(_fe(n,t),vfe(n,t))}return n};function _fe(n,e){for(var t in e)Sfe(e,t)&&(n[t]=e[t])}function xfe(n){return n&&typeof n=="string"}function wfe(n){var e={};for(var t in n)e[t]=n[t];return e}function dk(n){return n&&typeof n=="object"||gfe(n)}function Sfe(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Afe=yfe,bfe=function(n,e,t){if(typeof n!="string")throw new TypeError("expected a string");typeof e=="function"&&(t=e,e=null),typeof e=="string"&&(e={sep:e});var r=Afe({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],c=r.sep,u=n.length,f=-1,d;function p(){if(s&&a.length)return s[a[a.length-1]]}for(;++f<u;){var g=n[f],v=n[f+1],y={val:g,idx:f,arr:l,str:n};if(o.push(y),g==="\\"){y.val=Cfe(r,n,f)===!0?g+v:v,y.escaped=!0,typeof t=="function"&&t(y),l[l.length-1]+=y.val,f++;continue}if(s&&s[g]){a.push(g);var x=p(),_=f+1;if(n.indexOf(x,_+1)!==-1)for(;a.length&&_<u;){var w=n[++_];if(w==="\\"){w++;continue}if(i.indexOf(w)!==-1){_=cC(n,w,_+1);continue}if(x=p(),a.length&&n.indexOf(x,_+1)===-1)break;if(s[w]){a.push(w);continue}x===w&&a.pop()}if(d=_,d===-1){l[l.length-1]+=g;continue}g=n.slice(f,d+1),y.val=g,y.idx=f=d}if(i.indexOf(g)!==-1){if(d=cC(n,g,f+1),d===-1){l[l.length-1]+=g;continue}Mfe(g,r)===!0?g=n.slice(f,d+1):g=n.slice(f+1,d),y.val=g,y.idx=f=d}if(typeof t=="function"&&(t(y,o),g=y.val,f=y.idx),y.val===c&&y.split!==!1){l.push("");continue}l[l.length-1]+=y.val}return l};function cC(n,e,t,r){var i=n.indexOf(e,t);return n.charAt(i-1)==="\\"?cC(n,e,i+1):i}function Mfe(n,e){return e.keepDoubleQuotes===!0&&n==='"'||e.keepSingleQuotes===!0&&n==="'"?!0:e.keepQuotes}function Cfe(n,e,t){return typeof n.keepEscaping=="function"?n.keepEscaping(e,t):n.keepEscaping===!0||e[t+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Efe=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},hk=Efe,Tfe=function(e){hk(e)||(e={});for(var t=arguments.length,r=1;r<t;r++){var i=arguments[r];hk(i)&&Pfe(e,i)}return e};function Pfe(n,e){for(var t in e)Rfe(e,t)&&(n[t]=e[t])}function Rfe(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Dfe=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Bfe=bfe,Ife=Tfe,pk=h6,mk=Dfe,Lfe=function(n,e,t){if(!mk(n)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return n;for(var r=Bfe(e,{sep:".",brackets:!0}).filter(kfe),i=r.length,s=-1,o=n;++s<i;){var a=r[s];if(s!==i-1){mk(o[a])||(o[a]={}),o=o[a];continue}pk(o[a])&&pk(t)?o[a]=Ife({},o[a],t):o[a]=t}return n};function kfe(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var vA=sT,gk=dfe,Ofe=hfe,vk=Lfe,Ffe=function(e,t,r){if(!vA(e))throw new TypeError("expected an object");if(typeof t!="string"||r==null)return gk.apply(null,arguments);if(typeof r=="string")return vk(e,t,r),e;var i=Ofe(e,t);return vA(r)&&vA(i)&&(r=gk({},i,r)),vk(e,t,r),e};const oT=(...n)=>n.filter(Boolean).join(".");function Nfe(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function Ufe(n,e){return Object.entries(vle(n,e)).reduce((t,[,{value:r,disabled:i,key:s}])=>(t[s]=i?void 0:r,t),{})}function zfe(n,e){const t=B.useRef();return(e?mg:t0)(n,t.current)||(t.current=n),t.current}function m6(n,e){return B.useMemo(n,zfe(e,!0))}function Gfe(n){const e=B.useRef(null),t=B.useRef(null),r=B.useRef(!0);return B.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),B.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=t.current.getBoundingClientRect();return s.style.height=a+"px",n||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[n]),{wrapperRef:e,contentRef:t}}const Hfe=n=>{const[e,t]=B.useState(n.getVisiblePaths());return B.useEffect(()=>{t(n.getVisiblePaths());const r=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:t0});return()=>r()},[n]),e};function Vfe(n,e,t){return n.useStore(i=>{const s=ht(ht({},t),i.data);return Ufe(s,e)},t0)}function g6(n=3){const e=B.useRef(null),t=B.useRef(null),[r,i]=B.useState(!1),s=B.useCallback(()=>i(!0),[]),o=B.useCallback(()=>i(!1),[]);return B.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:c}=e.current.getBoundingClientRect(),{height:u}=t.current.getBoundingClientRect(),f=a+u>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=c+"px",f==="down"?t.current.style.top=a+n+"px":t.current.style.bottom=window.innerHeight-l+n+"px"}},[n,r]),{popinRef:e,wrapperRef:t,shown:r,show:s,hide:o}}eue([tue]);const Wfe={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};Oi.extend({color:()=>n=>vi(n).isValid()});const jfe=n=>Oi().color().test(n);function v6(n,{format:e,hasAlpha:t,isString:r}){const i=Wfe[e]+(r&&e!=="hex"?"String":""),s=n[i]();return typeof s=="object"&&!t?yle(s,["a"]):s}const y6=(n,e)=>{const t=vi(n);if(!t.isValid())throw Error("Invalid color");return v6(t,e)},$fe=(n,e)=>v6(vi(n),ht(ht({},e),{},{isString:!0,format:"hex"})),Xfe=({value:n})=>{const e=qce(n),t=e==="name"?"hex":e,r=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),i={format:t,hasAlpha:r,isString:typeof n=="string"};return{value:y6(n,i),settings:i}};var Jfe=Object.freeze({__proto__:null,schema:jfe,sanitize:y6,format:$fe,normalize:Xfe});const Kfe=ut("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),Yfe=ut("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Qfe=ut("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function yk(n,e){return e!=="rgb"?vi(n).toRgb():n}function Zfe({value:n,displayValue:e,settings:t,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=ii(),{format:o,hasAlpha:a}=t,{popinRef:l,wrapperRef:c,shown:u,show:f,hide:d}=g6(),p=B.useRef(0),[g,v]=B.useState(()=>yk(n,o)),y=a?lue:uue,x=()=>{v(yk(n,o)),f(),i()},_=()=>{d(),s(),window.clearTimeout(p.current)},w=()=>{p.current=window.setTimeout(_,500)};return B.useEffect(()=>()=>window.clearTimeout(p.current),[]),Q.createElement(Q.Fragment,null,Q.createElement(Kfe,{ref:l,active:u,onClick:()=>x(),style:{color:e}}),u&&Q.createElement(Q2,null,Q.createElement(UG,{onPointerUp:_}),Q.createElement(Qfe,{ref:c,onMouseEnter:()=>window.clearTimeout(p.current),onMouseLeave:A=>A.buttons===0&&w()},Q.createElement(y,{color:g,onChange:r}))))}function qfe(){const{value:n,displayValue:e,label:t,onChange:r,onUpdate:i,settings:s}=ii();return Q.createElement(to,{input:!0},Q.createElement(Ro,null,t),Q.createElement(Yfe,null,Q.createElement(Zfe,{value:n,displayValue:e,onChange:r,onUpdate:i,settings:s}),Q.createElement(Y2,{value:e,onChange:r,onUpdate:i})))}var ede=ht({component:qfe},Jfe);function tde(){const{label:n,displayValue:e,onUpdate:t,settings:r}=ii();return Q.createElement(to,{input:!0},Q.createElement(Ro,null,n),Q.createElement(q2,{value:e,settings:r,onUpdate:t}))}var nde=ht({component:tde},XG(["x","y","z"]));const rde=ut("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),ide=ut("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function sde({value:n,settings:e,onUpdate:t}){const r=B.useRef(),i=B.useRef(0),s=B.useRef(0),o=B.useRef(1),[a,l]=B.useState(!1),[c,u]=B.useState(!1),[f,d]=GG(),p=B.useRef(null),g=B.useRef(null);B.useLayoutEffect(()=>{if(a){const{top:F,left:N,width:k,height:H}=p.current.getBoundingClientRect();g.current.style.left=N+k/2+"px",g.current.style.top=F+H/2+"px"}},[a]);const{keys:[v,y],joystick:x}=e,_=x==="invertY"?1:-1,{[v]:{step:w},[y]:{step:A}}=e,M=Ua("sizes","joystickWidth"),E=Ua("sizes","joystickHeight"),R=parseFloat(M)*.8/2,C=parseFloat(E)*.8/2,T=B.useCallback(()=>{r.current||(u(!0),i.current&&d({x:i.current*R}),s.current&&d({y:s.current*-C}),r.current=window.setInterval(()=>{t(F=>{const N=w*i.current*o.current,k=_*A*s.current*o.current;return Array.isArray(F)?{[v]:F[0]+N,[y]:F[1]+k}:{[v]:F[v]+N,[y]:F[y]+k}})},16))},[R,C,t,d,w,A,v,y,_]),D=B.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,u(!1)},[]);B.useEffect(()=>{function F(N){o.current=MG(N)}return window.addEventListener("keydown",F),window.addEventListener("keyup",F),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",F),window.removeEventListener("keyup",F)}},[]);const L=u0(({first:F,active:N,delta:[k,H],movement:[W,Y]})=>{F&&l(!0);const z=xc(W,-R,R),U=xc(Y,-C,C);i.current=Math.abs(W)>Math.abs(z)?Math.sign(W-z):0,s.current=Math.abs(Y)>Math.abs(U)?Math.sign(U-Y):0;let V=n[v],G=n[y];N?(i.current||(V+=k*w*o.current,d({x:z})),s.current||(G-=_*H*A*o.current,d({y:U})),i.current||s.current?T():D(),t({[v]:V,[y]:G})):(l(!1),i.current=0,s.current=0,d({x:0,y:0}),D())});return Q.createElement(rde,Hn({ref:p},L()),a&&Q.createElement(Q2,null,Q.createElement(ide,{ref:g,isOutOfBounds:c},Q.createElement("div",null),Q.createElement("span",{ref:f}))))}const ode=ut("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function ade(){const{label:n,displayValue:e,onUpdate:t,settings:r}=ii();return Q.createElement(to,{input:!0},Q.createElement(Ro,null,n),Q.createElement(ode,{withJoystick:!!r.joystick},r.joystick&&Q.createElement(sde,{value:e,settings:r,onUpdate:t}),Q.createElement(q2,{value:e,settings:r,onUpdate:t})))}const lde=["joystick"],_6=XG(["x","y"]),cde=n=>{let{joystick:e=!0}=n,t=tn(n,lde);const{value:r,settings:i}=_6.normalize(t);return{value:r,settings:ht(ht({},i),{},{joystick:e})}};var ude=ht(ht({component:ade},_6),{},{normalize:cde});const fde=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob |File].")}},dde=(n,e)=>typeof e=="object"&&"image"in e,hde=({image:n})=>({value:n});var pde=Object.freeze({__proto__:null,sanitize:fde,schema:dde,normalize:hde});const mde=ut("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),gde=ut("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),vde=ut("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),yde=ut("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),_de=ut("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),xde=ut("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function wde(){const{label:n,value:e,onUpdate:t,disabled:r}=ii(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=g6(),c=B.useCallback(g=>{g.length&&t(g[0])},[t]),u=B.useCallback(g=>{g.stopPropagation(),t(void 0)},[t]),{getRootProps:f,getInputProps:d,isDragAccept:p}=d6({maxFiles:1,accept:"image/*",onDrop:c,disabled:r});return Q.createElement(to,{input:!0},Q.createElement(Ro,null,n),Q.createElement(mde,null,Q.createElement(vde,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&Q.createElement(Q2,null,Q.createElement(UG,{onPointerUp:l,style:{cursor:"pointer"}}),Q.createElement(yde,{ref:s,style:{backgroundImage:`url(${e})`}})),Q.createElement(gde,f({isDragAccept:p}),Q.createElement("input",d()),Q.createElement(_de,null,p?"drop image":"click or drop")),Q.createElement(xde,{onClick:u,disabled:!e})))}var Sde=ht({component:wde},pde);const _k=Oi().number(),Ade=(n,e)=>Oi().array().length(2).every.number().test(n)&&Oi().schema({min:_k,max:_k}).test(e),c_=n=>({min:n[0],max:n[1]}),x6=(n,{bounds:[e,t]},r)=>{const i=Array.isArray(n)?c_(n):n,s={min:r[0],max:r[1]},{min:o,max:a}=ht(ht({},s),i);return[xc(Number(o),e,Math.max(e,a)),xc(Number(a),Math.min(t,o),t)]},bde=({value:n,min:e,max:t})=>{const r={min:e,max:t},i=$G(c_(n),{min:r,max:r}),s=[e,t],o=ht(ht({},i),{},{bounds:s});return{value:x6(c_(n),o,n),settings:o}};var Mde=Object.freeze({__proto__:null,schema:Ade,format:c_,sanitize:x6,normalize:bde});const Cde=["value","bounds","onDrag"],Ede=["bounds"],Tde=ut("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function Pde(n){let{value:e,bounds:[t,r],onDrag:i}=n,s=tn(n,Cde);const o=B.useRef(null),a=B.useRef(null),l=B.useRef(null),c=B.useRef(0),u=Ua("sizes","scrubberWidth"),f=u0(({event:g,first:v,xy:[y],movement:[x],memo:_={}})=>{if(v){const{width:A,left:M}=o.current.getBoundingClientRect();c.current=A-parseFloat(u);const E=(g==null?void 0:g.target)===a.current||(g==null?void 0:g.target)===l.current;_.pos=i_((y-M)/A,t,r);const R=Math.abs(_.pos-e.min)-Math.abs(_.pos-e.max);_.key=R<0||R===0&&_.pos<=e.min?"min":"max",E&&(_.pos=e[_.key])}const w=_.pos+i_(x/c.current,0,r-t);return i({[_.key]:oce(w,s[_.key])}),_}),d=`calc(${r_(e.min,t,r)} * (100% - ${u} - 8px) + 4px)`,p=`calc(${1-r_(e.max,t,r)} * (100% - ${u} - 8px) + 4px)`;return Q.createElement(VG,Hn({ref:o},f()),Q.createElement(HG,null,Q.createElement(WG,{style:{left:d,right:p}})),Q.createElement(QM,{position:"left",ref:a,style:{left:d}}),Q.createElement(QM,{position:"right",ref:l,style:{right:p}}))}function Rde(){const{label:n,displayValue:e,onUpdate:t,settings:r}=ii(),i=tn(r,Ede);return Q.createElement(Q.Fragment,null,Q.createElement(to,{input:!0},Q.createElement(Ro,null,n),Q.createElement(Tde,null,Q.createElement(Pde,Hn({value:e},r,{onDrag:t})),Q.createElement(q2,{value:e,settings:i,onUpdate:t,innerLabelTrim:0}))))}var Dde=ht({component:Rde},Mde);const Bde=()=>{const n=new Map;return{on:(e,t)=>{let r=n.get(e);r===void 0&&(r=new Set,n.set(e,r)),r.add(t)},off:(e,t)=>{const r=n.get(e);r!==void 0&&(r.delete(t),r.size===0&&n.delete(e))},emit:(e,...t)=>{const r=n.get(e);if(r!==void 0)for(const i of r)i(...t)}}},Ide=["type","value"],Lde=["onChange","transient","onEditStart","onEditEnd"],kde=function(){const e=o2(QZ(()=>({data:{}}))),t=Bde();this.storeId=gle(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([u,f])=>{f.render&&a.some(d=>d.indexOf(u)===0)&&!f.render(this.get)&&l.push(u+".")});const c=[];return i.forEach(u=>{u in o&&o[u].__refCount>0&&l.every(f=>u.indexOf(f)===-1)&&(!o[u].render||o[u].render(this.get))&&c.push(u)}),c},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(c=>{if(c in l){const u=l[c];u.__refCount--,u.__refCount===0&&u.type in wo&&delete l[c]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,f])=>{let d=c[u];if(d){const{type:p,value:g}=f,v=tn(f,Ide);p!==d.type?Pa(Mn.INPUT_TYPE_OVERRIDE,p):((d.__refCount===0||a)&&Object.assign(d,v),d.__refCount++)}else c[u]=ht(ht({},f),{},{__refCount:1})}),{data:c}})},this.setValueAtPath=(o,a,l)=>{e.setState(c=>{const u=c.data;return VL(u[o],a,o,this,l),{data:u}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].settings=ht(ht({},c[o].settings),a),{data:c}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].disabled=a,{data:c}})},this.set=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,f])=>{try{VL(c[u],f,void 0,void 0,a)}catch{}}),{data:c}})},this.getInput=o=>{try{return this.getData()[o]}catch{Pa(Mn.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{t.emit(`onEditStart:${o}`,this.get(o),o,ht(ht({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{t.emit(`onEditEnd:${o}`,this.get(o),o,ht(ht({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return t.on(l,a),()=>t.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return t.on(l,a),()=>t.off(l,a)};const s=(o,a,l)=>{const c={};return Object.entries(o).forEach(([u,f])=>{if(u==="")return Pa(Mn.EMPTY_KEY);let d=oT(a,u);if(f.type===wo.FOLDER){const p=s(f.schema,d,l);Object.assign(c,p),d in r||(r[d]=f.settings)}else if(u in l)Pa(Mn.DUPLICATE_KEYS,u,d,l[u].path);else{const p=ble(f,u,d,c);if(p){const{type:g,options:v,input:y}=p,{onChange:x,transient:_,onEditStart:w,onEditEnd:A}=v,M=tn(v,Lde);c[d]=ht(ht(ht({type:g},M),y),{},{fromPanel:!0}),l[u]={path:d,onChange:x,transient:_,onEditStart:w,onEditEnd:A}}else Pa(Mn.UNKNOWN_INPUT,d,f)}}),c};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}},w6=new kde,Ode={collapsed:!1};function Fde(n,e){return{type:wo.FOLDER,schema:n,settings:ht(ht({},Ode),e)}}const xk=n=>"__levaInput"in n,Nde=(n,e)=>{const t={},r=e?e.toLowerCase():null;return n.forEach(i=>{const[s,o]=Nfe(i);(!r||s.toLowerCase().indexOf(r)>-1)&&Ffe(t,o,{[s]:{__levaInput:!0,path:i}})}),t},Ude=["type","label","path","valueKey","value","settings","setValue","disabled"];function zde(n){let{type:e,label:t,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=n,c=tn(n,Ude);const{displayValue:u,onChange:f,onUpdate:d}=zG({type:e,value:s,settings:o,setValue:a}),p=sf[e].component;return p?Q.createElement(RG.Provider,{value:ht({key:i,path:r,id:""+r,label:t,displayValue:u,value:s,onChange:f,onUpdate:d,settings:o,setValue:a,disabled:l},c)},Q.createElement(Wle,{disabled:l},Q.createElement(p,null))):(Pa(Mn.NO_COMPONENT_FOR_TYPE,e,r),null)}const Gde=ut("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function Hde({onClick:n,settings:e,label:t}){const r=c0();return Q.createElement(to,null,Q.createElement(Gde,{disabled:e.disabled,onClick:()=>n(r.get)},t))}const Vde=ut("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),Wde=ut("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),jde=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(t=e.label),r=e.opts),{label:t,opts:r}};function $de(n){const{label:e,opts:t}=jde(n),r=c0();return Q.createElement(to,{input:!!e},e&&Q.createElement(Ro,null,e),Q.createElement(Vde,null,Object.entries(t).map(([i,s])=>Q.createElement(Wde,{key:i,onClick:()=>s(r.get)},i))))}const Xde=ut("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),S6=100;function Jde(n,e){n.push(e),n.length>S6&&n.shift()}const Kde=B.forwardRef(function({initialValue:n},e){const t=Ua("colors","highlight3"),r=Ua("colors","elevation2"),i=Ua("colors","highlight1"),[s,o]=B.useMemo(()=>[vi(i).alpha(.4).toRgbString(),vi(i).alpha(.1).toRgbString()],[i]),a=B.useRef([n]),l=B.useRef(n),c=B.useRef(n),u=B.useRef(),f=B.useCallback((g,v)=>{if(!g)return;const{width:y,height:x}=g,_=new Path2D,w=y/S6,A=x*.05;for(let R=0;R<a.current.length;R++){const C=r_(a.current[R],l.current,c.current),T=w*R,D=x-C*(x-A*2)-A;_.lineTo(T,D)}v.clearRect(0,0,y,x);const M=new Path2D(_);M.lineTo(w*(a.current.length+1),x),M.lineTo(0,x),M.lineTo(0,0);const E=v.createLinearGradient(0,0,0,x);E.addColorStop(0,s),E.addColorStop(1,o),v.fillStyle=E,v.fill(M),v.strokeStyle=r,v.lineJoin="round",v.lineWidth=14,v.stroke(_),v.strokeStyle=t,v.lineWidth=2,v.stroke(_)},[t,r,s,o]),[d,p]=qle(f);return B.useImperativeHandle(e,()=>({frame:g=>{(l.current===void 0||g<l.current)&&(l.current=g),(c.current===void 0||g>c.current)&&(c.current=g),Jde(a.current,g),u.current=requestAnimationFrame(()=>f(d.current,p.current))}}),[d,p,f]),B.useEffect(()=>()=>cancelAnimationFrame(u.current),[]),Q.createElement(Xde,{ref:d})}),wk=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),Yde=B.forwardRef(function({initialValue:n},e){const[t,r]=B.useState(wk(n));return B.useImperativeHandle(e,()=>({frame:i=>r(wk(i))}),[]),Q.createElement("div",null,t)});function Sk(n){return typeof n=="function"?n():n.current}function Qde({label:n,objectOrFn:e,settings:t}){const r=B.useRef(),i=B.useRef(Sk(e));return B.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(Sk(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),Q.createElement(to,{input:!0},Q.createElement(Ro,{align:"top"},n),t.graph?Q.createElement(Kde,{ref:r,initialValue:i.current}):Q.createElement(Yde,{ref:r,initialValue:i.current}))}const Zde=["type","label","key"],qde={[wo.BUTTON]:Hde,[wo.BUTTON_GROUP]:$de,[wo.MONITOR]:Qde},ehe=Q.memo(({path:n})=>{const[e,{set:t,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=tce(n);if(!e)return null;const{type:l,label:c,key:u}=e,f=tn(e,Zde);if(l in wo){const d=qde[l];return Q.createElement(d,Hn({label:c,path:n},f))}return l in sf?Q.createElement(zde,Hn({key:s+n,type:l,label:c,storeId:s,path:n,valueKey:u,setValue:t,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},f)):(lle(Mn.UNSUPPORTED_INPUT,l,n),null)});function the({toggle:n,toggled:e,name:t}){return Q.createElement(Gle,{onClick:()=>n()},Q.createElement(Z2,{toggled:e}),Q.createElement("div",null,t))}const nhe=({name:n,path:e,tree:t})=>{const r=c0(),i=oT(e,n),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=B.useState(!s),c=B.useRef(null),u=Ua("colors","folderWidgetColor"),f=Ua("colors","folderTextColor");return B.useLayoutEffect(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",o||u),c.current.style.setProperty("--leva-colors-folderTextColor",o||f)},[o,u,f]),Q.createElement(s_,{ref:c},Q.createElement(the,{name:n,toggled:a,toggle:()=>l(d=>!d)}),Q.createElement(A6,{parent:i,tree:t,toggled:a}))},A6=Q.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=Gfe(s),l=c0(),c=([f,d])=>{var p;return(xk(d)?(p=l.getInput(d.path))===null||p===void 0?void 0:p.order:l.getFolderSettings(oT(r,f)).order)||0},u=Object.entries(i).sort((f,d)=>c(f)-c(d));return Q.createElement(KM,{ref:o,isRoot:n,fill:e,flat:t},Q.createElement(OG,{ref:a,isRoot:n,toggled:s},u.map(([f,d])=>xk(d)?Q.createElement(ehe,{key:d.path,valueKey:d.valueKey,path:d.path}):Q.createElement(nhe,{key:f,name:f,path:r,tree:d}))))}),rhe=ut("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${NG}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),b6=40,u_=ut("i",{$flexCenter:"",width:b6,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),ihe=ut("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),she=ut("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${u_}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),ohe=ut("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),ahe=ut("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:b6}}}}),lhe=Q.forwardRef(({setFilter:n,toggle:e},t)=>{const[r,i]=B.useState(""),s=B.useMemo(()=>bG(n,250),[n]),o=()=>{n(""),i("")},a=l=>{const c=l.currentTarget.value;e(!0),i(c)};return B.useEffect(()=>{s(r)},[r,s]),Q.createElement(Q.Fragment,null,Q.createElement(ohe,{ref:t,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),Q.createElement(u_,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function che({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:c}){const[u,f]=B.useState(!1),d=B.useRef(null);B.useEffect(()=>{var g,v;u?(g=d.current)===null||g===void 0||g.focus():(v=d.current)===null||v===void 0||v.blur()},[u]);const p=u0(({offset:[g,v],first:y,last:x})=>{e({x:g,y:v}),y&&t({x:g,y:v}),x&&r({x:g,y:v})},{filterTaps:!0,from:({offset:[g,v]})=>[(c==null?void 0:c.x)||g,(c==null?void 0:c.y)||v]});return B.useEffect(()=>{const g=v=>{v.key==="L"&&v.shiftKey&&v.metaKey&&f(y=>!y)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[]),Q.createElement(Q.Fragment,null,Q.createElement(ihe,{mode:a?"drag":void 0},Q.createElement(u_,{active:!s,onClick:()=>i()},Q.createElement(Z2,{toggled:s,width:12,height:8})),Q.createElement(ahe,Hn({},a?p():{},{drag:a,filterEnabled:l}),o===void 0&&a?Q.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},Q.createElement("circle",{cx:"2",cy:"2",r:"2"}),Q.createElement("circle",{cx:"14",cy:"2",r:"2"}),Q.createElement("circle",{cx:"26",cy:"2",r:"2"}),Q.createElement("circle",{cx:"2",cy:"12",r:"2"}),Q.createElement("circle",{cx:"14",cy:"12",r:"2"}),Q.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&Q.createElement(u_,{active:u,onClick:()=>f(g=>!g)},Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},Q.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),Q.createElement(she,{toggled:u},Q.createElement(lhe,{ref:d,setFilter:n,toggle:i})))}const uhe=["store","hidden","theme","collapsed"];function fhe(n){let{store:e,hidden:t=!1,theme:r,collapsed:i=!1}=n,s=tn(n,uhe);const o=m6(()=>kle(r),[r]),[a,l]=B.useState(!i),c=typeof i=="object"?!i.collapsed:a,u=B.useMemo(()=>typeof i=="object"?f=>{typeof f=="function"?i.onChange(!f(!i.collapsed)):i.onChange(!f)}:l,[i]);return!e||t?null:Q.createElement(K2.Provider,{value:o},Q.createElement(dhe,Hn({store:e},s,{toggled:c,setToggle:u,rootClass:o.className})))}const dhe=Q.memo(({store:n,rootClass:e,fill:t=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:c})=>{var u,f;const d=Hfe(n),[p,g]=B.useState(""),v=B.useMemo(()=>Nde(d,p),[d,p]),[y,x]=GG(),_=i||d.length>0,w=typeof o=="object"&&o.title||void 0,A=typeof o=="object"&&(u=o.drag)!==null&&u!==void 0?u:!0,M=typeof o=="object"&&(f=o.filter)!==null&&f!==void 0?f:!0,E=typeof o=="object"&&o.position||void 0,R=typeof o=="object"&&o.onDrag||void 0,C=typeof o=="object"&&o.onDragStart||void 0,T=typeof o=="object"&&o.onDragEnd||void 0;return Q.useEffect(()=>{x({x:E==null?void 0:E.x,y:E==null?void 0:E.y})},[E,x]),Lle(),Q.createElement(BG.Provider,{value:{hideCopyButton:a}},Q.createElement(rhe,{ref:y,className:e,fill:t,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:_?"block":"none"}},o&&Q.createElement(che,{onDrag:D=>{x(D),R==null||R(D)},onDragStart:D=>C==null?void 0:C(D),onDragEnd:D=>T==null?void 0:T(D),setFilter:g,toggle:D=>c(L=>D??!L),toggled:l,title:w,drag:A,filterEnabled:M,from:E}),_&&Q.createElement(DG.Provider,{value:n},Q.createElement(A6,{isRoot:!0,fill:t,flat:r,tree:v,toggled:l}))))}),hhe=["isRoot"];let f_=!1,Mu=null;function M6(n){let{isRoot:e=!1}=n,t=tn(n,hhe);return B.useEffect(()=>(f_=!0,!e&&Mu&&(Mu.remove(),Mu=null),()=>{e||(f_=!1)}),[e]),Q.createElement(fhe,Hn({store:w6},t))}function phe(n){B.useEffect(()=>{n&&!f_&&(Mu||(Mu=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(Mu),Cle(Q.createElement(M6,{isRoot:!0}),Mu))),f_=!0)},[n])}function mhe(n,e,t,r,i){let s,o,a,l,c;return typeof n=="string"?(o=n,s=e,Array.isArray(t)?c=t:t&&("store"in t?(l=t,c=r):(a=t,Array.isArray(r)?c=r:(l=r,c=i)))):(s=n,Array.isArray(e)?c=e:(l=e,c=t)),{schema:s,folderName:o,folderSettings:a,hookSettings:l,deps:c||[]}}function ghe(n,e,t,r,i){const{folderName:s,schema:o,folderSettings:a,hookSettings:l,deps:c}=mhe(n,e,t,r,i),u=typeof o=="function",f=B.useRef(!1),d=B.useRef(!0),p=m6(()=>{f.current=!0;const L=typeof o=="function"?o():o;return s?{[s]:Fde(L,a)}:L},c),g=!(l!=null&&l.store);phe(g);const[v]=B.useState(()=>(l==null?void 0:l.store)||w6),[y,x]=B.useMemo(()=>v.getDataFromSchema(p),[v,p]),[_,w,A,M,E]=B.useMemo(()=>{const L=[],F=[],N={},k={},H={};return Object.values(x).forEach(({path:W,onChange:Y,onEditStart:z,onEditEnd:U,transient:V})=>{L.push(W),Y?(N[W]=Y,V||F.push(W)):F.push(W),z&&(k[W]=z),U&&(H[W]=U)}),[L,F,N,k,H]},[x]),R=B.useMemo(()=>v.orderPaths(_),[_,v]),C=Vfe(v,w,y),T=B.useCallback(L=>{const F=Object.entries(L).reduce((N,[k,H])=>Object.assign(N,{[x[k].path]:H}),{});v.set(F,!1)},[v,x]),D=B.useCallback(L=>v.get(x[L].path),[v,x]);return B.useEffect(()=>{const L=!d.current&&f.current;return v.addData(y,L),d.current=!1,f.current=!1,()=>v.disposePaths(R)},[v,R,y]),B.useEffect(()=>{const L=[];return Object.entries(A).forEach(([F,N])=>{N(v.get(F),F,ht({initial:!0,get:v.get},v.getInput(F)));const k=v.useStore.subscribe(H=>{const W=H.data[F];return[W.disabled?void 0:W.value,W]},([H,W])=>N(H,F,ht({initial:!1,get:v.get},W)),{equalityFn:t0});L.push(k)}),()=>L.forEach(F=>F())},[v,A]),B.useEffect(()=>{const L=[];return Object.entries(M).forEach(([F,N])=>L.push(v.subscribeToEditStart(F,N))),Object.entries(E).forEach(([F,N])=>L.push(v.subscribeToEditEnd(F,N))),()=>L.forEach(F=>F())},[M,E,v]),u?[C,T,D]:C}al(Mo.SELECT,yce);al(Mo.IMAGE,Sde);al(Mo.NUMBER,lce);al(Mo.COLOR,ede);al(Mo.STRING,Ece);al(Mo.BOOLEAN,Lce);al(Mo.INTERVAL,Dde);al(Mo.VECTOR3D,nde);al(Mo.VECTOR2D,ude);const Ak=.08;let bk=-10,Mk=-10,Cy=0,Ey=0;const vhe=()=>{const n=B.useRef(),[e,t]=B.useState(!1),r=()=>{let i=bk-Cy,s=Mk-Ey;Cy=Cy+i*Ak,Ey=Ey+s*Ak,n.current.style.left=`${Cy}px`,n.current.style.top=`${Ey}px`,requestAnimationFrame(r)};return B.useEffect(()=>{const i=document.addEventListener("mousemove",function(o){bk=o.pageX,Mk=o.pageY}),s=requestAnimationFrame(r);return()=>{document.removeEventListener("mousemove",i),cancelAnimationFrame(s)}},[]),B.useEffect(()=>{const i=document.addEventListener("mouseover",function(s){s.target.tagName.toLowerCase()==="button"||s.target.parentElement.tagName.toLowerCase()==="button"||s.target.tagName.toLowerCase()==="input"||s.target.tagName.toLowerCase()==="textarea"?t(!0):t(!1)});return()=>{document.removeEventListener("mouseover",i)}},[]),pe(A_,{children:pe("div",{className:`invisible md:visible  z-50 fixed -translate-x-1/2 -translate-y-1/2 rounded-full pointer-events-none transition-transform
        ${e?"bg-transparent border-2 border-indigo-900 w-5 h-5":"bg-indigo-500 w-3 h-3"}`,ref:n})})};function yhe(n,{whileHover:e,onHoverStart:t,onHoverEnd:r,onPointerOver:i,onPointerOut:s},o){return n||!o||!(e||t||r)?{}:{onPointerOver:l=>{var c;(c=o.animationState)===null||c===void 0||c.setActive("whileHover",!0),i&&i(l)},onPointerOut:l=>{var c;(c=o.animationState)===null||c===void 0||c.setActive("whileHover",!1),s&&s(l)}}}function _he(n,{whileTap:e,onTapStart:t,onTap:r,onTapCancel:i,onPointerDown:s},o){const a=r||t||i||e,l=B.useRef(!1),c=B.useRef(null);if(n||!o||!a)return{};function u(){var g;(g=c.current)===null||g===void 0||g.call(c),c.current=null}function f(){var g;return u(),l.current=!1,(g=o.animationState)===null||g===void 0||g.setActive("whileTap",!1),!T2()}function d(g,v){f()&&(r==null||r(g,v))}function p(g,v){f()&&(i==null||i(g,v))}return{onPointerDown:k5((g,v)=>{var y;if(u(),l.current)return;l.current=!0;const x={passive:!(t||r||i||s)};c.current=Fa(xo(window,"pointerup",d,x),xo(window,"pointercancel",p,x)),(y=o.animationState)===null||y===void 0||y.setActive("whileTap",!0),s==null||s(g),t==null||t(g,v)})}}const xhe=(n,e,t,r,i,s)=>{const o=whe(e);return B.createElement(n,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({ref:t},T5(e,!1,!1)),o),{onUpdate:e.onInstanceUpdate}),yhe(i,e,s)),_he(i,e,s)))};function whe(n){return B.useMemo(()=>{const e={};for(const t in n){const r=n[t];zn(r)?e[t]=r.get():Array.isArray(r)&&r.includes(zn)&&(e[t]=r.map(wm))}return e},[])}const C6=(n,e)=>t=>(r,i)=>{r[n]===void 0&&(r[n]=new $(e)),r[n].setComponent(t,i)},She=(n,e)=>t=>(r,i)=>{r[n]===void 0&&(r[n]=new ss(e));const s=r[n];s[t]=i},Ck=n=>(e,t)=>{e[n]===void 0&&(e[n]=new He(t)),e[n].set(t)},yA=C6("scale",1),_A=C6("position",0),xA=She("rotation",0),Ek={x:_A(0),y:_A(1),z:_A(2),scale:(n,e)=>{n.scale===void 0&&(n.scale=new $(1)),n.scale.set(e,e,e)},scaleX:yA(0),scaleY:yA(1),scaleZ:yA(2),rotateX:xA("x"),rotateY:xA("y"),rotateZ:xA("z"),color:Ck("color"),specular:Ck("specular")};function Ahe(n,e,t){Ek[e]?Ek[e](n,t[e]):(e==="opacity"&&!n.transparent&&(n.transparent=!0),n[e]=t[e])}const aT=(n,e)=>t=>r=>{const i=r[n];return i?i[t]:e},wA=aT("position",0),Ty=aT("scale",1),SA=aT("rotation",0),Tk={x:wA("x"),y:wA("y"),z:wA("z"),scale:Ty("x"),scaleX:Ty("x"),scaleY:Ty("y"),scaleZ:Ty("z"),rotateX:SA("x"),rotateY:SA("y"),rotateZ:SA("z")};function bhe(n){if(n!==void 0)return n instanceof He?n.getStyle():n}function Mhe(n,e){return Tk[e]?Tk[e](n):bhe(n[e])||0}const Che=["x","y","z"],Pk={"position-x":"x","position-y":"y","position-z":"z","rotation-x":"rotateX","rotation-y":"rotateY","rotation-z":"rotateZ","scale-x":"scaleX","scale-y":"scaleY","scale-z":"scaleZ"},E6=(n,e)=>{const t={};for(const r in n){const i=n[r];if(zn(i)||zn(e[r]))t[Pk[r]||r]=i;else if(Array.isArray(i))for(let s=0;s<i.length;s++){const o=i[s];if(zn(o)||Array.isArray(e[r])&&zn(e[r][s])){const a=Pk[r+"-"+Che[s]];t[a]=o}}}return t},Ehe=()=>({});class The extends Uz{constructor(){super(...arguments),this.type="three"}readValueFromInstance(e,t){return Mhe(e,t)}getBaseTargetFromProps(){}sortInstanceNodePosition(e,t){return e.id-t.id}makeTargetAnimatableFromInstance(e){var{transition:t,transitionEnd:r}=e,i=fue(e,["transition","transitionEnd"]);return _z(this,i,{}),Object.assign(Object.assign({},i),{transition:t,transitionEnd:r})}removeValueFromRenderState(){}measureInstanceViewportBox(){return Xn()}scrapeMotionValuesFromProps(e,t){return E6(e,t)}build(e,t){for(const r in t)e[r]=t[r]}renderInstance(e,t){for(const r in t)Ahe(e,r,t)}}const Phe=(n,e)=>new The(e,{}),Rhe=E2({scrapeMotionValuesFromProps:E6,createRenderState:Ehe}),Dhe=Object.assign({},xz);function Rk(n){return _5({Component:n,preloadedFeatures:Dhe,useRender:xhe,useVisualState:Rhe,createVisualElement:Phe})}const AA=new Map,Os=new Proxy(Rk,{get:(n,e)=>(!AA.has(e)&&AA.set(e,Rk(e)),AA.get(e))}),uC={type:"spring",mass:5,stiffness:500,damping:55,restDelta:1e-4};function Bhe(n){const{animation:e,wireframe:t}=n,{headFollow:r,cursorFollow:i}=ghe({headFollow:!1,cursorFollow:!1}),s=B.useRef(),{nodes:o,materials:a}=Lh("models/646d9dcdc8a5f5bddbfac913.glb"),{animations:l}=sc("animations/Typing.fbx"),{animations:c}=sc("animations/Standing Idle.fbx"),{animations:u}=sc("animations/Falling Idle.fbx");l[0].name="Typing",c[0].name="Standing",u[0].name="Falling";const{actions:f}=cte([l[0],c[0],u[0]],s);return gs(d=>{if(r&&s.current.getObjectByName("Head").lookAt(d.camera.position),i){const p=new $(d.mouse.x,d.mouse.y,1);s.current.getObjectByName("Spine2").lookAt(p)}}),B.useEffect(()=>(f[e].reset().fadeIn(.5).play(),()=>{f[e].reset().fadeOut(.5)}),[e]),B.useEffect(()=>{Object.values(a).forEach(d=>{d.wireframe=t})},[t]),pe("group",{...n,ref:s,dispose:null,children:Ct("group",{children:[pe("primitive",{object:o.Hips}),pe("skinnedMesh",{frustumCulled:!1,geometry:o.Wolf3D_Body.geometry,material:a.Wolf3D_Body,skeleton:o.Wolf3D_Body.skeleton}),pe("skinnedMesh",{frustumCulled:!1,geometry:o.Wolf3D_Outfit_Bottom.geometry,material:a.Wolf3D_Outfit_Bottom,skeleton:o.Wolf3D_Outfit_Bottom.skeleton}),pe("skinnedMesh",{frustumCulled:!1,geometry:o.Wolf3D_Outfit_Footwear.geometry,material:a.Wolf3D_Outfit_Footwear,skeleton:o.Wolf3D_Outfit_Footwear.skeleton}),pe("skinnedMesh",{frustumCulled:!1,geometry:o.Wolf3D_Outfit_Top.geometry,material:a.Wolf3D_Outfit_Top,skeleton:o.Wolf3D_Outfit_Top.skeleton}),pe("skinnedMesh",{frustumCulled:!1,geometry:o.Wolf3D_Hair.geometry,material:a.Wolf3D_Hair,skeleton:o.Wolf3D_Hair.skeleton}),pe("skinnedMesh",{frustumCulled:!1,geometry:o.Wolf3D_Glasses.geometry,material:a.Wolf3D_Glasses,skeleton:o.Wolf3D_Glasses.skeleton}),pe("skinnedMesh",{frustumCulled:!1,name:"EyeLeft",geometry:o.EyeLeft.geometry,material:a.Wolf3D_Eye,skeleton:o.EyeLeft.skeleton,morphTargetDictionary:o.EyeLeft.morphTargetDictionary,morphTargetInfluences:o.EyeLeft.morphTargetInfluences}),pe("skinnedMesh",{frustumCulled:!1,name:"EyeRight",geometry:o.EyeRight.geometry,material:a.Wolf3D_Eye,skeleton:o.EyeRight.skeleton,morphTargetDictionary:o.EyeRight.morphTargetDictionary,morphTargetInfluences:o.EyeRight.morphTargetInfluences}),pe("skinnedMesh",{frustumCulled:!1,name:"Wolf3D_Head",geometry:o.Wolf3D_Head.geometry,material:a.Wolf3D_Skin,skeleton:o.Wolf3D_Head.skeleton,morphTargetDictionary:o.Wolf3D_Head.morphTargetDictionary,morphTargetInfluences:o.Wolf3D_Head.morphTargetInfluences}),pe("skinnedMesh",{frustumCulled:!1,name:"Wolf3D_Teeth",geometry:o.Wolf3D_Teeth.geometry,material:a.Wolf3D_Teeth,skeleton:o.Wolf3D_Teeth.skeleton,morphTargetDictionary:o.Wolf3D_Teeth.morphTargetDictionary,morphTargetInfluences:o.Wolf3D_Teeth.morphTargetInfluences}),pe("skinnedMesh",{frustumCulled:!1,name:"Wolf3D_Beard",geometry:o.Wolf3D_Beard.geometry,material:a.Wolf3D_Beard,skeleton:o.Wolf3D_Beard.skeleton,morphTargetDictionary:o.Wolf3D_Beard.morphTargetDictionary,morphTargetInfluences:o.Wolf3D_Beard.morphTargetInfluences})]})})}Lh.preload("models/646d9dcdc8a5f5bddbfac913.glb");sc.preload("animations/Typing.fbx");sc.preload("animations/Standing Idle.fbx");sc.preload("animations/Falling Idle.fbx");function ba(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function T6(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.2
 * https://greensock.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var us={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},yh={duration:.5,overwrite:!1,delay:0},lT,ei,Fn,js=1e8,ln=1/js,fC=Math.PI*2,Ihe=fC/4,Lhe=0,P6=Math.sqrt,khe=Math.cos,Ohe=Math.sin,Cr=function(e){return typeof e=="string"},Gn=function(e){return typeof e=="function"},Qa=function(e){return typeof e=="number"},cT=function(e){return typeof e>"u"},ia=function(e){return typeof e=="object"},zi=function(e){return e!==!1},uT=function(){return typeof window<"u"},Py=function(e){return Gn(e)||Cr(e)},R6=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ti=Array.isArray,dC=/(?:-?\.?\d|\.)+/gi,D6=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Od=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,bA=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,B6=/[+-]=-?[.\d]+/,I6=/[^,'"\[\]\s]+/gi,Fhe=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,En,Ls,hC,fT,hs={},d_={},L6,k6=function(e){return(d_=of(e,hs))&&Wi},dT=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},h_=function(e,t){return!t&&console.warn(e)},O6=function(e,t){return e&&(hs[e]=t)&&d_&&(d_[e]=t)||hs},_g=function(){return 0},Nhe={suppressEvents:!0,isStart:!0,kill:!1},i1={suppressEvents:!0,kill:!1},Uhe={suppressEvents:!0},hT={},oc=[],pC={},F6,ts={},MA={},Dk=30,s1=[],pT="",mT=function(e){var t=e[0],r,i;if(ia(t)||Gn(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=s1.length;i--&&!s1[i].targetTest(t););r=s1[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new a8(e[i],r)))||e.splice(i,1);return e},Nu=function(e){return e._gsap||mT($s(e))[0]._gsap},N6=function(e,t,r){return(r=e[t])&&Gn(r)?e[t]():cT(r)&&e.getAttribute&&e.getAttribute(t)||r},Gi=function(e,t){return(e=e.split(",")).forEach(t)||e},Kn=function(e){return Math.round(e*1e5)/1e5||0},Lr=function(e){return Math.round(e*1e7)/1e7||0},Yd=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},zhe=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},p_=function(){var e=oc.length,t=oc.slice(0),r,i;for(pC={},oc.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},U6=function(e,t,r,i){oc.length&&!ei&&p_(),e.render(t,r,i||ei&&t<0&&(e._initted||e._startAt)),oc.length&&!ei&&p_()},z6=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(I6).length<2?t:Cr(e)?e.trim():e},G6=function(e){return e},qs=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},Ghe=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},of=function(e,t){for(var r in t)e[r]=t[r];return e},Bk=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=ia(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},m_=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},Em=function(e){var t=e.parent||En,r=e.keyframes?Ghe(ti(e.keyframes)):qs;if(zi(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},Hhe=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},H6=function(e,t,r,i,s){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},bx=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[r]===t&&(e[r]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},wc=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Uu=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},Vhe=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},mC=function(e,t,r,i){return e._startAt&&(ei?e._startAt.revert(i1):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},Whe=function n(e){return!e||e._ts&&n(e.parent)},Ik=function(e){return e._repeat?_h(e._tTime,e=e.duration()+e._rDelay)*e:0},_h=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},g_=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Mx=function(e){return e._end=Lr(e._start+(e._tDur/Math.abs(e._ts||e._rts||ln)||0))},Cx=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Lr(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Mx(e),r._dirty||Uu(r,e)),e},V6=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=g_(e.rawTime(),t),(!t._dur||h0(0,t.totalDuration(),r)-t._tTime>ln)&&t.render(r,!0)),Uu(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-ln}},jo=function(e,t,r,i){return t.parent&&wc(t),t._start=Lr((Qa(r)?r:r||e!==En?Bs(e,r,t):e._time)+t._delay),t._end=Lr(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),H6(e,t,"_first","_last",e._sort?"_start":0),gC(t)||(e._recent=t),i||V6(e,t),e._ts<0&&Cx(e,e._tTime),e},W6=function(e,t){return(hs.ScrollTrigger||dT("scrollTrigger",t))&&hs.ScrollTrigger.create(t,e)},j6=function(e,t,r,i,s){if(vT(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!ei&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&F6!==rs.frame)return oc.push(e),e._lazy=[s,i],1},jhe=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},gC=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},$he=function(e,t,r,i){var s=e.ratio,o=t<0||!t&&(!e._start&&jhe(e)&&!(!e._initted&&gC(e))||(e._ts<0||e._dp._ts<0)&&!gC(e))?0:1,a=e._rDelay,l=0,c,u,f;if(a&&e._repeat&&(l=h0(0,e._tDur,t),u=_h(l,a),e._yoyo&&u&1&&(o=1-o),u!==_h(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||ei||i||e._zTime===ln||!t&&e._zTime){if(!e._initted&&j6(e,t,i,r,l))return;for(f=e._zTime,e._zTime=t||(r?ln:0),r||(r=t&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&mC(e,t,r,!0),e._onUpdate&&!r&&Xs(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&Xs(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&wc(e,1),!r&&!ei&&(Xs(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},Xhe=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},xh=function(e,t,r,i){var s=e._repeat,o=Lr(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Lr(o*(s+1)+e._rDelay*s):o,a>0&&!i&&Cx(e,e._tTime=e._tDur*a),e.parent&&Mx(e),r||Uu(e.parent,e),e},Lk=function(e){return e instanceof Ii?Uu(e):xh(e,e._dur)},Jhe={_start:0,endTime:_g,totalDuration:_g},Bs=function n(e,t,r){var i=e.labels,s=e._recent||Jhe,o=e.duration()>=js?s.endTime(!1):e._dur,a,l,c;return Cr(t)&&(isNaN(t)||t in i)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:r).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&r&&(l=l/100*(ti(r)?r[0]:r).totalDuration()),a>1?n(e,t.substr(0,a-1),r)+l:o+l)):t==null?o:+t},Tm=function(e,t,r){var i=Qa(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,l;if(i&&(o.duration=t[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=zi(l.vars.inherit)&&l.parent;o.immediateRender=zi(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new rr(t[0],o,t[s+1])},Dc=function(e,t){return e||e===0?t(e):t},h0=function(e,t,r){return r<e?e:r>t?t:r},Qr=function(e,t){return!Cr(e)||!(t=Fhe.exec(e))?"":t[1]},Khe=function(e,t,r){return Dc(r,function(i){return h0(e,t,i)})},vC=[].slice,$6=function(e,t){return e&&ia(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ia(e[0]))&&!e.nodeType&&e!==Ls},Yhe=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return Cr(i)&&!t||$6(i,1)?(s=r).push.apply(s,$s(i)):r.push(i)})||r},$s=function(e,t,r){return Fn&&!t&&Fn.selector?Fn.selector(e):Cr(e)&&!r&&(hC||!wh())?vC.call((t||fT).querySelectorAll(e),0):ti(e)?Yhe(e,r):$6(e)?vC.call(e,0):e?[e]:[]},yC=function(e){return e=$s(e)[0]||h_("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return $s(t,r.querySelectorAll?r:r===e?h_("Invalid scope")||fT.createElement("div"):e)}},X6=function(e){return e.sort(function(){return .5-Math.random()})},J6=function(e){if(Gn(e))return e;var t=ia(e)?e:{each:e},r=zu(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,c=t.axis,u=i,f=i;return Cr(i)?u=f={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(u=i[0],f=i[1]),function(d,p,g){var v=(g||t).length,y=o[v],x,_,w,A,M,E,R,C,T;if(!y){if(T=t.grid==="auto"?0:(t.grid||[1,js])[1],!T){for(R=-js;R<(R=g[T++].getBoundingClientRect().left)&&T<v;);T--}for(y=o[v]=[],x=l?Math.min(T,v)*u-.5:i%T,_=T===js?0:l?v*f/T-.5:i/T|0,R=0,C=js,E=0;E<v;E++)w=E%T-x,A=_-(E/T|0),y[E]=M=c?Math.abs(c==="y"?A:w):P6(w*w+A*A),M>R&&(R=M),M<C&&(C=M);i==="random"&&X6(y),y.max=R-C,y.min=C,y.v=v=(parseFloat(t.amount)||parseFloat(t.each)*(T>v?v-1:c?c==="y"?v/T:T:Math.max(T,v/T))||0)*(i==="edges"?-1:1),y.b=v<0?s-v:s,y.u=Qr(t.amount||t.each)||0,r=r&&v<0?i8(r):r}return v=(y[d]-y.min)/y.max||0,Lr(y.b+(r?r(v):v)*y.v)+y.u}},_C=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Lr(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(Qa(r)?0:Qr(r))}},K6=function(e,t){var r=ti(e),i,s;return!r&&ia(e)&&(i=r=e.radius||js,e.values?(e=$s(e.values),(s=!Qa(e[0]))&&(i*=i)):e=_C(e.increment)),Dc(t,r?Gn(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=js,u=0,f=e.length,d,p;f--;)s?(d=e[f].x-a,p=e[f].y-l,d=d*d+p*p):d=Math.abs(e[f]-a),d<c&&(c=d,u=f);return u=!i||c<=i?e[u]:o,s||u===o||Qa(o)?u:u+Qr(o)}:_C(e))},Y6=function(e,t,r,i){return Dc(ti(e)?!t:r===!0?!!(r=0):!i,function(){return ti(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},Qhe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,o){return o(s)},i)}},Zhe=function(e,t){return function(r){return e(parseFloat(r))+(t||Qr(r))}},qhe=function(e,t,r){return Z6(e,t,0,1,r)},Q6=function(e,t,r){return Dc(r,function(i){return e[~~t(i)]})},epe=function n(e,t,r){var i=t-e;return ti(e)?Q6(e,n(0,e.length),t):Dc(r,function(s){return(i+(s-e)%i)%i+e})},tpe=function n(e,t,r){var i=t-e,s=i*2;return ti(e)?Q6(e,n(0,e.length-1),t):Dc(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},xg=function(e){for(var t=0,r="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?I6:dC),r+=e.substr(t,i-t)+Y6(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},Z6=function(e,t,r,i,s){var o=t-e,a=i-r;return Dc(s,function(l){return r+((l-e)/o*a||0)})},npe=function n(e,t,r,i){var s=isNaN(e+t)?0:function(p){return(1-p)*e+p*t};if(!s){var o=Cr(e),a={},l,c,u,f,d;if(r===!0&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(ti(e)&&!ti(t)){for(u=[],f=e.length,d=f-2,c=1;c<f;c++)u.push(n(e[c-1],e[c]));f--,s=function(g){g*=f;var v=Math.min(d,~~g);return u[v](g-v)},r=t}else i||(e=of(ti(e)?[]:{},e));if(!u){for(l in t)gT.call(a,e,l,"get",t[l]);s=function(g){return xT(g,a)||(o?e.p:e)}}}return Dc(r,s)},kk=function(e,t,r){var i=e.labels,s=js,o,a,l;for(o in i)a=i[o]-t,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},Xs=function(e,t,r){var i=e.vars,s=i[t],o=Fn,a=e._ctx,l,c,u;if(s)return l=i[t+"Params"],c=i.callbackScope||e,r&&oc.length&&p_(),a&&(Fn=a),u=l?s.apply(c,l):s.call(c),Fn=o,u},qp=function(e){return wc(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ei),e.progress()<1&&Xs(e,"onInterrupt"),e},Fd,q6=[],e8=function(e){if(uT()&&e){e=!e.name&&e.default||e;var t=e.name,r=Gn(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:_g,render:xT,add:gT,kill:ype,modifier:vpe,rawVars:0},o={targetTest:0,get:0,getSetter:_T,aliases:{},register:0};if(wh(),e!==i){if(ts[t])return;qs(i,qs(m_(e,s),o)),of(i.prototype,of(s,m_(e,o))),ts[i.prop=t]=i,e.targetTest&&(s1.push(i),hT[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}O6(t,i),e.register&&e.register(Wi,i,Hi)}else e&&q6.push(e)},on=255,em={aqua:[0,on,on],lime:[0,on,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,on],navy:[0,0,128],white:[on,on,on],olive:[128,128,0],yellow:[on,on,0],orange:[on,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[on,0,0],pink:[on,192,203],cyan:[0,on,on],transparent:[on,on,on,0]},CA=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*on+.5|0},t8=function(e,t,r){var i=e?Qa(e)?[e>>16,e>>8&on,e&on]:0:em.black,s,o,a,l,c,u,f,d,p,g;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),em[e])i=em[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&on,i&on,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&on,e&on]}else if(e.substr(0,3)==="hsl"){if(i=g=e.match(dC),!t)l=+i[0]%360/360,c=+i[1]/100,u=+i[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,i.length>3&&(i[3]*=1),i[0]=CA(l+1/3,s,o),i[1]=CA(l,s,o),i[2]=CA(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(D6),r&&i.length<4&&(i[3]=1),i}else i=e.match(dC)||em.transparent;i=i.map(Number)}return t&&!g&&(s=i[0]/on,o=i[1]/on,a=i[2]/on,f=Math.max(s,o,a),d=Math.min(s,o,a),u=(f+d)/2,f===d?l=c=0:(p=f-d,c=u>.5?p/(2-f-d):p/(f+d),l=f===s?(o-a)/p+(o<a?6:0):f===o?(a-s)/p+2:(s-o)/p+4,l*=60),i[0]=~~(l+.5),i[1]=~~(c*100+.5),i[2]=~~(u*100+.5)),r&&i.length<4&&(i[3]=1),i},n8=function(e){var t=[],r=[],i=-1;return e.split(ac).forEach(function(s){var o=s.match(Od)||[];t.push.apply(t,o),r.push(i+=o.length+1)}),t.c=r,t},Ok=function(e,t,r){var i="",s=(e+i).match(ac),o=t?"hsla(":"rgba(",a=0,l,c,u,f;if(!s)return e;if(s=s.map(function(d){return(d=t8(d,t,1))&&o+(t?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),r&&(u=n8(e),l=r.c,l.join(i)!==u.c.join(i)))for(c=e.replace(ac,"1").split(Od),f=c.length-1;a<f;a++)i+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:r).shift());if(!c)for(c=e.split(ac),f=c.length-1;a<f;a++)i+=c[a]+s[a];return i+c[f]},ac=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in em)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),rpe=/hsl[a]?\(/,r8=function(e){var t=e.join(" "),r;if(ac.lastIndex=0,ac.test(t))return r=rpe.test(t),e[1]=Ok(e[1],r),e[0]=Ok(e[0],r,n8(e[1])),!0},wg,rs=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,a=[],l,c,u,f,d,p,g=function v(y){var x=n()-i,_=y===!0,w,A,M,E;if(x>e&&(r+=x-t),i+=x,M=i-r,w=M-o,(w>0||_)&&(E=++f.frame,d=M-f.time*1e3,f.time=M=M/1e3,o+=w+(w>=s?4:s-w),A=1),_||(l=c(v)),A)for(p=0;p<a.length;p++)a[p](M,d,E,y)};return f={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(y){return d/(1e3/(y||60))},wake:function(){L6&&(!hC&&uT()&&(Ls=hC=window,fT=Ls.document||{},hs.gsap=Wi,(Ls.gsapVersions||(Ls.gsapVersions=[])).push(Wi.version),k6(d_||Ls.GreenSockGlobals||!Ls.gsap&&Ls||{}),u=Ls.requestAnimationFrame,q6.forEach(e8)),l&&f.sleep(),c=u||function(y){return setTimeout(y,o-f.time*1e3+1|0)},wg=1,g(2))},sleep:function(){(u?Ls.cancelAnimationFrame:clearTimeout)(l),wg=0,c=_g},lagSmoothing:function(y,x){e=y||1/0,t=Math.min(x||33,e)},fps:function(y){s=1e3/(y||240),o=f.time*1e3+s},add:function(y,x,_){var w=x?function(A,M,E,R){y(A,M,E,R),f.remove(w)}:y;return f.remove(y),a[_?"unshift":"push"](w),wh(),w},remove:function(y,x){~(x=a.indexOf(y))&&a.splice(x,1)&&p>=x&&p--},_listeners:a},f}(),wh=function(){return!wg&&rs.wake()},Ut={},ipe=/^[\d.\-M][\d.\-,\s]/,spe=/["']/g,ope=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,c;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[i]=isNaN(c)?c.replace(spe,"").trim():+c,i=l.substr(a+1).trim();return t},ape=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},lpe=function(e){var t=(e+"").split("("),r=Ut[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[ope(t[1])]:ape(e).split(",").map(z6)):Ut._CE&&ipe.test(e)?Ut._CE("",e):r},i8=function(e){return function(t){return 1-e(1-t)}},s8=function n(e,t){for(var r=e._first,i;r;)r instanceof Ii?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},zu=function(e,t){return e&&(Gn(e)?e:Ut[e]||lpe(e))||t},vf=function(e,t,r,i){r===void 0&&(r=function(l){return 1-t(1-l)}),i===void 0&&(i=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},o;return Gi(e,function(a){Ut[a]=hs[a]=s,Ut[o=a.toLowerCase()]=r;for(var l in s)Ut[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Ut[a+"."+l]=s[l]}),s},o8=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},EA=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/fC*(Math.asin(1/i)||0),a=function(u){return u===1?1:i*Math.pow(2,-10*u)*Ohe((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:o8(a);return s=fC/s,l.config=function(c,u){return n(e,c,u)},l},TA=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:o8(r);return i.config=function(s){return n(e,s)},i};Gi("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;vf(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});Ut.Linear.easeNone=Ut.none=Ut.Linear.easeIn;vf("Elastic",EA("in"),EA("out"),EA());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(a){return a<t?n*a*a:a<r?n*Math.pow(a-1.5/e,2)+.75:a<i?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};vf("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);vf("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});vf("Circ",function(n){return-(P6(1-n*n)-1)});vf("Sine",function(n){return n===1?1:-khe(n*Ihe)+1});vf("Back",TA("in"),TA("out"),TA());Ut.SteppedEase=Ut.steps=hs.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,o=1-ln;return function(a){return((i*h0(0,o,a)|0)+s)*r}}};yh.ease=Ut["quad.out"];Gi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return pT+=n+","+n+"Params,"});var a8=function(e,t){this.id=Lhe++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:N6,this.set=t?t.getSetter:_T},Sg=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,xh(this,+t.duration,1,1),this.data=t.data,Fn&&(this._ctx=Fn,Fn.data.push(this)),wg||rs.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,xh(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(wh(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Cx(this,r),!s._dp||s.parent||V6(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&jo(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===ln||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),U6(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+Ik(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+Ik(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?_h(this._tTime,s)+1:1},e.timeScale=function(r){if(!arguments.length)return this._rts===-ln?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?g_(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-ln?0:this._rts,this.totalTime(h0(-Math.abs(this._delay),this._tDur,i),!0),Mx(this),Vhe(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(wh(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ln&&(this._tTime-=ln)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&jo(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(zi(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?g_(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=Uhe);var i=ei;return ei=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),ei=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(i._ts||1),i=i._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,Lk(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,Lk(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Bs(this,r),zi(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,zi(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-ln:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-ln,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-ln)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=Gn(r)?r:G6,a=function(){var c=i.then;i.then=null,Gn(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=c),s(o),i.then=c};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){qp(this)},n}();qs(Sg.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ln,_prom:0,_ps:!1,_rts:1});var Ii=function(n){T6(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=zi(r.sortChildren),En&&jo(r.parent||En,ba(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&W6(ba(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return Tm(0,arguments,this),this},t.from=function(i,s,o){return Tm(1,arguments,this),this},t.fromTo=function(i,s,o,a){return Tm(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,Em(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new rr(i,s,Bs(this,o),1),this},t.call=function(i,s,o){return jo(this,rr.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new rr(i,o,Bs(this,l)),this},t.staggerFrom=function(i,s,o,a,l,c,u){return o.runBackwards=1,Em(o).immediateRender=zi(o.immediateRender),this.staggerTo(i,s,o,a,l,c,u)},t.staggerFromTo=function(i,s,o,a,l,c,u,f){return a.startAt=o,Em(a).immediateRender=zi(a.immediateRender),this.staggerTo(i,s,a,l,c,u,f)},t.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=i<=0?0:Lr(i),f=this._zTime<0!=i<0&&(this._initted||!c),d,p,g,v,y,x,_,w,A,M,E,R;if(this!==En&&u>l&&i>=0&&(u=l),u!==this._tTime||o||f){if(a!==this._time&&c&&(u+=this._time-a,i+=this._time-a),d=u,A=this._start,w=this._ts,x=!w,f&&(c||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(E=this._yoyo,y=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(y*100+i,s,o);if(d=Lr(u%y),u===l?(v=this._repeat,d=c):(v=~~(u/y),v&&v===u/y&&(d=c,v--),d>c&&(d=c)),M=_h(this._tTime,y),!a&&this._tTime&&M!==v&&this._tTime-M*y-this._dur<=0&&(M=v),E&&v&1&&(d=c-d,R=1),v!==M&&!this._lock){var C=E&&M&1,T=C===(E&&v&1);if(v<M&&(C=!C),a=C?0:u%c?c:u,this._lock=1,this.render(a||(R?0:Lr(v*y)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&Xs(this,"onRepeat"),this.vars.repeatRefresh&&!R&&(this.invalidate()._lock=1),a&&a!==this._time||x!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,T&&(this._lock=2,a=C?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!R&&this.invalidate()),this._lock=0,!this._ts&&!x)return this;s8(this,R)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(_=Xhe(this,Lr(a),Lr(d)),_&&(u-=d-(d=_._start))),this._tTime=u,this._time=d,this._act=!w,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&d&&!s&&!v&&(Xs(this,"onStart"),this._tTime!==u))return this;if(d>=a&&i>=0)for(p=this._first;p;){if(g=p._next,(p._act||d>=p._start)&&p._ts&&_!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(d-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(d-p._start)*p._ts,s,o),d!==this._time||!this._ts&&!x){_=0,g&&(u+=this._zTime=-ln);break}}p=g}else{p=this._last;for(var D=i<0?i:d;p;){if(g=p._prev,(p._act||D<=p._end)&&p._ts&&_!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(D-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(D-p._start)*p._ts,s,o||ei&&(p._initted||p._startAt)),d!==this._time||!this._ts&&!x){_=0,g&&(u+=this._zTime=D?-ln:ln);break}}p=g}}if(_&&!s&&(this.pause(),_.render(d>=a?0:-ln)._zTime=d>=a?1:-1,this._ts))return this._start=A,Mx(this),this.render(i,s,o);this._onUpdate&&!s&&Xs(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(A===this._start||Math.abs(w)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&wc(this,1),!s&&!(i<0&&!a)&&(u||a||!l)&&(Xs(this,u===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(Qa(s)||(s=Bs(this,s,i)),!(i instanceof Sg)){if(ti(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Cr(i))return this.addLabel(i,s);if(Gn(i))i=rr.delayedCall(0,i);else return this}return this!==i?jo(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-js);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof rr?s&&l.push(c):(o&&l.push(c),i&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return Cr(i)?this.removeLabel(i):Gn(i)?this.killTweensOf(i):(bx(this,i),i===this._recent&&(this._recent=this._last),Uu(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Lr(rs.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=Bs(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=rr.delayedCall(0,s||_g,o);return a.data="isPause",this._hasPause=1,jo(this,a,Bs(this,i))},t.removePause=function(i){var s=this._first;for(i=Bs(this,i);s;)s._start===i&&s.data==="isPause"&&wc(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)$l!==a[l]&&a[l].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=$s(i),l=this._first,c=Qa(s),u;l;)l instanceof rr?zhe(l._targets,a)&&(c?(!$l||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=Bs(o,i),l=s,c=l.startAt,u=l.onStart,f=l.onStartParams,d=l.immediateRender,p,g=rr.to(o,qs({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||ln,onStart:function(){if(o.pause(),!p){var y=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());g._dur!==y&&xh(g,y,0,1).render(g._time,!0,!0),p=1}u&&u.apply(g,f||[])}},s));return d?g.render(0):g},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,qs({startAt:{time:Bs(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),kk(this,Bs(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),kk(this,Bs(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+ln)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=i);return Uu(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Uu(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,l=js,c,u,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,jo(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;xh(o,o===En&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(En._ts&&(U6(En,g_(i,En)),F6=rs.frame),rs.frame>=Dk){Dk+=us.autoSleep||120;var s=En._first;if((!s||!s._ts)&&us.autoSleep&&rs._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||rs.sleep()}}},e}(Sg);qs(Ii.prototype,{_lock:0,_hasPause:0,_forcing:0});var cpe=function(e,t,r,i,s,o,a){var l=new Hi(this._pt,e,t,0,1,h8,null,s),c=0,u=0,f,d,p,g,v,y,x,_;for(l.b=r,l.e=i,r+="",i+="",(x=~i.indexOf("random("))&&(i=xg(i)),o&&(_=[r,i],o(_,e,t),r=_[0],i=_[1]),d=r.match(bA)||[];f=bA.exec(i);)g=f[0],v=i.substring(c,f.index),p?p=(p+1)%5:v.substr(-5)==="rgba("&&(p=1),g!==d[u++]&&(y=parseFloat(d[u-1])||0,l._pt={_next:l._pt,p:v||u===1?v:",",s:y,c:g.charAt(1)==="="?Yd(y,g)-y:parseFloat(g)-y,m:p&&p<4?Math.round:0},c=bA.lastIndex);return l.c=c<i.length?i.substring(c,i.length):"",l.fp=a,(B6.test(i)||x)&&(l.e=0),this._pt=l,l},gT=function(e,t,r,i,s,o,a,l,c,u){Gn(i)&&(i=i(s||0,e,o));var f=e[t],d=r!=="get"?r:Gn(f)?c?e[t.indexOf("set")||!Gn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():f,p=Gn(f)?c?ppe:f8:yT,g;if(Cr(i)&&(~i.indexOf("random(")&&(i=xg(i)),i.charAt(1)==="="&&(g=Yd(d,i)+(Qr(d)||0),(g||g===0)&&(i=g))),!u||d!==i||xC)return!isNaN(d*i)&&i!==""?(g=new Hi(this._pt,e,t,+d||0,i-(d||0),typeof f=="boolean"?gpe:d8,0,p),c&&(g.fp=c),a&&g.modifier(a,this,e),this._pt=g):(!f&&!(t in e)&&dT(t,i),cpe.call(this,e,t,d,i,p,l||us.stringFilter,c))},upe=function(e,t,r,i,s){if(Gn(e)&&(e=Pm(e,s,t,r,i)),!ia(e)||e.style&&e.nodeType||ti(e)||R6(e))return Cr(e)?Pm(e,s,t,r,i):e;var o={},a;for(a in e)o[a]=Pm(e[a],s,t,r,i);return o},l8=function(e,t,r,i,s,o){var a,l,c,u;if(ts[e]&&(a=new ts[e]).init(s,a.rawVars?t[e]:upe(t[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new Hi(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==Fd))for(c=r._ptLookup[r._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},$l,xC,vT=function n(e,t,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,c=i.onUpdate,u=i.onUpdateParams,f=i.callbackScope,d=i.runBackwards,p=i.yoyoEase,g=i.keyframes,v=i.autoRevert,y=e._dur,x=e._startAt,_=e._targets,w=e.parent,A=w&&w.data==="nested"?w.vars.targets:_,M=e._overwrite==="auto"&&!lT,E=e.timeline,R,C,T,D,L,F,N,k,H,W,Y,z,U;if(E&&(!g||!s)&&(s="none"),e._ease=zu(s,yh.ease),e._yEase=p?i8(zu(p===!0?s:p,yh.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!E&&!!i.runBackwards,!E||g&&!i.stagger){if(k=_[0]?Nu(_[0]).harness:0,z=k&&i[k.prop],R=m_(i,hT),x&&(x._zTime<0&&x.progress(1),t<0&&d&&a&&!v?x.render(-1,!0):x.revert(d&&y?i1:Nhe),x._lazy=0),o){if(wc(e._startAt=rr.set(_,qs({data:"isStart",overwrite:!1,parent:w,immediateRender:!0,lazy:!x&&zi(l),startAt:null,delay:0,onUpdate:c,onUpdateParams:u,callbackScope:f,stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ei||!a&&!v)&&e._startAt.revert(i1),a&&y&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(d&&y&&!x){if(t&&(a=!1),T=qs({overwrite:!1,data:"isFromStart",lazy:a&&!x&&zi(l),immediateRender:a,stagger:0,parent:w},R),z&&(T[k.prop]=z),wc(e._startAt=rr.set(_,T)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ei?e._startAt.revert(i1):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,ln,ln);else if(!t)return}for(e._pt=e._ptCache=0,l=y&&zi(l)||l&&!y,C=0;C<_.length;C++){if(L=_[C],N=L._gsap||mT(_)[C]._gsap,e._ptLookup[C]=W={},pC[N.id]&&oc.length&&p_(),Y=A===_?C:A.indexOf(L),k&&(H=new k).init(L,z||R,e,Y,A)!==!1&&(e._pt=D=new Hi(e._pt,L,H.name,0,1,H.render,H,0,H.priority),H._props.forEach(function(V){W[V]=D}),H.priority&&(F=1)),!k||z)for(T in R)ts[T]&&(H=l8(T,R,e,Y,L,A))?H.priority&&(F=1):W[T]=D=gT.call(e,L,T,"get",R[T],Y,A,0,i.stringFilter);e._op&&e._op[C]&&e.kill(L,e._op[C]),M&&e._pt&&($l=e,En.killTweensOf(L,W,e.globalTime(t)),U=!e.parent,$l=0),e._pt&&l&&(pC[N.id]=1)}F&&p8(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!U,g&&t<=0&&E.render(js,!0,!0)},fpe=function(e,t,r,i,s,o,a){var l=(e._pt&&e._ptCache||(e._ptCache={}))[t],c,u,f,d;if(!l)for(l=e._ptCache[t]=[],f=e._ptLookup,d=e._targets.length;d--;){if(c=f[d][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return xC=1,e.vars[t]="+=0",vT(e,a),xC=0,1;l.push(c)}for(d=l.length;d--;)u=l[d],c=u._pt||u,c.s=(i||i===0)&&!s?i:c.s+(i||0)+o*c.c,c.c=r-c.s,u.e&&(u.e=Kn(r)+Qr(u.e)),u.b&&(u.b=c.s+Qr(u.b))},dpe=function(e,t){var r=e[0]?Nu(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return t;s=of({},t);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},hpe=function(e,t,r,i){var s=t.ease||i||"power1.inOut",o,a;if(ti(t))a=r[e]||(r[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},Pm=function(e,t,r,i,s){return Gn(e)?e.call(t,r,i,s):Cr(e)&&~e.indexOf("random(")?xg(e):e},c8=pT+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",u8={};Gi(c8+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return u8[n]=1});var rr=function(n){T6(e,n);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=n.call(this,o?i:Em(i))||this;var l=a.vars,c=l.duration,u=l.delay,f=l.immediateRender,d=l.stagger,p=l.overwrite,g=l.keyframes,v=l.defaults,y=l.scrollTrigger,x=l.yoyoEase,_=i.parent||En,w=(ti(r)||R6(r)?Qa(r[0]):"length"in i)?[r]:$s(r),A,M,E,R,C,T,D,L;if(a._targets=w.length?mT(w):h_("GSAP target "+r+" not found. https://greensock.com",!us.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,g||d||Py(c)||Py(u)){if(i=a.vars,A=a.timeline=new Ii({data:"nested",defaults:v||{},targets:_&&_.data==="nested"?_.vars.targets:w}),A.kill(),A.parent=A._dp=ba(a),A._start=0,d||Py(c)||Py(u)){if(R=w.length,D=d&&J6(d),ia(d))for(C in d)~c8.indexOf(C)&&(L||(L={}),L[C]=d[C]);for(M=0;M<R;M++)E=m_(i,u8),E.stagger=0,x&&(E.yoyoEase=x),L&&of(E,L),T=w[M],E.duration=+Pm(c,ba(a),M,T,w),E.delay=(+Pm(u,ba(a),M,T,w)||0)-a._delay,!d&&R===1&&E.delay&&(a._delay=u=E.delay,a._start+=u,E.delay=0),A.to(T,E,D?D(M,T,w):0),A._ease=Ut.none;A.duration()?c=u=0:a.timeline=0}else if(g){Em(qs(A.vars.defaults,{ease:"none"})),A._ease=zu(g.ease||i.ease||"none");var F=0,N,k,H;if(ti(g))g.forEach(function(W){return A.to(w,W,">")}),A.duration();else{E={};for(C in g)C==="ease"||C==="easeEach"||hpe(C,g[C],E,g.easeEach);for(C in E)for(N=E[C].sort(function(W,Y){return W.t-Y.t}),F=0,M=0;M<N.length;M++)k=N[M],H={ease:k.e,duration:(k.t-(M?N[M-1].t:0))/100*c},H[C]=k.v,A.to(w,H,F),F+=H.duration;A.duration()<c&&A.to({},{duration:c-A.duration()})}}c||a.duration(c=A.duration())}else a.timeline=0;return p===!0&&!lT&&($l=ba(a),En.killTweensOf(w),$l=0),jo(_,ba(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!c&&!g&&a._start===Lr(_._time)&&zi(f)&&Whe(ba(a))&&_.data!=="nested")&&(a._tTime=-ln,a.render(Math.max(0,-u)||0)),y&&W6(ba(a),y),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,l=this._tDur,c=this._dur,u=i<0,f=i>l-ln&&!u?l:i<ln?0:i,d,p,g,v,y,x,_,w,A;if(!c)$he(this,i,s,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(d=f,w=this.timeline,this._repeat){if(v=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(v*100+i,s,o);if(d=Lr(f%v),f===l?(g=this._repeat,d=c):(g=~~(f/v),g&&g===f/v&&(d=c,g--),d>c&&(d=c)),x=this._yoyo&&g&1,x&&(A=this._yEase,d=c-d),y=_h(this._tTime,v),d===a&&!o&&this._initted)return this._tTime=f,this;g!==y&&(w&&this._yEase&&s8(w,x),this.vars.repeatRefresh&&!x&&!this._lock&&(this._lock=o=1,this.render(Lr(v*g),!0).invalidate()._lock=0))}if(!this._initted){if(j6(this,u?i:d,o,s,f))return this._tTime=0,this;if(a!==this._time)return this;if(c!==this._dur)return this.render(i,s,o)}if(this._tTime=f,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(A||this._ease)(d/c),this._from&&(this.ratio=_=1-_),d&&!a&&!s&&!g&&(Xs(this,"onStart"),this._tTime!==f))return this;for(p=this._pt;p;)p.r(_,p.d),p=p._next;w&&w.render(i<0?i:!d&&x?-ln:w._dur*w._ease(d/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(u&&mC(this,i,s,o),Xs(this,"onUpdate")),this._repeat&&g!==y&&this.vars.onRepeat&&!s&&this.parent&&Xs(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(u&&!this._onUpdate&&mC(this,i,!0,!0),(i||!c)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&wc(this,1),!s&&!(u&&!a)&&(f||a||x)&&(Xs(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,a){wg||rs.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||vT(this,l),c=this._ease(l/this._dur),fpe(this,i,s,o,a,c,l)?this.resetTo(i,s,o,a):(Cx(this,0),this.parent||H6(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?qp(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,$l&&$l.vars.overwrite!==!0)._first||qp(this),this.parent&&o!==this.timeline.totalDuration()&&xh(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?$s(i):a,c=this._ptLookup,u=this._pt,f,d,p,g,v,y,x;if((!s||s==="all")&&Hhe(a,l))return s==="all"&&(this._pt=0),qp(this);for(f=this._op=this._op||[],s!=="all"&&(Cr(s)&&(v={},Gi(s,function(_){return v[_]=1}),s=v),s=dpe(a,s)),x=a.length;x--;)if(~l.indexOf(a[x])){d=c[x],s==="all"?(f[x]=s,g=d,p={}):(p=f[x]=f[x]||{},g=s);for(v in g)y=d&&d[v],y&&((!("kill"in y.d)||y.d.kill(v)===!0)&&bx(this,y,"_pt"),delete d[v]),p!=="all"&&(p[v]=1)}return this._initted&&!this._pt&&u&&qp(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Tm(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return Tm(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return En.killTweensOf(i,s,o)},e}(Sg);qs(rr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Gi("staggerTo,staggerFrom,staggerFromTo",function(n){rr[n]=function(){var e=new Ii,t=vC.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var yT=function(e,t,r){return e[t]=r},f8=function(e,t,r){return e[t](r)},ppe=function(e,t,r,i){return e[t](i.fp,r)},mpe=function(e,t,r){return e.setAttribute(t,r)},_T=function(e,t){return Gn(e[t])?f8:cT(e[t])&&e.setAttribute?mpe:yT},d8=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},gpe=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},h8=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},xT=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},vpe=function(e,t,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,r),s=o},ype=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?bx(this,t,"_pt"):t.dep||(r=1),t=i;return!r},_pe=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},p8=function(e){for(var t=e._pt,r,i,s,o;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=r}e._pt=s},Hi=function(){function n(t,r,i,s,o,a,l,c,u){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||d8,this.d=l||this,this.set=c||yT,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=_pe,this.m=r,this.mt=s,this.tween=i},n}();Gi(pT+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return hT[n]=1});hs.TweenMax=hs.TweenLite=rr;hs.TimelineLite=hs.TimelineMax=Ii;En=new Ii({sortChildren:!1,defaults:yh,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});us.stringFilter=r8;var Gu=[],o1={},xpe=[],Fk=0,wpe=0,PA=function(e){return(o1[e]||xpe).map(function(t){return t()})},wC=function(){var e=Date.now(),t=[];e-Fk>2&&(PA("matchMediaInit"),Gu.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,c;for(a in i)o=Ls.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(r.revert(),l&&t.push(r))}),PA("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r)}),Fk=e,PA("matchMedia"))},m8=function(){function n(t,r){this.selector=r&&yC(r),this.data=[],this._r=[],this.isReverted=!1,this.id=wpe++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){Gn(r)&&(s=i,i=r,r=Gn);var o=this,a=function(){var c=Fn,u=o.selector,f;return c&&c!==o&&c.data.push(o),s&&(o.selector=yC(s)),Fn=o,f=i.apply(o,arguments),Gn(f)&&o._r.push(f),Fn=c,o.selector=u,o.isReverted=!1,f};return o.last=a,r===Gn?a(o):r?o[r]=a:a},e.ignore=function(r){var i=Fn;Fn=null,r(this),Fn=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof rr&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r){var o=this.getTweens();this.data.forEach(function(l){l.data==="isFlip"&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return o.splice(o.indexOf(c),1)}))}),o.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,c){return c.g-l.g||-1/0}).forEach(function(l){return l.t.revert(r)}),this.data.forEach(function(l){return!(l instanceof rr)&&l.revert&&l.revert(r)}),this._r.forEach(function(l){return l(r,s)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),i)for(var a=Gu.length;a--;)Gu[a].id===this.id&&Gu.splice(a,1)},e.revert=function(r){this.kill(r||{})},n}(),Spe=function(){function n(t){this.contexts=[],this.scope=t}var e=n.prototype;return e.add=function(r,i,s){ia(r)||(r={matches:r});var o=new m8(0,s||this.scope),a=o.conditions={},l,c,u;Fn&&!o.selector&&(o.selector=Fn.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(c in r)c==="all"?u=1:(l=Ls.matchMedia(r[c]),l&&(Gu.indexOf(o)<0&&Gu.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(wC):l.addEventListener("change",wC)));return u&&i(o),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),v_={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return e8(i)})},timeline:function(e){return new Ii(e)},getTweensOf:function(e,t){return En.getTweensOf(e,t)},getProperty:function(e,t,r,i){Cr(e)&&(e=$s(e)[0]);var s=Nu(e||{}).get,o=r?G6:z6;return r==="native"&&(r=""),e&&(t?o((ts[t]&&ts[t].get||s)(e,t,r,i)):function(a,l,c){return o((ts[a]&&ts[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,r){if(e=$s(e),e.length>1){var i=e.map(function(u){return Wi.quickSetter(u,t,r)}),s=i.length;return function(u){for(var f=s;f--;)i[f](u)}}e=e[0]||{};var o=ts[t],a=Nu(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(u){var f=new o;Fd._pt=0,f.init(e,r?u+r:u,Fd,0,[e]),f.render(1,f),Fd._pt&&xT(1,Fd)}:a.set(e,l);return o?c:function(u){return c(e,l,r?u+r:u,a,1)}},quickTo:function(e,t,r){var i,s=Wi.to(e,of((i={},i[t]="+=0.1",i.paused=!0,i),r||{})),o=function(l,c,u){return s.resetTo(t,l,c,u)};return o.tween=s,o},isTweening:function(e){return En.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=zu(e.ease,yh.ease)),Bk(yh,e||{})},config:function(e){return Bk(us,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!ts[a]&&!hs[a]&&h_(t+" effect requires "+a+" plugin.")}),MA[t]=function(a,l,c){return r($s(a),qs(l||{},s),c)},o&&(Ii.prototype[t]=function(a,l,c){return this.add(MA[t](a,ia(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){Ut[e]=zu(t)},parseEase:function(e,t){return arguments.length?zu(e,t):Ut},getById:function(e){return En.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new Ii(e),i,s;for(r.smoothChildTiming=zi(e.smoothChildTiming),En.remove(r),r._dp=0,r._time=r._tTime=En._time,i=En._first;i;)s=i._next,(t||!(!i._dur&&i instanceof rr&&i.vars.onComplete===i._targets[0]))&&jo(r,i,i._start-i._delay),i=s;return jo(En,r,0),r},context:function(e,t){return e?new m8(e,t):Fn},matchMedia:function(e){return new Spe(e)},matchMediaRefresh:function(){return Gu.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||wC()},addEventListener:function(e,t){var r=o1[e]||(o1[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=o1[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:epe,wrapYoyo:tpe,distribute:J6,random:Y6,snap:K6,normalize:qhe,getUnit:Qr,clamp:Khe,splitColor:t8,toArray:$s,selector:yC,mapRange:Z6,pipe:Qhe,unitize:Zhe,interpolate:npe,shuffle:X6},install:k6,effects:MA,ticker:rs,updateRoot:Ii.updateRoot,plugins:ts,globalTimeline:En,core:{PropTween:Hi,globals:O6,Tween:rr,Timeline:Ii,Animation:Sg,getCache:Nu,_removeLinkedListItem:bx,reverting:function(){return ei},context:function(e){return e&&Fn&&(Fn.data.push(e),e._ctx=Fn),Fn},suppressOverwrites:function(e){return lT=e}}};Gi("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return v_[n]=rr[n]});rs.add(Ii.updateRoot);Fd=v_.to({},{duration:0});var Ape=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},bpe=function(e,t){var r=e._targets,i,s,o;for(i in t)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=Ape(o,i)),o&&o.modifier&&o.modifier(t[i],e,r[s],i))},RA=function(e,t){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,c;if(Cr(s)&&(l={},Gi(s,function(u){return l[u]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}bpe(a,s)}}}},Wi=v_.registerPlugin({name:"attr",init:function(e,t,r,i,s){var o,a,l;this.tween=r;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)ei?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},RA("roundProps",_C),RA("modifiers"),RA("snap",K6))||v_;rr.version=Ii.version=Wi.version="3.12.2";L6=1;uT()&&wh();Ut.Power0;Ut.Power1;Ut.Power2;Ut.Power3;Ut.Power4;Ut.Linear;Ut.Quad;Ut.Cubic;Ut.Quart;Ut.Quint;Ut.Strong;Ut.Elastic;Ut.Back;Ut.SteppedEase;Ut.Bounce;Ut.Sine;Ut.Expo;Ut.Circ;/*!
 * CSSPlugin 3.12.2
 * https://greensock.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Nk,Xl,Qd,wT,Cu,Uk,ST,Mpe=function(){return typeof window<"u"},Za={},fu=180/Math.PI,Zd=Math.PI/180,ud=Math.atan2,zk=1e8,AT=/([A-Z])/g,Cpe=/(left|right|width|margin|padding|x)/i,Epe=/[\s,\(]\S/,$o={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},SC=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Tpe=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Ppe=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Rpe=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},g8=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},v8=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},Dpe=function(e,t,r){return e.style[t]=r},Bpe=function(e,t,r){return e.style.setProperty(t,r)},Ipe=function(e,t,r){return e._gsap[t]=r},Lpe=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},kpe=function(e,t,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},Ope=function(e,t,r,i,s){var o=e._gsap;o[t]=r,o.renderTransform(s,o)},Pn="transform",So=Pn+"Origin",Fpe=function n(e,t){var r=this,i=this.target,s=i.style;if(e in Za&&s){if(this.tfm=this.tfm||{},e!=="transform")e=$o[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return r.tfm[o]=Ea(i,o)}):this.tfm[e]=i._gsap.x?i._gsap[e]:Ea(i,e);else return $o.transform.split(",").forEach(function(o){return n.call(r,o,t)});if(this.props.indexOf(Pn)>=0)return;i._gsap.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(So,t,"")),e=Pn}(s||t)&&this.props.push(e,t,s[e])},y8=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Npe=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(AT,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=ST(),(!s||!s.isStart)&&!r[Pn]&&(y8(r),i.uncache=1)}},_8=function(e,t){var r={target:e,props:[],revert:Npe,save:Fpe};return e._gsap||Wi.core.getCache(e),t&&t.split(",").forEach(function(i){return r.save(i)}),r},x8,AC=function(e,t){var r=Xl.createElementNS?Xl.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Xl.createElement(e);return r.style?r:Xl.createElement(e)},Zo=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(AT,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,Sh(t)||t,1)||""},Gk="O,Moz,ms,Ms,Webkit".split(","),Sh=function(e,t,r){var i=t||Cu,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Gk[o]+e in s););return o<0?null:(o===3?"ms":o>=0?Gk[o]:"")+e},bC=function(){Mpe()&&window.document&&(Nk=window,Xl=Nk.document,Qd=Xl.documentElement,Cu=AC("div")||{style:{}},AC("div"),Pn=Sh(Pn),So=Pn+"Origin",Cu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",x8=!!Sh("perspective"),ST=Wi.core.reverting,wT=1)},DA=function n(e){var t=AC("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(Qd.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Qd.removeChild(t),this.style.cssText=s,o},Hk=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},w8=function(e){var t;try{t=e.getBBox()}catch{t=DA.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===DA||(t=DA.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+Hk(e,["x","cx","x1"])||0,y:+Hk(e,["y","cy","y1"])||0,width:0,height:0}:t},S8=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&w8(e))},Ag=function(e,t){if(t){var r=e.style;t in Za&&t!==So&&(t=Pn),r.removeProperty?((t.substr(0,2)==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(t.replace(AT,"-$1").toLowerCase())):r.removeAttribute(t)}},Jl=function(e,t,r,i,s,o){var a=new Hi(e._pt,t,r,0,1,o?v8:g8);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},Vk={deg:1,rad:1,turn:1},Upe={grid:1,flex:1},Sc=function n(e,t,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=Cu.style,l=Cpe.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),f=100,d=i==="px",p=i==="%",g,v,y,x;return i===o||!s||Vk[i]||Vk[o]?s:(o!=="px"&&!d&&(s=n(e,t,r,"px")),x=e.getCTM&&S8(e),(p||o==="%")&&(Za[t]||~t.indexOf("adius"))?(g=x?e.getBBox()[l?"width":"height"]:e[u],Kn(p?s/g*f:s/100*g)):(a[l?"width":"height"]=f+(d?o:i),v=~t.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,x&&(v=(e.ownerSVGElement||{}).parentNode),(!v||v===Xl||!v.appendChild)&&(v=Xl.body),y=v._gsap,y&&p&&y.width&&l&&y.time===rs.time&&!y.uncache?Kn(s/y.width*f):((p||o==="%")&&!Upe[Zo(v,"display")]&&(a.position=Zo(e,"position")),v===e&&(a.position="static"),v.appendChild(Cu),g=Cu[u],v.removeChild(Cu),a.position="absolute",l&&p&&(y=Nu(v),y.time=rs.time,y.width=v[u]),Kn(d?g*s/f:g&&s?f/g*s:0))))},Ea=function(e,t,r,i){var s;return wT||bC(),t in $o&&t!=="transform"&&(t=$o[t],~t.indexOf(",")&&(t=t.split(",")[0])),Za[t]&&t!=="transform"?(s=Mg(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:__(Zo(e,So))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=y_[t]&&y_[t](e,t,r)||Zo(e,t)||N6(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?Sc(e,t,s,r)+r:s},zpe=function(e,t,r,i){if(!r||r==="none"){var s=Sh(t,e,1),o=s&&Zo(e,s,1);o&&o!==r?(t=s,r=o):t==="borderColor"&&(r=Zo(e,"borderTopColor"))}var a=new Hi(this._pt,e.style,t,0,1,h8),l=0,c=0,u,f,d,p,g,v,y,x,_,w,A,M;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(e.style[t]=i,i=Zo(e,t)||i,e.style[t]=r),u=[r,i],r8(u),r=u[0],i=u[1],d=r.match(Od)||[],M=i.match(Od)||[],M.length){for(;f=Od.exec(i);)y=f[0],_=i.substring(l,f.index),g?g=(g+1)%5:(_.substr(-5)==="rgba("||_.substr(-5)==="hsla(")&&(g=1),y!==(v=d[c++]||"")&&(p=parseFloat(v)||0,A=v.substr((p+"").length),y.charAt(1)==="="&&(y=Yd(p,y)+A),x=parseFloat(y),w=y.substr((x+"").length),l=Od.lastIndex-w.length,w||(w=w||us.units[t]||A,l===i.length&&(i+=w,a.e+=w)),A!==w&&(p=Sc(e,t,v,w)||0),a._pt={_next:a._pt,p:_||c===1?_:",",s:p,c:x-p,m:g&&g<4||t==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=t==="display"&&i==="none"?v8:g8;return B6.test(i)&&(a.e=0),this._pt=a,a},Wk={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Gpe=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=Wk[r]||r,t[1]=Wk[i]||i,t.join(" ")},Hpe=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,o=r._gsap,a,l,c;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],Za[a]&&(l=1,a=a==="transformOrigin"?So:Pn),Ag(r,a);l&&(Ag(r,Pn),o&&(o.svg&&r.removeAttribute("transform"),Mg(r,1),o.uncache=1,y8(i)))}},y_={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new Hi(e._pt,t,r,0,0,Hpe);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},bg=[1,0,0,1,0,0],A8={},b8=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},jk=function(e){var t=Zo(e,Pn);return b8(t)?bg:t.substr(7).match(D6).map(Kn)},bT=function(e,t){var r=e._gsap||Nu(e),i=e.style,s=jk(e),o,a,l,c;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?bg:s):(s===bg&&!e.offsetParent&&e!==Qd&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,Qd.appendChild(e)),s=jk(e),l?i.display=l:Ag(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Qd.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},MC=function(e,t,r,i,s,o){var a=e._gsap,l=s||bT(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,f=a.xOffset||0,d=a.yOffset||0,p=l[0],g=l[1],v=l[2],y=l[3],x=l[4],_=l[5],w=t.split(" "),A=parseFloat(w[0])||0,M=parseFloat(w[1])||0,E,R,C,T;r?l!==bg&&(R=p*y-g*v)&&(C=A*(y/R)+M*(-v/R)+(v*_-y*x)/R,T=A*(-g/R)+M*(p/R)-(p*_-g*x)/R,A=C,M=T):(E=w8(e),A=E.x+(~w[0].indexOf("%")?A/100*E.width:A),M=E.y+(~(w[1]||w[0]).indexOf("%")?M/100*E.height:M)),i||i!==!1&&a.smooth?(x=A-c,_=M-u,a.xOffset=f+(x*p+_*v)-x,a.yOffset=d+(x*g+_*y)-_):a.xOffset=a.yOffset=0,a.xOrigin=A,a.yOrigin=M,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!r,e.style[So]="0px 0px",o&&(Jl(o,a,"xOrigin",c,A),Jl(o,a,"yOrigin",u,M),Jl(o,a,"xOffset",f,a.xOffset),Jl(o,a,"yOffset",d,a.yOffset)),e.setAttribute("data-svg-origin",A+" "+M)},Mg=function(e,t){var r=e._gsap||new a8(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=Zo(e,So)||"0",u,f,d,p,g,v,y,x,_,w,A,M,E,R,C,T,D,L,F,N,k,H,W,Y,z,U,V,G,X,te,re,se;return u=f=d=v=y=x=_=w=A=0,p=g=1,r.svg=!!(e.getCTM&&S8(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[Pn]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Pn]!=="none"?l[Pn]:"")),i.scale=i.rotate=i.translate="none"),R=bT(e,r.svg),r.svg&&(r.uncache?(z=e.getBBox(),c=r.xOrigin-z.x+"px "+(r.yOrigin-z.y)+"px",Y=""):Y=!t&&e.getAttribute("data-svg-origin"),MC(e,Y||c,!!Y||r.originIsAbsolute,r.smooth!==!1,R)),M=r.xOrigin||0,E=r.yOrigin||0,R!==bg&&(L=R[0],F=R[1],N=R[2],k=R[3],u=H=R[4],f=W=R[5],R.length===6?(p=Math.sqrt(L*L+F*F),g=Math.sqrt(k*k+N*N),v=L||F?ud(F,L)*fu:0,_=N||k?ud(N,k)*fu+v:0,_&&(g*=Math.abs(Math.cos(_*Zd))),r.svg&&(u-=M-(M*L+E*N),f-=E-(M*F+E*k))):(se=R[6],te=R[7],V=R[8],G=R[9],X=R[10],re=R[11],u=R[12],f=R[13],d=R[14],C=ud(se,X),y=C*fu,C&&(T=Math.cos(-C),D=Math.sin(-C),Y=H*T+V*D,z=W*T+G*D,U=se*T+X*D,V=H*-D+V*T,G=W*-D+G*T,X=se*-D+X*T,re=te*-D+re*T,H=Y,W=z,se=U),C=ud(-N,X),x=C*fu,C&&(T=Math.cos(-C),D=Math.sin(-C),Y=L*T-V*D,z=F*T-G*D,U=N*T-X*D,re=k*D+re*T,L=Y,F=z,N=U),C=ud(F,L),v=C*fu,C&&(T=Math.cos(C),D=Math.sin(C),Y=L*T+F*D,z=H*T+W*D,F=F*T-L*D,W=W*T-H*D,L=Y,H=z),y&&Math.abs(y)+Math.abs(v)>359.9&&(y=v=0,x=180-x),p=Kn(Math.sqrt(L*L+F*F+N*N)),g=Kn(Math.sqrt(W*W+se*se)),C=ud(H,W),_=Math.abs(C)>2e-4?C*fu:0,A=re?1/(re<0?-re:re):0),r.svg&&(Y=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!b8(Zo(e,Pn)),Y&&e.setAttribute("transform",Y))),Math.abs(_)>90&&Math.abs(_)<270&&(s?(p*=-1,_+=v<=0?180:-180,v+=v<=0?180:-180):(g*=-1,_+=_<=0?180:-180)),t=t||r.uncache,r.x=u-((r.xPercent=u&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=d+o,r.scaleX=Kn(p),r.scaleY=Kn(g),r.rotation=Kn(v)+a,r.rotationX=Kn(y)+a,r.rotationY=Kn(x)+a,r.skewX=_+a,r.skewY=w+a,r.transformPerspective=A+o,(r.zOrigin=parseFloat(c.split(" ")[2])||0)&&(i[So]=__(c)),r.xOffset=r.yOffset=0,r.force3D=us.force3D,r.renderTransform=r.svg?Wpe:x8?M8:Vpe,r.uncache=0,r},__=function(e){return(e=e.split(" "))[0]+" "+e[1]},BA=function(e,t,r){var i=Qr(t);return Kn(parseFloat(t)+parseFloat(Sc(e,"x",r+"px",i)))+i},Vpe=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,M8(e,t)},iu="0deg",Wp="0px",su=") ",M8=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,c=r.rotation,u=r.rotationY,f=r.rotationX,d=r.skewX,p=r.skewY,g=r.scaleX,v=r.scaleY,y=r.transformPerspective,x=r.force3D,_=r.target,w=r.zOrigin,A="",M=x==="auto"&&e&&e!==1||x===!0;if(w&&(f!==iu||u!==iu)){var E=parseFloat(u)*Zd,R=Math.sin(E),C=Math.cos(E),T;E=parseFloat(f)*Zd,T=Math.cos(E),o=BA(_,o,R*T*-w),a=BA(_,a,-Math.sin(E)*-w),l=BA(_,l,C*T*-w+w)}y!==Wp&&(A+="perspective("+y+su),(i||s)&&(A+="translate("+i+"%, "+s+"%) "),(M||o!==Wp||a!==Wp||l!==Wp)&&(A+=l!==Wp||M?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+su),c!==iu&&(A+="rotate("+c+su),u!==iu&&(A+="rotateY("+u+su),f!==iu&&(A+="rotateX("+f+su),(d!==iu||p!==iu)&&(A+="skew("+d+", "+p+su),(g!==1||v!==1)&&(A+="scale("+g+", "+v+su),_.style[Pn]=A||"translate(0, 0)"},Wpe=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,c=r.skewX,u=r.skewY,f=r.scaleX,d=r.scaleY,p=r.target,g=r.xOrigin,v=r.yOrigin,y=r.xOffset,x=r.yOffset,_=r.forceCSS,w=parseFloat(o),A=parseFloat(a),M,E,R,C,T;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=Zd,c*=Zd,M=Math.cos(l)*f,E=Math.sin(l)*f,R=Math.sin(l-c)*-d,C=Math.cos(l-c)*d,c&&(u*=Zd,T=Math.tan(c-u),T=Math.sqrt(1+T*T),R*=T,C*=T,u&&(T=Math.tan(u),T=Math.sqrt(1+T*T),M*=T,E*=T)),M=Kn(M),E=Kn(E),R=Kn(R),C=Kn(C)):(M=f,C=d,E=R=0),(w&&!~(o+"").indexOf("px")||A&&!~(a+"").indexOf("px"))&&(w=Sc(p,"x",o,"px"),A=Sc(p,"y",a,"px")),(g||v||y||x)&&(w=Kn(w+g-(g*M+v*R)+y),A=Kn(A+v-(g*E+v*C)+x)),(i||s)&&(T=p.getBBox(),w=Kn(w+i/100*T.width),A=Kn(A+s/100*T.height)),T="matrix("+M+","+E+","+R+","+C+","+w+","+A+")",p.setAttribute("transform",T),_&&(p.style[Pn]=T)},jpe=function(e,t,r,i,s){var o=360,a=Cr(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?fu:1),c=l-i,u=i+c+"deg",f,d;return a&&(f=s.split("_")[1],f==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),f==="cw"&&c<0?c=(c+o*zk)%o-~~(c/o)*o:f==="ccw"&&c>0&&(c=(c-o*zk)%o-~~(c/o)*o)),e._pt=d=new Hi(e._pt,t,r,i,c,Tpe),d.e=u,d.u="deg",e._props.push(r),d},$k=function(e,t){for(var r in t)e[r]=t[r];return e},$pe=function(e,t,r){var i=$k({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,c,u,f,d,p,g;i.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),o[Pn]=t,a=Mg(r,1),Ag(r,Pn),r.setAttribute("transform",c)):(c=getComputedStyle(r)[Pn],o[Pn]=t,a=Mg(r,1),o[Pn]=c);for(l in Za)c=i[l],u=a[l],c!==u&&s.indexOf(l)<0&&(p=Qr(c),g=Qr(u),f=p!==g?Sc(r,l,c,g):parseFloat(c),d=parseFloat(u),e._pt=new Hi(e._pt,a,l,f,d-f,SC),e._pt.u=g||0,e._props.push(l));$k(a,i)};Gi("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(a){return e<2?n+a:"border"+a+n});y_[e>1?"border"+n:n]=function(a,l,c,u,f){var d,p;if(arguments.length<4)return d=o.map(function(g){return Ea(a,g,c)}),p=d.join(" "),p.split(d[0]).length===5?d[0]:p;d=(u+"").split(" "),p={},o.forEach(function(g,v){return p[g]=d[v]=d[v]||d[(v-1)/2|0]}),a.init(l,p,f)}});var C8={name:"css",register:bC,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,c,u,f,d,p,g,v,y,x,_,w,A,M,E,R,C;wT||bC(),this.styles=this.styles||_8(e),C=this.styles.props,this.tween=r;for(v in t)if(v!=="autoRound"&&(u=t[v],!(ts[v]&&l8(v,t,r,i,e,s)))){if(p=typeof u,g=y_[v],p==="function"&&(u=u.call(r,i,e,s),p=typeof u),p==="string"&&~u.indexOf("random(")&&(u=xg(u)),g)g(this,e,v,u,r)&&(R=1);else if(v.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(v)+"").trim(),u+="",ac.lastIndex=0,ac.test(c)||(y=Qr(c),x=Qr(u)),x?y!==x&&(c=Sc(e,v,c,x)+x):y&&(u+=y),this.add(a,"setProperty",c,u,i,s,0,0,v),o.push(v),C.push(v,0,a[v]);else if(p!=="undefined"){if(l&&v in l?(c=typeof l[v]=="function"?l[v].call(r,i,e,s):l[v],Cr(c)&&~c.indexOf("random(")&&(c=xg(c)),Qr(c+"")||(c+=us.units[v]||Qr(Ea(e,v))||""),(c+"").charAt(1)==="="&&(c=Ea(e,v))):c=Ea(e,v),d=parseFloat(c),_=p==="string"&&u.charAt(1)==="="&&u.substr(0,2),_&&(u=u.substr(2)),f=parseFloat(u),v in $o&&(v==="autoAlpha"&&(d===1&&Ea(e,"visibility")==="hidden"&&f&&(d=0),C.push("visibility",0,a.visibility),Jl(this,a,"visibility",d?"inherit":"hidden",f?"inherit":"hidden",!f)),v!=="scale"&&v!=="transform"&&(v=$o[v],~v.indexOf(",")&&(v=v.split(",")[0]))),w=v in Za,w){if(this.styles.save(v),A||(M=e._gsap,M.renderTransform&&!t.parseTransform||Mg(e,t.parseTransform),E=t.smoothOrigin!==!1&&M.smooth,A=this._pt=new Hi(this._pt,a,Pn,0,1,M.renderTransform,M,0,-1),A.dep=1),v==="scale")this._pt=new Hi(this._pt,M,"scaleY",M.scaleY,(_?Yd(M.scaleY,_+f):f)-M.scaleY||0,SC),this._pt.u=0,o.push("scaleY",v),v+="X";else if(v==="transformOrigin"){C.push(So,0,a[So]),u=Gpe(u),M.svg?MC(e,u,0,E,0,this):(x=parseFloat(u.split(" ")[2])||0,x!==M.zOrigin&&Jl(this,M,"zOrigin",M.zOrigin,x),Jl(this,a,v,__(c),__(u)));continue}else if(v==="svgOrigin"){MC(e,u,1,E,0,this);continue}else if(v in A8){jpe(this,M,v,d,_?Yd(d,_+u):u);continue}else if(v==="smoothOrigin"){Jl(this,M,"smooth",M.smooth,u);continue}else if(v==="force3D"){M[v]=u;continue}else if(v==="transform"){$pe(this,u,e);continue}}else v in a||(v=Sh(v)||v);if(w||(f||f===0)&&(d||d===0)&&!Epe.test(u)&&v in a)y=(c+"").substr((d+"").length),f||(f=0),x=Qr(u)||(v in us.units?us.units[v]:y),y!==x&&(d=Sc(e,v,c,x)),this._pt=new Hi(this._pt,w?M:a,v,d,(_?Yd(d,_+f):f)-d,!w&&(x==="px"||v==="zIndex")&&t.autoRound!==!1?Rpe:SC),this._pt.u=x||0,y!==x&&x!=="%"&&(this._pt.b=c,this._pt.r=Ppe);else if(v in a)zpe.call(this,e,v,c,_?_+u:u);else if(v in e)this.add(e,v,c||e[v],_?_+u:u,i,s);else if(v!=="parseTransform"){dT(v,u);continue}w||(v in a?C.push(v,0,a[v]):C.push(v,1,c||e[v])),o.push(v)}}R&&p8(this)},render:function(e,t){if(t.tween._time||!ST())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:Ea,aliases:$o,getSetter:function(e,t,r){var i=$o[t];return i&&i.indexOf(",")<0&&(t=i),t in Za&&t!==So&&(e._gsap.x||Ea(e,"x"))?r&&Uk===r?t==="scale"?Lpe:Ipe:(Uk=r||{})&&(t==="scale"?kpe:Ope):e.style&&!cT(e.style[t])?Dpe:~t.indexOf("-")?Bpe:_T(e,t)},core:{_removeProperty:Ag,_getMatrix:bT}};Wi.utils.checkPrefix=Sh;Wi.core.getStyleSaver=_8;(function(n,e,t,r){var i=Gi(n+","+e+","+t,function(s){Za[s]=1});Gi(e,function(s){us.units[s]="deg",A8[s]=1}),$o[i[13]]=n+","+e,Gi(r,function(s){var o=s.split(":");$o[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Gi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){us.units[n]="px"});Wi.registerPlugin(C8);var MT=Wi.registerPlugin(C8)||Wi;MT.core.Tween;const Xpe=()=>{const n=B.useRef(),e=B.useRef({color:"#CCCCFF"}),t=Qg(),r=B.useRef();return gs(()=>{r.current.progress(t.scroll.current),n.current.color=new He(e.current.color)}),B.useEffect(()=>{r.current=MT.timeline(),r.current.to(e.current,{color:"#212121"}),r.current.to(e.current,{color:"#9795f0"}),r.current.to(e.current,{color:"#fbc8d4"})},[]),pe("group",{children:pe(mte,{scale:[30,30,30],children:pe("meshBasicMaterial",{ref:n,side:xi,toneMapped:!1})})})};function Jpe(n){const{section:e}=n,{nodes:t,materials:r}=Lh("models/scene.gltf"),i=r0("textures/baked.jpg"),s=lte("textures/vscode.mp4");i.flipY=!1,i.encoding=yn;const o=new pc({map:i,transparent:!0,opacity:1}),a=new pc({map:i,transparent:!0,opacity:.42}),l=hg(0),c=hg(0);return B.useEffect(()=>{pg(l,e===0?1:0,{duration:.8}),pg(c,e===0?.42:0,{duration:.8})},[e]),gs(()=>{o.opacity=l.get(),a.opacity=c.get()}),Ct("group",{...n,dispose:null,children:[pe("mesh",{name:"Screen",geometry:t.Screen.geometry,position:[.45,.94,-1.72],rotation:[Math.PI,-1.1,Math.PI],children:pe("meshBasicMaterial",{map:s,toneMapped:!1})}),Ct("group",{name:"Desk",position:[-.07,0,-1.52],rotation:[0,-Math.PI/2,0],children:[pe("mesh",{name:"Plane001_Plane002_BlackWood001",geometry:t.Plane001_Plane002_BlackWood001.geometry,material:o}),pe("mesh",{name:"Plane001_Plane002_BlackWood001_1",geometry:t.Plane001_Plane002_BlackWood001_1.geometry,material:o}),pe("mesh",{name:"Plane001_Plane002_BlackWood001_2",geometry:t.Plane001_Plane002_BlackWood001_2.geometry,material:o}),pe("mesh",{name:"Plane001_Plane002_BlackWood001_3",geometry:t.Plane001_Plane002_BlackWood001_3.geometry,material:o}),pe("mesh",{name:"Plane001_Plane002_BlackWood001_4",geometry:t.Plane001_Plane002_BlackWood001_4.geometry,material:o})]}),Ct("group",{name:"SM_ShelfSM_Shelf1",position:[-.87,1.69,-2.04],children:[pe("mesh",{name:"SM_ShelfSM_Shelf1_1",geometry:t.SM_ShelfSM_Shelf1_1.geometry,material:o}),pe("mesh",{name:"SM_ShelfSM_Shelf1_1_1",geometry:t.SM_ShelfSM_Shelf1_1_1.geometry,material:o})]}),Ct(Os.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"LavaLamp",position:[-1.3,2.07,-1.99],children:[pe("mesh",{name:"Node-Mesh001",geometry:t["Node-Mesh001"].geometry,material:o}),pe("mesh",{name:"Node-Mesh001_1",geometry:t["Node-Mesh001_1"].geometry,material:o}),pe("mesh",{name:"Node-Mesh001_2",geometry:t["Node-Mesh001_2"].geometry,material:o})]}),pe(Os.mesh,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"WawaRug",geometry:t.WawaRug.geometry,material:o,position:[-.28,.01,.76]}),Ct(Os.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"salameche",position:[-.61,2.04,-1.96],rotation:[-Math.PI,.73,-Math.PI],children:[pe("mesh",{name:"mesh434900071",geometry:t.mesh434900071.geometry,material:o}),pe("mesh",{name:"mesh434900071_1",geometry:t.mesh434900071_1.geometry,material:o}),pe("mesh",{name:"mesh434900071_2",geometry:t.mesh434900071_2.geometry,material:o}),pe("mesh",{name:"mesh434900071_3",geometry:t.mesh434900071_3.geometry,material:o}),pe("mesh",{name:"mesh434900071_4",geometry:t.mesh434900071_4.geometry,material:o}),pe("mesh",{name:"mesh434900071_5",geometry:t.mesh434900071_5.geometry,material:o})]}),Ct("group",{name:"keyboard",position:[.21,.98,-1.21],rotation:[0,-.22,0],scale:.63,children:[pe("mesh",{name:"mesh425587018",geometry:t.mesh425587018.geometry,material:o}),pe("mesh",{name:"mesh425587018_1",geometry:t.mesh425587018_1.geometry,material:o}),pe("mesh",{name:"mesh425587018_2",geometry:t.mesh425587018_2.geometry,material:o}),pe("mesh",{name:"mesh425587018_3",geometry:t.mesh425587018_3.geometry,material:o})]}),Ct(Os.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"iMac",position:[.45,.94,-1.72],rotation:[Math.PI,-1.1,Math.PI],children:[pe("mesh",{name:"iMac_1_1",geometry:t.iMac_1_1.geometry,material:o}),pe("mesh",{name:"iMac_1_2",geometry:t.iMac_1_2.geometry,material:o})]}),pe("mesh",{name:"Comp_Mouse",geometry:t.Comp_Mouse.geometry,material:o,position:[-.01,0,.08]}),Ct(Os.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"plant",position:[-.78,1.07,-1.61],children:[pe("mesh",{name:"mesh24448074",geometry:t.mesh24448074.geometry,material:o}),pe("mesh",{name:"mesh24448074_1",geometry:t.mesh24448074_1.geometry,material:o}),pe("mesh",{name:"mesh24448074_2",geometry:t.mesh24448074_2.geometry,material:o})]}),Ct(Os.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"Houseplant_7",position:[-2.02,-.04,-1.53],rotation:[-Math.PI/2,0,0],children:[pe("mesh",{name:"Houseplant_7_1",geometry:t.Houseplant_7_1.geometry,material:o}),pe("mesh",{name:"Houseplant_7_2",geometry:t.Houseplant_7_2.geometry,material:o}),pe("mesh",{name:"Houseplant_7_3",geometry:t.Houseplant_7_3.geometry,material:o})]}),Ct(Os.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"palm_tree_01",position:[2.13,-.08,-1.06],rotation:[-Math.PI,.67,-Math.PI],children:[pe("mesh",{name:"palm_tree_01-Mesh",geometry:t["palm_tree_01-Mesh"].geometry,material:o}),pe("mesh",{name:"palm_tree_01-Mesh_1",geometry:t["palm_tree_01-Mesh_1"].geometry,material:o}),pe("mesh",{name:"palm_tree_01-Mesh_2",geometry:t["palm_tree_01-Mesh_2"].geometry,material:o})]}),Ct(Os.group,{scale:[0,0,0],animate:{scale:e===0?1:0},name:"Chair",position:[.09,0,-.66],rotation:[0,-.35,0],children:[pe("mesh",{name:"Node-Mesh",geometry:t["Node-Mesh"].geometry,material:o}),pe("mesh",{name:"Node-Mesh_1",geometry:t["Node-Mesh_1"].geometry,material:o})]}),pe("mesh",{name:"Plane001",geometry:t.Plane001.geometry,material:o}),pe("mesh",{name:"Plane001_1",geometry:t.Plane001_1.geometry,material:o}),pe("mesh",{name:"Plane001_2",geometry:t.Plane001_2.geometry,material:o}),pe("mesh",{name:"Plane001_3",geometry:t.Plane001_3.geometry,material:a})]})}Lh.preload("models/scene.gltf");r0.preload("textures/baked.jpg");let Kpe=0;function Ype(n,e){const t=`atom${++Kpe}`,r={toString:()=>t};return typeof n=="function"?r.read=n:(r.init=n,r.read=i=>i(r),r.write=(i,s,o)=>s(r,typeof o=="function"?o(i(r)):o)),e&&(r.write=e),r}const Xk=n=>"init"in n,Jk=n=>!!n.write,x_=new WeakMap,Qpe=(n,e)=>{x_.set(n,e),n.catch(()=>{}).finally(()=>x_.delete(n))},Kk=(n,e)=>{const t=x_.get(n);t&&(x_.delete(n),t(e))},Yk=(n,e)=>{n.status="fulfilled",n.value=e},Qk=(n,e)=>{n.status="rejected",n.reason=e},Zpe=n=>typeof(n==null?void 0:n.then)=="function",jp=(n,e)=>"v"in n&&"v"in e&&Object.is(n.v,e.v),Zk=(n,e)=>"e"in n&&"e"in e&&Object.is(n.e,e.e),fd=n=>"v"in n&&n.v instanceof Promise,qpe=(n,e)=>"v"in n&&"v"in e&&n.v.orig&&n.v.orig===e.v.orig,Ry=n=>{if("e"in n)throw n.e;return n.v},eme=()=>{const n=new WeakMap,e=new WeakMap,t=new Map;let r,i,s;const o=T=>n.get(T),a=(T,D)=>{const L=n.get(T);if(n.set(T,D),t.has(T)||t.set(T,L),L&&fd(L)){const F="v"in D?D.v instanceof Promise?D.v:Promise.resolve(D.v):Promise.reject(D.e);Kk(L.v,F)}},l=(T,D,L)=>{const F=new Map;let N=!1;L.forEach((k,H)=>{!k&&H===T&&(k=D),k&&(F.set(H,k),D.d.get(H)!==k&&(N=!0))}),(N||D.d.size!==F.size)&&(D.d=F)},c=(T,D,L)=>{const F=o(T),N={d:(F==null?void 0:F.d)||new Map,v:D};if(L&&l(T,N,L),F&&jp(F,N)&&F.d===N.d)return F;if(F&&fd(F)&&fd(N)&&qpe(F,N)){if(F.d===N.d)return F;N.v=F.v}return a(T,N),N},u=(T,D,L,F)=>{if(Zpe(D)){let N;const k=new Promise((H,W)=>{let Y=!1;D.then(z=>{if(!Y){Y=!0;const U=o(T),V=c(T,k,L);Yk(k,z),H(z),(U==null?void 0:U.d)!==V.d&&E(T,V,U==null?void 0:U.d)}},z=>{if(!Y){Y=!0;const U=o(T),V=c(T,k,L);Qk(k,z),W(z),(U==null?void 0:U.d)!==V.d&&E(T,V,U==null?void 0:U.d)}}),N=z=>{Y||(Y=!0,z.then(U=>Yk(k,U),U=>Qk(k,U)),H(z))}});return k.orig=D,k.status="pending",Qpe(k,H=>{H&&N(H),F==null||F()}),c(T,k,L)}return c(T,D,L)},f=(T,D,L)=>{const F=o(T),N={d:(F==null?void 0:F.d)||new Map,e:D};return L&&l(T,N,L),F&&Zk(F,N)&&F.d===N.d?F:(a(T,N),N)},d=T=>{const D=o(T);if(D&&(D.d.forEach((Y,z)=>{z!==T&&!e.has(z)&&d(z)}),Array.from(D.d).every(([Y,z])=>{const U=o(Y);return Y===T||U===z||U&&!fd(U)&&jp(U,z)})))return D;const L=new Map;let F=!0;const N=Y=>{if(Y===T){const U=o(Y);if(U)return L.set(Y,U),Ry(U);if(Xk(Y))return L.set(Y,void 0),Y.init;throw new Error("no atom init")}const z=d(Y);return L.set(Y,z),Ry(z)};let k,H;const W={get signal(){return k||(k=new AbortController),k.signal},get setSelf(){return!H&&Jk(T)&&(H=(...Y)=>{if(!F)return w(T,...Y)}),H}};try{const Y=T.read(N,W);return u(T,Y,L,()=>k==null?void 0:k.abort())}catch(Y){return f(T,Y,L)}finally{F=!1}},p=T=>Ry(d(T)),g=T=>{let D=e.get(T);return D||(D=A(T)),D},v=(T,D)=>!D.l.size&&(!D.t.size||D.t.size===1&&D.t.has(T)),y=T=>{const D=e.get(T);D&&v(T,D)&&M(T)},x=T=>{const D=new Map,L=new WeakMap,F=k=>{const H=e.get(k);H==null||H.t.forEach(W=>{W!==k&&(D.set(W,(D.get(W)||new Set).add(k)),L.set(W,(L.get(W)||0)+1),F(W))})};F(T);const N=k=>{const H=e.get(k);H==null||H.t.forEach(W=>{var Y;if(W!==k){let z=L.get(W);if(z&&L.set(W,--z),!z){let U=!!((Y=D.get(W))!=null&&Y.size);if(U){const V=o(W),G=d(W);U=!V||!jp(V,G)}U||D.forEach(V=>V.delete(W))}N(W)}})};N(T)},_=(T,...D)=>{let L=!0;const F=H=>Ry(d(H)),N=(H,...W)=>{let Y;if(H===T){if(!Xk(H))throw new Error("atom not writable");const z=o(H),U=u(H,W[0]);(!z||!jp(z,U))&&x(H)}else Y=_(H,...W);if(!L){const z=R()}return Y},k=T.write(F,N,...D);return L=!1,k},w=(T,...D)=>{const L=_(T,...D),F=R();return L},A=(T,D)=>{const L={t:new Set(D&&[D]),l:new Set};if(e.set(T,L),d(T).d.forEach((F,N)=>{const k=e.get(N);k?k.t.add(T):N!==T&&A(N,T)}),d(T),Jk(T)&&T.onMount){const F=T.onMount((...N)=>w(T,...N));F&&(L.u=F)}return L},M=T=>{var D;const L=(D=e.get(T))==null?void 0:D.u;L&&L(),e.delete(T);const F=o(T);F&&(fd(F)&&Kk(F.v),F.d.forEach((N,k)=>{if(k!==T){const H=e.get(k);H&&(H.t.delete(T),v(k,H)&&M(k))}}))},E=(T,D,L)=>{const F=new Set(D.d.keys());L==null||L.forEach((N,k)=>{if(F.has(k)){F.delete(k);return}const H=e.get(k);H&&(H.t.delete(T),v(k,H)&&M(k))}),F.forEach(N=>{const k=e.get(N);k?k.t.add(T):e.has(T)&&A(N,T)})},R=()=>{let T;for(;t.size;){const D=Array.from(t);t.clear(),D.forEach(([L,F])=>{const N=o(L);if(N){N.d!==(F==null?void 0:F.d)&&E(L,N,F==null?void 0:F.d);const k=e.get(L);k&&!(F&&!fd(F)&&(jp(F,N)||Zk(F,N)))&&k.l.forEach(H=>H())}})}};return{get:p,set:w,sub:(T,D)=>{const L=g(T),F=R(),N=L.l;return N.add(D),()=>{N.delete(D),y(T)}}}};let IA;const tme=()=>(IA||(IA=eme()),IA),nme=B.createContext(void 0),E8=n=>{const e=B.useContext(nme);return(n==null?void 0:n.store)||e||tme()},rme=n=>typeof(n==null?void 0:n.then)=="function",ime=Q.use||(n=>{if(n.status==="pending")throw n;if(n.status==="fulfilled")return n.value;throw n.status==="rejected"?n.reason:(n.status="pending",n.then(e=>{n.status="fulfilled",n.value=e},e=>{n.status="rejected",n.reason=e}),n)});function sme(n,e){const t=E8(e),[[r,i,s],o]=B.useReducer(c=>{const u=t.get(n);return Object.is(c[0],u)&&c[1]===t&&c[2]===n?c:[u,t,n]},void 0,()=>[t.get(n),t,n]);let a=r;(i!==t||s!==n)&&(o(),a=t.get(n));const l=e==null?void 0:e.delay;return B.useEffect(()=>{const c=t.sub(n,()=>{if(typeof l=="number"){setTimeout(o,l);return}o()});return o(),c},[t,n,l]),B.useDebugValue(a),rme(a)?ime(a):a}function ome(n,e){const t=E8(e);return B.useCallback((...i)=>t.set(n,...i),[t,n])}function T8(n,e){return[sme(n,e),ome(n,e)]}const Rm=[{title:"Adobe Illustrator",url:"",image:"projects/adobe.png",description:"Vector Illustrations & Designing"},{title:"Vehical Tracker",url:"https://github.com/mohithkumarss/vehicle_tracking",image:"projects/vehicalt.png",description:"Designed Tracking app using Flutter and Firebase for NWRTC"},{title:"Instrumental DB",url:"https://github.com/mohithkumarss/LEOGPT",image:"projects/instrumentalDB.png",description:"Created a DB with PHP and SQL which can handle Orders"},{title:"APSCE Official site",url:"https://www.apsce.ac.in",image:"projects/apsce.png",description:"Designed & created APSCE Official Website"},{title:"Teddy3Verse",url:"https://github.com/mohithkumarss/Teddy3Verse",image:"projects/teddy3verse.png",description:"Create a 3D Virtual Python Project using OpenGL & ModernGL, PyGame"},{title:"LEOGPT",url:"https://github.com/mohithkumarss/LEOGPT",image:"projects/leogpt.png",description:"Created an android app based on ChatGPT"}],ame=n=>{const{project:e,highlighted:t}=n,r=B.useRef(),i=hg(.4);return B.useEffect(()=>{pg(i,t?.7:.4)},[t]),gs(()=>{r.current.material.opacity=i.get()}),Ct("group",{...n,children:[Ct("mesh",{"position-z":-.001,onClick:()=>window.open(e.url,"_blank"),ref:r,children:[pe("planeGeometry",{args:[2.2,2]}),pe("meshBasicMaterial",{color:"black",transparent:!0,opacity:.4})]}),pe(ate,{scale:[2,1.2,1],url:e.image,toneMapped:!1,"position-y":.3}),pe(sI,{maxWidth:2,anchorX:"left",anchorY:"top",fontSize:.2,position:[-1,-.4,0],children:e.title.toUpperCase()}),pe(sI,{maxWidth:2,anchorX:"left",anchorY:"top",fontSize:.1,position:[-1,-.6,0],children:e.description})]})},P8=Ype(Math.floor(Rm.length/2)),lme=()=>{const{viewport:n}=Pc(),[e]=T8(P8);return pe("group",{"position-y":-n.height*2+1,children:Rm.map((t,r)=>pe(Os.group,{position:[r*2.5,0,-3],animate:{x:0+(r-e)*2.5,y:e===r?0:-.1,z:e===r?-2:-3,rotateX:e===r?0:-Math.PI/3,rotateZ:e===r?0:-.1*Math.PI},children:pe(ame,{project:t,highlighted:r===e})},"project_"+r))})},cme=n=>{const{menuOpened:e}=n,{viewport:t}=Pc(),r=Qg(),i=window.innerWidth<768,s=t.width/12,o=Math.max(.5,Math.min(.9*s,.9)),[a,l]=B.useState(0),c=hg(),u=hg();B.useEffect(()=>{pg(c,e?-5:0,{...uC}),pg(u,e?5:0,{...uC})},[e]);const f=B.useRef(),[d,p]=B.useState("Typing");B.useEffect(()=>{p("Falling"),setTimeout(()=>{p(a===0?"Typing":"Standing")},600)},[a]);const g=B.useRef();return gs(v=>{let y=Math.floor(r.scroll.current*r.pages);y>3&&(y=3),y!==a&&l(y),v.camera.position.x=c.get(),v.camera.lookAt(u.get(),0,0),a===0&&f.current.getWorldPosition(g.current.position)}),Ct(A_,{children:[pe(Xpe,{}),pe(Os.group,{ref:g,rotation:[-3,1,3],scale:[o,o,o],animate:""+a,transition:{duration:.6},variants:{0:{scaleX:o,scaleY:o,scaleZ:o},1:{y:-t.height+.5,x:i?.3:0,z:7,rotateX:0,rotateY:i?-Math.PI/2:0,rotateZ:0,scaleX:i?1.5:1,scaleY:i?1.5:1,scaleZ:i?1.5:1},2:{x:i?-1.4:-2,y:-t.height*2+.5,z:0,rotateX:0,rotateY:Math.PI/2,rotateZ:0,scaleX:1,scaleY:1,scaleZ:1},3:{y:-t.height*3+1,x:.24,z:8.5,rotateX:0,rotateY:-Math.PI/4,rotateZ:0,scaleX:1,scaleY:1,scaleZ:1}},children:pe(Bhe,{animation:d,wireframe:a===1})}),pe("ambientLight",{intensity:1}),Ct(Os.group,{position:[i?0:1.5*o,i?-t.height/6:2,3],scale:[o,o,o],"rotation-y":-Math.PI/4,animate:{y:i?-t.height/6:0},transition:{duration:.8},children:[pe(Jpe,{section:a}),pe("group",{ref:f,name:"CharacterSpot",position:[.07,.16,-.57],rotation:[-Math.PI,.42,-Math.PI]})]}),Ct(Os.group,{position:[0,i?-t.height:-1.5*o,-10],animate:{z:a===1?0:-10,y:a===1||i?-t.height:-1.5*o},children:[pe("directionalLight",{position:[-5,3,5],intensity:.4}),pe(YS,{children:Ct("mesh",{position:[1,-3,-15],scale:[2,2,2],children:[pe("sphereGeometry",{}),pe(aI,{opacity:.8,transparent:!0,distort:.4,speed:4,color:"red"})]})}),pe(YS,{children:Ct("mesh",{scale:[3,3,3],position:[3,1,-18],children:[pe("sphereGeometry",{}),pe(aI,{opacity:.8,transparent:!0,distort:1,speed:5,color:"yellow"})]})}),pe(YS,{children:Ct("mesh",{scale:[1.4,1.4,1.4],position:[-3,-1,-11],children:[pe("boxGeometry",{}),pe(hte,{opacity:.8,transparent:!0,factor:1,speed:5,color:"blue"})]})})]}),pe(lme,{})]})};function qk(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function eO(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(t),!0).forEach(function(r){R8(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qk(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function a1(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a1=function(e){return typeof e}:a1=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a1(n)}function R8(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ume(n,e){return fme(n)||dme(n,e)||hme(n,e)||pme()}function fme(n){if(Array.isArray(n))return n}function dme(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function hme(n,e){if(n){if(typeof n=="string")return tO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tO(n,e)}}function tO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function pme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var mme=function(e){var t=Q.useRef(e);return Q.useEffect(function(){t.current=e},[e]),t.current},w_=function(e){return e!==null&&a1(e)==="object"},nO="[object Object]",gme=function n(e,t){if(!w_(e)||!w_(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===nO,o=Object.prototype.toString.call(t)===nO;if(s!==o)return!1;if(!s&&!r)return e===t;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(var c={},u=0;u<a.length;u+=1)c[a[u]]=!0;for(var f=0;f<l.length;f+=1)c[l[f]]=!0;var d=Object.keys(c);if(d.length!==a.length)return!1;var p=e,g=t,v=function(x){return n(p[x],g[x])};return d.every(v)},vme=function(e,t,r){return w_(e)?Object.keys(e).reduce(function(i,s){var o=!w_(t)||!gme(e[s],t[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?eO(eO({},i||{}),{},R8({},s,e[s])):i},null):null},D8=Q.createContext(null);D8.displayName="ElementsContext";var yme=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},B8=Q.createContext(null);B8.displayName="CartElementContext";var _me=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e};dt.any,dt.object;var rO=function(e){var t=Q.useContext(D8);return yme(t,e)},iO=function(e){var t=Q.useContext(B8);return _me(t,e)};dt.func.isRequired;var hi=function(e,t,r){var i=!!r,s=Q.useRef(r);Q.useEffect(function(){s.current=r},[r]),Q.useEffect(function(){if(!i||!e)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return e.on(t,o),function(){e.off(t,o)}},[i,t,e,s])},xme=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ar=function(e,t){var r="".concat(xme(e),"Element"),i=function(l){var c=l.id,u=l.className,f=l.options,d=f===void 0?{}:f,p=l.onBlur,g=l.onFocus,v=l.onReady,y=l.onChange,x=l.onEscape,_=l.onClick,w=l.onLoadError,A=l.onLoaderStart,M=l.onNetworksChange,E=l.onCheckout,R=l.onLineItemClick,C=l.onConfirm,T=l.onCancel,D=l.onShippingAddressChange,L=l.onShippingRateChange,F=rO("mounts <".concat(r,">")),N=F.elements,k=Q.useState(null),H=ume(k,2),W=H[0],Y=H[1],z=Q.useRef(null),U=Q.useRef(null),V=iO("mounts <".concat(r,">")),G=V.setCart,X=V.setCartState;hi(W,"blur",p),hi(W,"focus",g),hi(W,"escape",x),hi(W,"click",_),hi(W,"loaderror",w),hi(W,"loaderstart",A),hi(W,"networkschange",M),hi(W,"lineitemclick",R),hi(W,"confirm",C),hi(W,"cancel",T),hi(W,"shippingaddresschange",D),hi(W,"shippingratechange",L);var te;e==="cart"?te=function(de){X(de),v&&v(de)}:v&&(e==="payButton"?te=v:te=function(){v(W)}),hi(W,"ready",te);var re=e==="cart"?function(oe){X(oe),y&&y(oe)}:y;hi(W,"change",re);var se=e==="cart"?function(oe){X(oe),E&&E(oe)}:E;hi(W,"checkout",se),Q.useLayoutEffect(function(){if(z.current===null&&N&&U.current!==null){var oe=N.create(e,d);e==="cart"&&G&&G(oe),z.current=oe,Y(oe),oe.mount(U.current)}},[N,d,G]);var q=mme(d);return Q.useEffect(function(){if(z.current){var oe=vme(d,q,["paymentRequest"]);oe&&z.current.update(oe)}},[d,q]),Q.useLayoutEffect(function(){return function(){z.current&&(z.current.destroy(),z.current=null)}},[]),Q.createElement("div",{id:c,className:u,ref:U})},s=function(l){rO("mounts <".concat(r,">")),iO("mounts <".concat(r,">"));var c=l.id,u=l.className;return Q.createElement("div",{id:c,className:u})},o=t?s:i;return o.propTypes={id:dt.string,className:dt.string,onChange:dt.func,onBlur:dt.func,onFocus:dt.func,onReady:dt.func,onEscape:dt.func,onClick:dt.func,onLoadError:dt.func,onLoaderStart:dt.func,onNetworksChange:dt.func,onCheckout:dt.func,onLineItemClick:dt.func,onConfirm:dt.func,onCancel:dt.func,onShippingAddressChange:dt.func,onShippingRateChange:dt.func,options:dt.object},o.displayName=r,o.__elementType=e,o},lr=typeof window>"u";ar("auBankAccount",lr);var wme=ar("card",lr);ar("cardNumber",lr);ar("cardExpiry",lr);ar("cardCvc",lr);ar("fpxBank",lr);ar("iban",lr);ar("idealBank",lr);ar("p24Bank",lr);ar("epsBank",lr);ar("payment",lr);ar("payButton",lr);ar("paymentRequestButton",lr);ar("linkAuthentication",lr);ar("address",lr);ar("shippingAddress",lr);ar("cart",lr);ar("paymentMethodMessaging",lr);ar("affirmMessage",lr);ar("afterpayClearpayMessage",lr);var CT=Object.defineProperty,Sme=Object.getOwnPropertyDescriptor,Ame=Object.getOwnPropertyNames,bme=Object.prototype.hasOwnProperty,Mme=(n,e)=>{for(var t in e)CT(n,t,{get:e[t],enumerable:!0})},Cme=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ame(e))!bme.call(n,i)&&i!==t&&CT(n,i,{get:()=>e[i],enumerable:!(r=Sme(e,i))||r.enumerable});return n},Eme=n=>Cme(CT({},"__esModule",{value:!0}),n),sO=(n,e,t)=>new Promise((r,i)=>{var s=l=>{try{a(t.next(l))}catch(c){i(c)}},o=l=>{try{a(t.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((t=t.apply(n,e)).next())}),I8={};Mme(I8,{SubmissionError:()=>du,appendExtraData:()=>l1,createClient:()=>L8,getDefaultClient:()=>Jme,isSubmissionError:()=>Fme});var CC=Eme(I8),Kl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Tme=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;function Pme(n){n=String(n);for(var e,t,r,i,s="",o=0,a=n.length%3;o<n.length;){if((t=n.charCodeAt(o++))>255||(r=n.charCodeAt(o++))>255||(i=n.charCodeAt(o++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");e=t<<16|r<<8|i,s+=Kl.charAt(e>>18&63)+Kl.charAt(e>>12&63)+Kl.charAt(e>>6&63)+Kl.charAt(e&63)}return a?s.slice(0,a-3)+"===".substring(a):s}function Rme(n){if(n=String(n).replace(/[\t\n\f\r ]+/g,""),!Tme.test(n))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");n+="==".slice(2-(n.length&3));for(var e,t="",r,i,s=0;s<n.length;)e=Kl.indexOf(n.charAt(s++))<<18|Kl.indexOf(n.charAt(s++))<<12|(r=Kl.indexOf(n.charAt(s++)))<<6|(i=Kl.indexOf(n.charAt(s++))),t+=r===64?String.fromCharCode(e>>16&255):i===64?String.fromCharCode(e>>16&255,e>>8&255):String.fromCharCode(e>>16&255,e>>8&255,e&255);return t}var Dme=()=>navigator.webdriver||!!document.documentElement.getAttribute(Rme("d2ViZHJpdmVy"))||!!window.callPhantom||!!window._phantom,Bme=class{constructor(){this.loadedAt=Date.now(),this.webdriver=Dme()}data(){return{loadedAt:this.loadedAt,webdriver:this.webdriver}}},Ime=class{constructor(n){this.kind="success",this.next=n.next}};function Lme(n){return"next"in n&&typeof n.next=="string"}var kme=class{constructor(n,e){this.paymentIntentClientSecret=n,this.resubmitKey=e,this.kind="stripePluginPending"}};function Ome(n){if("stripe"in n&&"resubmitKey"in n&&typeof n.resubmitKey=="string"){let{stripe:e}=n;return typeof e=="object"&&e!=null&&"paymentIntentClientSecret"in e&&typeof e.paymentIntentClientSecret=="string"}return!1}function Fme(n){return n.kind==="error"}var du=class{constructor(...n){this.kind="error",this.formErrors=[],this.fieldErrors=new Map;var e;for(let t of n){if(!t.field){this.formErrors.push({code:t.code&&Nme(t.code)?t.code:"UNSPECIFIED",message:t.message});continue}let r=(e=this.fieldErrors.get(t.field))!=null?e:[];r.push({code:t.code&&zme(t.code)?t.code:"UNSPECIFIED",message:t.message}),this.fieldErrors.set(t.field,r)}}getFormErrors(){return[...this.formErrors]}getFieldErrors(n){var e;return(e=this.fieldErrors.get(n))!=null?e:[]}getAllFieldErrors(){return Array.from(this.fieldErrors)}};function Nme(n){return n in Ume}var Ume={BLOCKED:"BLOCKED",EMPTY:"EMPTY",FILES_TOO_BIG:"FILES_TOO_BIG",FORM_NOT_FOUND:"FORM_NOT_FOUND",INACTIVE:"INACTIVE",NO_FILE_UPLOADS:"NO_FILE_UPLOADS",PROJECT_NOT_FOUND:"PROJECT_NOT_FOUND",TOO_MANY_FILES:"TOO_MANY_FILES"};function zme(n){return n in Gme}var Gme={REQUIRED_FIELD_EMPTY:"REQUIRED_FIELD_EMPTY",REQUIRED_FIELD_MISSING:"REQUIRED_FIELD_MISSING",STRIPE_CLIENT_ERROR:"STRIPE_CLIENT_ERROR",STRIPE_SCA_ERROR:"STRIPE_SCA_ERROR",TYPE_EMAIL:"TYPE_EMAIL",TYPE_NUMERIC:"TYPE_NUMERIC",TYPE_TEXT:"TYPE_TEXT"};function Hme(n){return"errors"in n&&Array.isArray(n.errors)&&n.errors.every(e=>typeof e.message=="string")||"error"in n&&typeof n.error=="string"}var Vme="3.0.0",Wme=n=>Pme(JSON.stringify(n)),jme=n=>{let e=`@formspree/core@${Vme}`;return n?`${n} ${e}`:e};function l1(n,e,t){n instanceof FormData?n.append(e,t):n[e]=t}function $me(n){return n!==null&&typeof n=="object"}var Xme=class{constructor(n={}){this.project=n.project,this.stripe=n.stripe,typeof window<"u"&&(this.session=new Bme)}submitForm(n,e){return sO(this,arguments,function*(t,r,i={}){let s=i.endpoint||"https://formspree.io",o=this.project?`${s}/p/${this.project}/f/${t}`:`${s}/f/${t}`,a={Accept:"application/json","Formspree-Client":jme(i.clientName)};this.session&&(a["Formspree-Session-Data"]=Wme(this.session.data())),r instanceof FormData||(a["Content-Type"]="application/json");function l(u){return sO(this,null,function*(){try{let f=yield(yield fetch(o,{method:"POST",mode:"cors",body:u instanceof FormData?u:JSON.stringify(u),headers:a})).json();if($me(f)){if(Hme(f))return Array.isArray(f.errors)?new du(...f.errors):new du({message:f.error});if(Ome(f))return new kme(f.stripe.paymentIntentClientSecret,f.resubmitKey);if(Lme(f))return new Ime({next:f.next})}return new du({message:"Unexpected response format"})}catch(f){let d=f instanceof Error?f.message:`Unknown error while posting to Formspree: ${JSON.stringify(f)}`;return new du({message:d})}})}if(this.stripe&&i.createPaymentMethod){let u=yield i.createPaymentMethod();if(u.error)return new du({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Error creating payment method"});l1(r,"paymentMethod",u.paymentMethod.id);let f=yield l(r);if(f.kind==="error")return f;if(f.kind==="stripePluginPending"){let d=yield this.stripe.handleCardAction(f.paymentIntentClientSecret);if(d.error)return new du({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Stripe SCA error"});r instanceof FormData?r.delete("paymentMethod"):delete r.paymentMethod,l1(r,"paymentIntent",d.paymentIntent.id),l1(r,"resubmitKey",f.resubmitKey);let p=yield l(r);return oO(p),p}return f}let c=yield l(r);return oO(c),c})}};function oO(n){let{kind:e}=n;if(e!=="success"&&e!=="error")throw new Error(`Unexpected submission result (kind: ${e})`)}var L8=n=>new Xme(n),Jme=()=>(LA||(LA=L8()),LA),LA,aO={},Kme={get exports(){return aO},set exports(n){aO=n}},ET={};Object.defineProperty(ET,"__esModule",{value:!0});function c1(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c1=function(e){return typeof e}:c1=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c1(n)}var k8="https://js.stripe.com/v3",Yme=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,lO="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Qme=function(){for(var e=document.querySelectorAll('script[src^="'.concat(k8,'"]')),t=0;t<e.length;t++){var r=e[t];if(Yme.test(r.src))return r}return null},Zme=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(k8).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},qme=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"1.54.2",startTime:t})},Dy=null,ege=function(e){return Dy!==null||(Dy=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe&&e&&console.warn(lO),window.Stripe){t(window.Stripe);return}try{var i=Qme();i&&e?console.warn(lO):i||(i=Zme(e)),i.addEventListener("load",function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}),i.addEventListener("error",function(){r(new Error("Failed to load Stripe.js"))})}catch(s){r(s);return}})),Dy},tge=function(e,t,r){if(e===null)return null;var i=e.apply(void 0,t);return qme(i,r),i},cO=function(e){var t=`invalid load parameters; expected object of shape

    {advancedFraudSignals: boolean}

but received

    `.concat(JSON.stringify(e),`
`);if(e===null||c1(e)!=="object")throw new Error(t);if(Object.keys(e).length===1&&typeof e.advancedFraudSignals=="boolean")return e;throw new Error(t)},u1,EC=!1,O8=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];EC=!0;var i=Date.now();return ege(u1).then(function(s){return tge(s,t,i)})};O8.setLoadParameters=function(n){if(EC&&u1){var e=cO(n),t=Object.keys(e),r=t.reduce(function(i,s){var o;return i&&n[s]===((o=u1)===null||o===void 0?void 0:o[s])},!0);if(r)return}if(EC)throw new Error("You cannot change load parameters after calling loadStripe");u1=cO(n)};ET.loadStripe=O8;(function(n){n.exports=ET})(Kme);function uO(n){let{prefix:e,field:t,errors:r,...i}=n;if(r==null)return null;let s=t?r.getFieldErrors(t):r.getFormErrors();return s.length===0?null:Q.createElement("div",{...i},e?`${e} `:null,s.map(o=>o.message).join(", "))}var nge=Q.createContext(null);function rge(){return B.useContext(nge)??{client:CC.getDefaultClient()}}var ige="2.5.0",sge=`@formspree/react@${ige}`;function oge(n,e={}){let t=rge(),{client:r=t.client,extraData:i,onError:s,onSuccess:o,origin:a}=e,{stripe:l}=r,c=B.useMemo(()=>l==null?void 0:l.elements().getElement(wme),[l]);return async function(u){let f=age(u)?lge(u):u;if(typeof i=="object")for(let[p,g]of Object.entries(i)){let v;typeof g=="function"?v=await g():v=g,v!==void 0&&CC.appendExtraData(f,p,v)}let d=await r.submitForm(n,f,{endpoint:a,clientName:sge,createPaymentMethod:l&&c?()=>l.createPaymentMethod({type:"card",card:c,billing_details:cge(f)}):void 0});CC.isSubmissionError(d)?s==null||s(d):o==null||o(d)}}function age(n){return"preventDefault"in n&&typeof n.preventDefault=="function"}function lge(n){n.preventDefault();let e=n.currentTarget;if(e.tagName!="FORM")throw new Error("submit was triggered for a non-form element");return new FormData(e)}function cge(n){let e={address:uge(n)};for(let t of["name","email","phone"]){let r=n instanceof FormData?n.get(t):n[t];r&&typeof r=="string"&&(e[t]=r)}return e}function uge(n){let e={};for(let[t,r]of[["address_line1","line1"],["address_line2","line2"],["address_city","city"],["address_country","country"],["address_state","state"],["address_postal_code","postal_code"]]){let i=n instanceof FormData?n.get(t):n[t];i&&typeof i=="string"&&(e[r]=i)}return e}function fge(n,e={}){let[t,r]=B.useState(null),[i,s]=B.useState(null),[o,a]=B.useState(!1),[l,c]=B.useState(!1);if(!n)throw new Error('You must provide a form key or hashid (e.g. useForm("myForm") or useForm("123xyz")');let u=oge(n,{client:e.client,extraData:e.data,onError(f){r(f),a(!1),c(!1)},onSuccess(f){r(null),s(f),a(!1),c(!0)},origin:e.endpoint});return[{errors:t,result:i,submitting:o,succeeded:l},async function(f){a(!0),await u(f)},function(){r(null),s(null),a(!1),c(!1)}]}const dge="/mohithkumarss/assets/linkedin-2431086d.svg",hge="/mohithkumarss/assets/github-e173de53.svg",Ex=n=>{const{children:e,mobileTop:t}=n;return pe(Xd.section,{className:`h-screen w-screen p-8 max-w-screen-2xl mx-auto flex flex-col items-start ${t?"justify-start md:justify-center":"justify-center"}
  `,initial:{opacity:0,y:50},whileInView:{opacity:1,y:0,transition:{duration:1,delay:.6}},children:e})},pge=n=>{const{setSection:e}=n;return Ct("div",{className:"flex flex-col items-center w-screen",children:[pe(mge,{setSection:e}),pe(vge,{}),pe(yge,{}),pe(_ge,{})]})},mge=n=>{const{setSection:e}=n;return Ct(Ex,{mobileTop:!0,children:[Ct("h1",{className:"text-4xl md:text-5xl",children:[Ct("span",{className:"bg-white px-1 text-xl rounded",children:["Hi. I'm ",pe("br",{})]}),pe("span",{className:"bg-white px-1 text-6xl mt-5",children:"Mohith Kumar"})]}),Ct(Xd.p,{className:"text-gray-600 mt-5",initial:{opacity:0,y:25},whileInView:{opacity:1,y:0},transition:{duration:1,delay:1.5},children:[Ct("b",{className:"text-base",children:[" ","I'm a Software Engineering & Graphic Designer."]}),pe("br",{}),pe("b",{className:"text-sm",children:"Welcome to my Portfolio."})]}),pe(Xd.button,{onClick:()=>e(3),className:`bg-black text-white py-4 px-8 
      rounded-lg font-bold text-sm mt-4 md:mt-16`,initial:{opacity:0,y:25},whileInView:{opacity:1,y:0},transition:{duration:1,delay:2},children:"Contact"})]})},gge=[{title:"Adobe Illustrator",level:85},{title:"C / C++",level:90},{title:"Java",level:80},{title:"Python",level:60},{title:"HTML / CSS / SCSS",level:100},{title:"PHP",level:75},{title:"JavaScript",level:60},{title:"ReactJS & NodeJS",level:50}],vge=()=>pe(Ex,{children:Ct(Xd.div,{className:"w-full",whileInView:"visible",children:[pe("h2",{className:"text-3xl md:text-5xl font-bold text-white",children:"Skills"}),pe("div",{className:"mt-8 space-y-4",children:gge.map((n,e)=>Ct("div",{className:"w-full md:w-64",children:[pe(Xd.h3,{className:"text-lg md:text-xl font-bold text-gray-100",initial:{opacity:0},variants:{visible:{opacity:1,transition:{duration:1,delay:1+e*.2}}},children:n.title}),pe("div",{className:"h-2 w-full bg-gray-200 rounded-full mt-2",children:pe(Xd.div,{className:"h-full bg-indigo-500 rounded-full ",style:{width:`${n.level}%`},initial:{scaleX:0,originX:0},variants:{visible:{scaleX:1,transition:{duration:1,delay:1+e*.2}}}})})]},e))})]})}),yge=()=>{const[n,e]=T8(P8);return pe(Ex,{children:Ct("div",{className:"flex w-full h-full gap-8 items-center justify-center",children:[pe("button",{className:"hover:text-indigo-600 transition-colors",onClick:()=>{e((n-1+Rm.length)%Rm.length)},children:" Previous"}),pe("h2",{className:"text-3xl md:text-5xl font-bold",children:"Projects"}),pe("button",{className:"hover:text-indigo-600 transition-colors",onClick:()=>{e((n+1)%Rm.length)},children:"Next "})]})})},_ge=()=>{const[n,e]=fge("xeqbewea");return Ct(Ex,{children:[pe("h2",{className:"text-3xl md:text-5xl font-bold",children:"Contact me"}),Ct("div",{style:{display:"flex"},children:[pe("a",{href:"https://www.linkedin.com/in/mohithkumarss/",target:"_blank",children:pe("img",{src:dge,alt:"",style:{width:"3rem",margin:"1.5rem auto"}})}),pe("a",{href:"https://github.com/mohithkumarss",target:"_blank",children:pe("img",{src:hge,alt:"",style:{width:"3rem",margin:"1.5rem auto 0 1rem"}})})]}),pe("b",{children:"OR"}),pe("div",{className:"mt-8 p-8 rounded-md bg-white bg-opacity-50 w-96 max-w-full",children:n.succeeded?pe("p",{className:"text-gray-900 text-center",children:"Thanks for your message !"}):Ct("form",{onSubmit:e,children:[pe("label",{for:"name",className:"font-medium text-gray-900 block mb-1",children:"Name"}),pe("input",{type:"text",name:"name",id:"name",className:"block w-full rounded-md border-0 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 p-3"}),pe("label",{for:"email",className:"font-medium text-gray-900 block mb-1 mt-8",children:"Email"}),pe("input",{type:"email",name:"email",id:"email",className:"block w-full rounded-md border-0 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 p-3"}),pe(uO,{className:"mt-1 text-red-500",prefix:"Email",field:"email",errors:n.errors}),pe("label",{for:"email",className:"font-medium text-gray-900 block mb-1 mt-8",children:"Message"}),pe("textarea",{name:"message",id:"message",className:"h-32 block w-full rounded-md border-0 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 p-3"}),pe(uO,{className:"mt-1 text-red-500",errors:n.errors}),pe("button",{disabled:n.submitting,className:`bg-black text-white py-4 px-8 
              rounded-lg font-bold text-sm mt-4 md:mt-16`,children:"Submit"})]})})]})},xge=n=>{const{started:e,setStarted:t}=n,{progress:r,total:i,loaded:s,item:o}=kQ();return B.useEffect(()=>{console.log(r,i,s,o),r===100&&setTimeout(()=>{t(!0)},500)},[r,i,s,o]),pe("div",{className:`fixed top-0 left-0 w-full h-full z-50 transition-opacity duration-1000 pointer-events-none
  flex items-center justify-center bg-indigo-50 
  ${e?"opacity-0":"opacity-100"}`,children:Ct("div",{className:"text-4xl md:text-9xl font-bold text-indigo-900 relative",children:[pe("div",{className:"absolute left-0 top-0  overflow-hidden truncate text-clip transition-all duration-500",style:{width:`${r}%`},children:"MOHITH KUMAR"}),pe("div",{className:"opacity-40",children:"MOHITH KUMAR"})]})})},wge=n=>{const{onSectionChange:e,menuOpened:t,setMenuOpened:r}=n;return Ct(A_,{children:[Ct("button",{onClick:()=>r(!t),className:"z-20 fixed top-4 right-4 md:top-12 md:right-12 p-3 bg-indigo-600 w-11 h-11 rounded-md",children:[pe("div",{className:`bg-white h-0.5 rounded-md w-full transition-all ${t?"rotate-45  translate-y-0.5":""}`}),pe("div",{className:`bg-white h-0.5 rounded-md w-full my-1 ${t?"hidden":""}`}),pe("div",{className:`bg-white h-0.5 rounded-md w-full transition-all ${t?"-rotate-45":""}`})]}),pe("div",{className:`z-10 fixed top-0 right-0 bottom-0 bg-white transition-all overflow-hidden flex flex-col
      ${t?"w-full md:w-80":"w-0"}`,children:Ct("div",{className:"flex-1 flex items-start justify-center flex-col gap-6 p-8",children:[pe(By,{label:"About",onClick:()=>e(0)}),pe(By,{label:"Skills",onClick:()=>e(1)}),pe(By,{label:"Projects",onClick:()=>e(2)}),pe(By,{label:"Contact",onClick:()=>e(3)})]})})]})},By=n=>{const{label:e,onClick:t}=n;return pe("button",{onClick:t,className:"text-2xl font-bold cursor-pointer hover:text-indigo-600 transition-colors",children:e})},Sge=n=>{const{section:e,onSectionChange:t}=n,r=Qg(),i=B.useRef(0),s=B.useRef(!1);return r.fill.classList.add("top-0"),r.fill.classList.add("absolute"),B.useEffect(()=>{MT.to(r.el,{duration:1,scrollTop:e*r.el.clientHeight,onStart:()=>{s.current=!0},onComplete:()=>{s.current=!1}})},[e]),gs(()=>{if(s.current){i.current=r.scroll.current;return}const o=Math.floor(r.scroll.current*r.pages);r.scroll.current>i.current&&o===0&&t(1),r.scroll.current<i.current&&r.scroll.current<1/(r.pages-1)&&t(0),i.current=r.scroll.current}),null};function Age(){const[n,e]=B.useState(0),[t,r]=B.useState(!1),[i,s]=B.useState(!1);return B.useEffect(()=>{s(!1)},[n]),Ct(A_,{children:[pe(xge,{started:t,setStarted:r}),Ct(pse,{transition:{...uC},children:[Ct(LQ,{shadows:!0,camera:{position:[0,3,10],fov:42},children:[pe("color",{attach:"background",args:["#e6e7ff"]}),Ct(tZ,{pages:4,damping:.1,children:[pe(Sge,{section:n,onSectionChange:e}),pe(bB,{children:pe(B.Suspense,{children:t&&pe(cme,{section:n,menuOpened:i})})}),pe(bB,{html:!0,children:t&&pe(pge,{setSection:e})})]})]}),pe(wge,{onSectionChange:e,menuOpened:i,setMenuOpened:s}),pe(vhe,{})]}),pe(M6,{hidden:!0})]})}kA.createRoot(document.getElementById("root")).render(pe(Q.StrictMode,{children:pe(Age,{})}));
